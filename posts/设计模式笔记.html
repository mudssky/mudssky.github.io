<!DOCTYPE html><html><head><meta charSet="utf-8"/><link rel="icon" href="/favicon.ico"/><meta name="description" content="Learn how to build a personal website using Next.js"/><meta name="og:title" content="Next.js Sample Website"/><meta name="twitter:card" content="summary_large_image"/><meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0"/><title>è®¾è®¡æ¨¡å¼ç¬”è®°</title><meta name="next-head-count" content="7"/><link rel="preload" href="/_next/static/css/d2c490518fbb77084489.css" as="style"/><link rel="stylesheet" href="/_next/static/css/d2c490518fbb77084489.css" data-n-g=""/><link rel="preload" href="/_next/static/css/baf1dedd808a50ceb3ed.css" as="style"/><link rel="stylesheet" href="/_next/static/css/baf1dedd808a50ceb3ed.css" data-n-p=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-a54b4f32bdc1ef890ddd.js"></script><script src="/_next/static/chunks/webpack-61095c13c5984b221292.js" defer=""></script><script src="/_next/static/chunks/framework-2191d16384373197bc0a.js" defer=""></script><script src="/_next/static/chunks/main-655ad0ce567efa01caa9.js" defer=""></script><script src="/_next/static/chunks/pages/_app-02523805f1f9350d0682.js" defer=""></script><script src="/_next/static/chunks/996-00b4c4d5f8d80ac92fd3.js" defer=""></script><script src="/_next/static/chunks/326-9f57b3028ed8d83c7cdd.js" defer=""></script><script src="/_next/static/chunks/pages/posts/%5Bid%5D-dab50fe06171b6ccca81.js" defer=""></script><script src="/_next/static/FTNOlKU7vKy2Uzqh3jIuw/_buildManifest.js" defer=""></script><script src="/_next/static/FTNOlKU7vKy2Uzqh3jIuw/_ssgManifest.js" defer=""></script></head><body><div id="__next"><div><div style="max-width:1920px" class="m-auto"><div><div class="m-auto flex justify-between border-b-2 border-gray-50 h-12" style="max-width:1200px"><div class="w-16 flex items-center justify-center text-2xl text-blue-500"><a href="/">Blog</a></div><div class="flex w-3/4 justify-end space-x-6"><div class="flex items-center text-2xl font-mono  border-b-2 border-opacity-0 border-green-500 hover:border-opacity-100"><a href="/posts/test">test</a></div><a href="https://github.com/mudssky" target="_blank" rel="noreferrer" class="flex text-lg items-center text-gray-600 font-sans font-semibold">GitHub<span class="ml-1 mt-1"><svg class="fill-current text-gray-400" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="15" height="15"><path fill="none" d="M0 0h24v24H0z"></path><path d="M10 6v2H5v11h11v-5h2v6a1 1 0 0 1-1 1H4a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h6zm11-3v8h-2V6.413l-7.793 7.794-1.414-1.414L17.585 5H13V3h8z"></path></svg></span></a></div></div></div><main class="lg:w-full flex justify-center"><div class="w-full lg:w-auto  p-10 mt-5 ring-1 ring-gray-100 shadow-sm"><div class="text-xs text-gray-400 space-x-4 border-b-2 mb-2 shadow-xs"><span>2021.03.13 07:54:52</span><span>å­—æ•°: <!-- -->60393</span></div><div class="m-auto prose prose-indigo"><h1>design-patterns</h1>
<ul>
<li><a href="#design-patterns" target="_blank">design-patterns</a>
<ul>
<li><a href="#%E5%88%9B%E9%80%A0%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F" target="_blank">åˆ›é€ è®¾è®¡æ¨¡å¼</a>
<ul>
<li><a href="#1%E7%AE%80%E5%8D%95%E5%B7%A5%E5%8E%82%E6%A8%A1%E5%BC%8Fsimple-factory" target="_blank">1.ğŸ ç®€å•å·¥å‚æ¨¡å¼(Simple Factory)</a>
<ul>
<li><a href="#%E7%8E%B0%E5%AE%9E%E7%9A%84%E4%BE%8B%E5%AD%90" target="_blank">ç°å®çš„ä¾‹å­</a></li>
<li><a href="#%E7%AE%80%E5%8D%95%E6%80%BB%E7%BB%93" target="_blank">ç®€å•æ€»ç»“</a></li>
<li><a href="#%E7%BB%B4%E5%9F%BA%E7%99%BE%E7%A7%91%E6%8F%8F%E8%BF%B0" target="_blank">ç»´åŸºç™¾ç§‘æè¿°</a></li>
<li><a href="#typescript-example" target="_blank">typescript example</a></li>
</ul>
</li>
<li><a href="#2%E5%B7%A5%E5%8E%82%E6%96%B9%E6%B3%95%E6%A8%A1%E5%BC%8Ffactory-method" target="_blank">2.ğŸ­å·¥å‚æ–¹æ³•æ¨¡å¼(Factory Method)</a>
<ul>
<li><a href="#%E7%8E%B0%E5%AE%9E%E7%9A%84%E4%BE%8B%E5%AD%90-1" target="_blank">ç°å®çš„ä¾‹å­</a></li>
<li><a href="#%E7%AE%80%E5%8D%95%E6%80%BB%E7%BB%93-1" target="_blank">ç®€å•æ€»ç»“</a></li>
<li><a href="#%E7%BB%B4%E5%9F%BA%E7%99%BE%E7%A7%91%E7%9A%84%E6%8F%8F%E8%BF%B0" target="_blank">ç»´åŸºç™¾ç§‘çš„æè¿°</a></li>
<li><a href="#%E4%BC%98%E7%BC%BA%E7%82%B9" target="_blank">ä¼˜ç¼ºç‚¹</a></li>
<li><a href="#%E4%BC%AA%E4%BB%A3%E7%A0%81" target="_blank">ä¼ªä»£ç </a></li>
<li><a href="#typescript-example-1" target="_blank">typescript example</a></li>
</ul>
</li>
<li><a href="#3%E6%8A%BD%E8%B1%A1%E5%B7%A5%E5%8E%82%E6%A8%A1%E5%BC%8F--abstract-factory" target="_blank">3.ğŸ”¨æŠ½è±¡å·¥å‚æ¨¡å¼  Abstract Factory</a>
<ul>
<li><a href="#%E7%8E%B0%E5%AE%9E%E7%9A%84%E4%BE%8B%E5%AD%90-2" target="_blank">ç°å®çš„ä¾‹å­:</a></li>
<li><a href="#%E7%AE%80%E5%8D%95%E6%80%BB%E7%BB%93-2" target="_blank">ç®€å•æ€»ç»“</a></li>
<li><a href="#%E7%BB%B4%E5%9F%BA%E7%99%BE%E7%A7%91%E7%9A%84%E6%8F%8F%E8%BF%B0-1" target="_blank">ç»´åŸºç™¾ç§‘çš„æè¿°</a></li>
<li><a href="#%E4%BC%98%E7%BC%BA%E7%82%B9-1" target="_blank">ä¼˜ç¼ºç‚¹</a></li>
<li><a href="#typescript-example-2" target="_blank">typescript example</a></li>
</ul>
</li>
<li><a href="#4%E5%8D%95%E4%BE%8B%E6%A8%A1%E5%BC%8Fsingleton" target="_blank">4.ğŸ’å•ä¾‹æ¨¡å¼(Singleton)</a>
<ul>
<li><a href="#%E7%8E%B0%E5%AE%9E%E7%9A%84%E4%BE%8B%E5%AD%90-3" target="_blank">ç°å®çš„ä¾‹å­</a></li>
<li><a href="#%E7%AE%80%E5%8D%95%E6%80%BB%E7%BB%93-3" target="_blank">ç®€å•æ€»ç»“</a></li>
<li><a href="#%E7%BB%B4%E5%9F%BA%E7%99%BE%E7%A7%91%E7%9A%84%E6%8F%8F%E8%BF%B0-2" target="_blank">ç»´åŸºç™¾ç§‘çš„æè¿°</a></li>
<li><a href="#%E4%BC%98%E7%BC%BA%E7%82%B9-2" target="_blank">ä¼˜ç¼ºç‚¹</a></li>
<li><a href="#typescript-example-3" target="_blank">typescript example</a></li>
</ul>
</li>
<li><a href="#5%E7%94%9F%E6%88%90%E5%99%A8%E6%A8%A1%E5%BC%8Fbuilder" target="_blank">5.ğŸ‘·ç”Ÿæˆå™¨æ¨¡å¼(Builder)</a>
<ul>
<li><a href="#%E7%8E%B0%E5%AE%9E%E7%9A%84%E4%BE%8B%E5%AD%90-4" target="_blank">ç°å®çš„ä¾‹å­</a></li>
<li><a href="#%E7%AE%80%E5%8D%95%E6%80%BB%E7%BB%93-4" target="_blank">ç®€å•æ€»ç»“</a></li>
<li><a href="#%E4%BC%98%E7%BC%BA%E7%82%B9-3" target="_blank">ä¼˜ç¼ºç‚¹</a></li>
<li><a href="#typescript-example-4" target="_blank">typescript example</a></li>
</ul>
</li>
<li><a href="#6%E5%8E%9F%E5%9E%8B%E6%A8%A1%E5%BC%8Fprototype" target="_blank">6.ğŸ‘åŸå‹æ¨¡å¼(Prototype)</a>
<ul>
<li><a href="#%E7%8E%B0%E5%AE%9E%E7%9A%84%E4%BE%8B%E5%AD%90-5" target="_blank">ç°å®çš„ä¾‹å­</a></li>
<li><a href="#%E7%AE%80%E5%8D%95%E6%80%BB%E7%BB%93-5" target="_blank">ç®€å•æ€»ç»“</a></li>
<li><a href="#%E9%80%82%E5%90%88%E7%9A%84%E4%BD%BF%E7%94%A8%E5%9C%BA%E6%99%AF" target="_blank">é€‚åˆçš„ä½¿ç”¨åœºæ™¯</a></li>
<li><a href="#%E4%BC%98%E7%BC%BA%E7%82%B9-4" target="_blank">ä¼˜ç¼ºç‚¹</a></li>
<li><a href="#typescript-example-5" target="_blank">typescript example</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#%E7%BB%93%E6%9E%84%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F" target="_blank">ç»“æ„è®¾è®¡æ¨¡å¼</a>
<ul>
<li><a href="#1-%E8%A3%85%E9%A5%B0%E5%99%A8%E6%A8%A1%E5%BC%8Fdecorator" target="_blank">1.â˜• è£…é¥°å™¨æ¨¡å¼ï¼ˆDecoratorï¼‰</a>
<ul>
<li><a href="#%E7%8E%B0%E5%AE%9E%E7%9A%84%E4%BE%8B%E5%AD%90-6" target="_blank">ç°å®çš„ä¾‹å­</a></li>
<li><a href="#%E7%AE%80%E5%8D%95%E6%80%BB%E7%BB%93-6" target="_blank">ç®€å•æ€»ç»“</a></li>
<li><a href="#%E7%BB%B4%E5%9F%BA%E7%99%BE%E7%A7%91%E7%9A%84%E8%A7%A3%E9%87%8A" target="_blank">ç»´åŸºç™¾ç§‘çš„è§£é‡Š</a></li>
<li><a href="#%E4%BC%98%E7%BC%BA%E7%82%B9-5" target="_blank">ä¼˜ç¼ºç‚¹</a></li>
<li><a href="#typescript-example-6" target="_blank">typescript example</a></li>
</ul>
</li>
<li><a href="#2-%E9%80%82%E9%85%8D%E5%99%A8%E6%A8%A1%E5%BC%8Fadapter" target="_blank">2.ğŸ”Œ é€‚é…å™¨æ¨¡å¼(Adapter)</a>
<ul>
<li><a href="#%E7%8E%B0%E5%AE%9E%E7%9A%84%E4%BE%8B%E5%AD%90-7" target="_blank">ç°å®çš„ä¾‹å­</a></li>
<li><a href="#%E7%AE%80%E5%8D%95%E6%80%BB%E7%BB%93-7" target="_blank">ç®€å•æ€»ç»“</a></li>
<li><a href="#%E7%BB%B4%E5%9F%BA%E7%99%BE%E7%A7%91%E7%9A%84%E6%8F%8F%E8%BF%B0-3" target="_blank">ç»´åŸºç™¾ç§‘çš„æè¿°</a></li>
<li><a href="#%E4%BC%98%E7%BC%BA%E7%82%B9-6" target="_blank">ä¼˜ç¼ºç‚¹</a></li>
<li><a href="#typescript-example-7" target="_blank">typescript example</a></li>
</ul>
</li>
<li><a href="#3-%E5%A4%96%E8%A7%82%E6%A8%A1%E5%BC%8Ffacade" target="_blank">3.ğŸ“¦ å¤–è§‚æ¨¡å¼(Facade)</a>
<ul>
<li><a href="#%E7%8E%B0%E5%AE%9E%E7%9A%84%E4%BE%8B%E5%AD%90-8" target="_blank">ç°å®çš„ä¾‹å­</a></li>
<li><a href="#%E7%AE%80%E5%8D%95%E6%80%BB%E7%BB%93-8" target="_blank">ç®€å•æ€»ç»“</a></li>
<li><a href="#%E7%BB%B4%E5%9F%BA%E7%99%BE%E7%A7%91%E7%9A%84%E6%8F%8F%E8%BF%B0-4" target="_blank">ç»´åŸºç™¾ç§‘çš„æè¿°</a></li>
<li><a href="#%E4%BC%98%E7%BC%BA%E7%82%B9-7" target="_blank">ä¼˜ç¼ºç‚¹</a></li>
<li><a href="#typescript-example-8" target="_blank">typescript example</a></li>
</ul>
</li>
<li><a href="#4%E7%BB%84%E5%90%88%E6%A8%A1%E5%BC%8F-composite" target="_blank">4.ğŸŒ¿ç»„åˆæ¨¡å¼ (Composite)</a>
<ul>
<li><a href="#%E7%8E%B0%E5%AE%9E%E7%9A%84%E4%BE%8B%E5%AD%90-9" target="_blank">ç°å®çš„ä¾‹å­</a></li>
<li><a href="#%E7%AE%80%E5%8D%95%E6%80%BB%E7%BB%93-9" target="_blank">ç®€å•æ€»ç»“</a></li>
<li><a href="#%E7%BB%B4%E5%9F%BA%E7%99%BE%E7%A7%91%E7%9A%84%E8%A7%A3%E9%87%8A-1" target="_blank">ç»´åŸºç™¾ç§‘çš„è§£é‡Š</a></li>
<li><a href="#%E4%BC%98%E7%BC%BA%E7%82%B9-8" target="_blank">ä¼˜ç¼ºç‚¹</a></li>
<li><a href="#typescript-example-9" target="_blank">typescript example</a></li>
</ul>
</li>
<li><a href="#5-%E4%BB%A3%E7%90%86%E6%A8%A1%E5%BC%8Fproxy" target="_blank">5.ğŸ± ä»£ç†æ¨¡å¼(Proxy)</a>
<ul>
<li><a href="#%E7%8E%B0%E5%AE%9E%E7%9A%84%E4%BE%8B%E5%AD%90-10" target="_blank">ç°å®çš„ä¾‹å­</a></li>
<li><a href="#%E7%AE%80%E5%8D%95%E6%80%BB%E7%BB%93-10" target="_blank">ç®€å•æ€»ç»“</a></li>
<li><a href="#%E4%BC%98%E7%BC%BA%E7%82%B9-9" target="_blank">ä¼˜ç¼ºç‚¹</a></li>
<li><a href="#%E4%B8%8E%E5%85%B6%E4%BB%96%E6%A8%A1%E5%BC%8F%E7%9A%84%E8%81%94%E7%B3%BB" target="_blank">ä¸å…¶ä»–æ¨¡å¼çš„è”ç³»</a></li>
<li><a href="#typescript-example-10" target="_blank">typescript example</a></li>
</ul>
</li>
<li><a href="#6-%E6%A1%A5%E6%8E%A5%E6%A8%A1%E5%BC%8Fbridge" target="_blank">6.ğŸš¡ æ¡¥æ¥æ¨¡å¼(Bridge)</a>
<ul>
<li><a href="#%E7%8E%B0%E5%AE%9E%E7%9A%84%E4%BE%8B%E5%AD%90-11" target="_blank">ç°å®çš„ä¾‹å­</a></li>
<li><a href="#%E7%AE%80%E5%8D%95%E6%80%BB%E7%BB%93-11" target="_blank">ç®€å•æ€»ç»“</a></li>
<li><a href="#%E4%BC%98%E7%BC%BA%E7%82%B9-10" target="_blank">ä¼˜ç¼ºç‚¹</a></li>
<li><a href="#typescript-example-11" target="_blank">typescript example</a></li>
</ul>
</li>
<li><a href="#7%E4%BA%AB%E5%85%83%E6%A8%A1%E5%BC%8Fflyweight" target="_blank">7.ğŸƒäº«å…ƒæ¨¡å¼(Flyweight)</a>
<ul>
<li><a href="#%E7%8E%B0%E5%AE%9E%E7%9A%84%E4%BE%8B%E5%AD%90-12" target="_blank">ç°å®çš„ä¾‹å­</a></li>
<li><a href="#%E7%AE%80%E5%8D%95%E6%80%BB%E7%BB%93-12" target="_blank">ç®€å•æ€»ç»“</a></li>
<li><a href="#%E7%BB%B4%E5%9F%BA%E7%99%BE%E7%A7%91%E7%9A%84%E8%A7%A3%E9%87%8A-2" target="_blank">ç»´åŸºç™¾ç§‘çš„è§£é‡Š</a></li>
<li><a href="#%E4%BC%98%E7%BC%BA%E7%82%B9-11" target="_blank">ä¼˜ç¼ºç‚¹</a></li>
<li><a href="#typescript-example-12" target="_blank">typescript example</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#%E8%A1%8C%E4%B8%BA%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F" target="_blank">è¡Œä¸ºè®¾è®¡æ¨¡å¼</a>
<ul>
<li><a href="#1%E7%AD%96%E7%95%A5%E6%A8%A1%E5%BC%8Fstrategy" target="_blank">1.ğŸ’¡ç­–ç•¥æ¨¡å¼(Strategy)</a>
<ul>
<li><a href="#%E7%8E%B0%E5%AE%9E%E4%BE%8B%E5%AD%90" target="_blank">ç°å®ä¾‹å­</a></li>
<li><a href="#%E7%AE%80%E5%8D%95%E6%80%BB%E7%BB%93-13" target="_blank">ç®€å•æ€»ç»“</a></li>
<li><a href="#%E4%BC%98%E7%BC%BA%E7%82%B9-12" target="_blank">ä¼˜ç¼ºç‚¹</a></li>
<li><a href="#typescript-example-13" target="_blank">typescript example</a></li>
<li><a href="#golang-example" target="_blank">golang example</a></li>
<li><a href="#dart-example" target="_blank">dart example</a></li>
</ul>
</li>
<li><a href="#2%E8%A7%82%E5%AF%9F%E8%80%85%E6%A8%A1%E5%BC%8Fobserver" target="_blank">2.ğŸ˜è§‚å¯Ÿè€…æ¨¡å¼(Observer)</a>
<ul>
<li><a href="#%E7%8E%B0%E5%AE%9E%E4%BE%8B%E5%AD%90-1" target="_blank">ç°å®ä¾‹å­</a></li>
<li><a href="#%E7%AE%80%E5%8D%95%E6%80%BB%E7%BB%93-14" target="_blank">ç®€å•æ€»ç»“</a></li>
<li><a href="#%E7%BB%B4%E5%9F%BA%E7%99%BE%E7%A7%91%E7%9A%84%E6%8F%8F%E8%BF%B0-5" target="_blank">ç»´åŸºç™¾ç§‘çš„æè¿°</a></li>
<li><a href="#%E4%BC%98%E7%BC%BA%E7%82%B9-13" target="_blank">ä¼˜ç¼ºç‚¹</a></li>
<li><a href="#typescript-example-14" target="_blank">typescript example</a></li>
<li><a href="#dart-example-1" target="_blank">dart example</a></li>
<li><a href="#golang-example-1" target="_blank">golang example</a></li>
</ul>
</li>
<li><a href="#3%E5%91%BD%E4%BB%A4%E6%A8%A1%E5%BC%8Fcommand" target="_blank">3.ğŸ‘®å‘½ä»¤æ¨¡å¼(Command)</a>
<ul>
<li><a href="#%E7%9C%9F%E5%AE%9E%E4%B8%96%E7%95%8C%E7%9A%84%E4%BE%8B%E5%AD%90" target="_blank">çœŸå®ä¸–ç•Œçš„ä¾‹å­</a></li>
<li><a href="#%E7%AE%80%E5%8D%95%E6%80%BB%E7%BB%93-15" target="_blank">ç®€å•æ€»ç»“</a></li>
<li><a href="#%E7%BB%B4%E5%9F%BA%E7%99%BE%E7%A7%91%E7%9A%84%E8%A7%A3%E9%87%8A-3" target="_blank">ç»´åŸºç™¾ç§‘çš„è§£é‡Š</a></li>
<li><a href="#%E4%BC%98%E7%BC%BA%E7%82%B9-14" target="_blank">ä¼˜ç¼ºç‚¹</a></li>
<li><a href="#typescript-example-15" target="_blank">typescript example</a></li>
</ul>
</li>
<li><a href="#4-%E6%A8%A1%E6%9D%BF%E6%96%B9%E6%B3%95template-method" target="_blank">4.ğŸ“’ æ¨¡æ¿æ–¹æ³•(Template Method)</a>
<ul>
<li><a href="#%E7%9C%9F%E5%AE%9E%E4%B8%96%E7%95%8C%E7%9A%84%E4%BE%8B%E5%AD%90-1" target="_blank">çœŸå®ä¸–ç•Œçš„ä¾‹å­</a></li>
<li><a href="#%E7%AE%80%E5%8D%95%E6%80%BB%E7%BB%93-16" target="_blank">ç®€å•æ€»ç»“</a></li>
<li><a href="#%E7%BB%B4%E5%9F%BA%E7%99%BE%E7%A7%91%E7%9A%84%E6%8F%8F%E8%BF%B0-6" target="_blank">ç»´åŸºç™¾ç§‘çš„æè¿°</a></li>
<li><a href="#%E4%BC%98%E7%BC%BA%E7%82%B9-15" target="_blank">ä¼˜ç¼ºç‚¹</a></li>
<li><a href="#typescript-example-16" target="_blank">typescript example</a></li>
</ul>
</li>
<li><a href="#5%E8%BF%AD%E4%BB%A3%E5%99%A8%E6%A8%A1%E5%BC%8F-iterator" target="_blank">5.â¿è¿­ä»£å™¨æ¨¡å¼ (Iterator)</a>
<ul>
<li><a href="#%E7%8E%B0%E5%AE%9E%E7%9A%84%E4%BE%8B%E5%AD%90-13" target="_blank">ç°å®çš„ä¾‹å­</a></li>
<li><a href="#%E7%AE%80%E5%8D%95%E6%80%BB%E7%BB%93-17" target="_blank">ç®€å•æ€»ç»“</a></li>
<li><a href="#%E7%BB%B4%E5%9F%BA%E7%99%BE%E7%A7%91%E7%9A%84%E8%A7%A3%E9%87%8A-4" target="_blank">ç»´åŸºç™¾ç§‘çš„è§£é‡Š</a></li>
<li><a href="#%E4%BC%98%E7%BC%BA%E7%82%B9-16" target="_blank">ä¼˜ç¼ºç‚¹</a></li>
<li><a href="#typescript-example-17" target="_blank">typescript example</a></li>
</ul>
</li>
<li><a href="#6-%E7%8A%B6%E6%80%81%E6%A8%A1%E5%BC%8Fstate" target="_blank">6.ğŸ’¢ çŠ¶æ€æ¨¡å¼(State)</a>
<ul>
<li><a href="#%E7%8E%B0%E5%AE%9E%E7%9A%84%E4%BE%8B%E5%AD%90-14" target="_blank">ç°å®çš„ä¾‹å­</a></li>
<li><a href="#%E7%AE%80%E5%8D%95%E6%80%BB%E7%BB%93-18" target="_blank">ç®€å•æ€»ç»“</a></li>
<li><a href="#%E7%BB%B4%E5%9F%BA%E7%99%BE%E7%A7%91%E7%9A%84%E8%A7%A3%E9%87%8A-5" target="_blank">ç»´åŸºç™¾ç§‘çš„è§£é‡Š</a></li>
<li><a href="#%E4%BC%98%E7%BC%BA%E7%82%B9-17" target="_blank">ä¼˜ç¼ºç‚¹</a></li>
<li><a href="#%E4%B8%8E%E5%85%B6%E4%BB%96%E6%A8%A1%E5%BC%8F%E7%9A%84%E5%85%B3%E7%B3%BB" target="_blank">ä¸å…¶ä»–æ¨¡å¼çš„å…³ç³»</a></li>
<li><a href="#typescript-example-18" target="_blank">typescript example</a></li>
</ul>
</li>
<li><a href="#7%E8%B4%A3%E4%BB%BB%E9%93%BE%E6%A8%A1%E5%BC%8F-chain-of-responsibility" target="_blank">7.ğŸ”—è´£ä»»é“¾æ¨¡å¼ Chain of Responsibility</a>
<ul>
<li><a href="#%E7%8E%B0%E5%AE%9E%E7%9A%84%E4%BE%8B%E5%AD%90-15" target="_blank">ç°å®çš„ä¾‹å­</a></li>
<li><a href="#%E7%AE%80%E5%8D%95%E6%80%BB%E7%BB%93-19" target="_blank">ç®€å•æ€»ç»“</a></li>
<li><a href="#%E4%BC%98%E7%BC%BA%E7%82%B9-18" target="_blank">ä¼˜ç¼ºç‚¹</a></li>
<li><a href="#typescript-example-19" target="_blank">typescript example</a></li>
</ul>
</li>
<li><a href="#8%E4%B8%AD%E4%BB%8B%E8%80%85%E6%A8%A1%E5%BC%8Fmediator" target="_blank">8.ğŸ‘½ä¸­ä»‹è€…æ¨¡å¼(Mediator)</a>
<ul>
<li><a href="#%E7%8E%B0%E5%AE%9E%E7%9A%84%E4%BE%8B%E5%AD%90-16" target="_blank">ç°å®çš„ä¾‹å­</a></li>
<li><a href="#%E7%AE%80%E5%8D%95%E6%80%BB%E7%BB%93-20" target="_blank">ç®€å•æ€»ç»“</a></li>
<li><a href="#%E4%BC%98%E7%BC%BA%E7%82%B9-19" target="_blank">ä¼˜ç¼ºç‚¹</a></li>
<li><a href="#typescript-example-20" target="_blank">typescript example</a></li>
</ul>
</li>
<li><a href="#9%E5%A4%87%E5%BF%98%E5%BD%95%E6%A8%A1%E5%BC%8Fmemento" target="_blank">9.ğŸ’¾å¤‡å¿˜å½•æ¨¡å¼(Memento)</a>
<ul>
<li><a href="#%E7%8E%B0%E5%AE%9E%E7%9A%84%E4%BE%8B%E5%AD%90-17" target="_blank">ç°å®çš„ä¾‹å­</a></li>
<li><a href="#%E7%AE%80%E5%8D%95%E6%80%BB%E7%BB%93-21" target="_blank">ç®€å•æ€»ç»“</a></li>
<li><a href="#%E9%80%82%E5%90%88%E7%9A%84%E4%BD%BF%E7%94%A8%E5%9C%BA%E6%99%AF-1" target="_blank">é€‚åˆçš„ä½¿ç”¨åœºæ™¯</a></li>
<li><a href="#%E4%BC%98%E7%BC%BA%E7%82%B9-20" target="_blank">ä¼˜ç¼ºç‚¹</a></li>
<li><a href="#typescript-example-21" target="_blank">typescript example</a></li>
</ul>
</li>
<li><a href="#10%E8%AE%BF%E9%97%AE%E8%80%85%E6%A8%A1%E5%BC%8Fvisitor" target="_blank">10.ğŸƒè®¿é—®è€…æ¨¡å¼(Visitor)</a>
<ul>
<li><a href="#%E7%8E%B0%E5%AE%9E%E7%9A%84%E4%BE%8B%E5%AD%90-18" target="_blank">ç°å®çš„ä¾‹å­</a></li>
<li><a href="#%E7%AE%80%E5%8D%95%E6%80%BB%E7%BB%93-22" target="_blank">ç®€å•æ€»ç»“</a></li>
<li><a href="#%E4%BC%98%E7%BC%BA%E7%82%B9-21" target="_blank">ä¼˜ç¼ºç‚¹</a></li>
<li><a href="#typescript-example-22" target="_blank">typescript example</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<p>è®¾è®¡æ¨¡å¼çš„ç±»å‹</p>
<ul>
<li>
<p>åˆ›é€ å‹ ï¼ˆCreationalï¼‰</p>
</li>
<li>
<p>ç»“æ„å‹ï¼ˆStructuralï¼‰</p>
</li>
<li>
<p>è¡Œä¸ºå‹ï¼ˆBehavioralï¼‰</p>
</li>
</ul>
<h2>åˆ›é€ è®¾è®¡æ¨¡å¼</h2>
<p>åˆ›é€ å‹è®¾è®¡æ¨¡å¼çš„å…³æ³¨ç‚¹æ˜¯å¦‚ä½•å®ä¾‹åŒ–ä¸€ä¸ªæˆ–æ˜¯ä¸€ç»„å…³è”çš„å¯¹è±¡ã€‚</p>
<p>åˆ›é€ å‹æœ‰ä¸‹é¢å‡ ä¸ªä¾‹å­</p>
<ul>
<li>Simple Factory</li>
<li>Factory Method</li>
<li>Abstract Factory</li>
<li>Builder</li>
<li>Prototype</li>
<li>Singleton</li>
</ul>
<h3>1.ğŸ ç®€å•å·¥å‚æ¨¡å¼(Simple Factory)</h3>
<h4>ç°å®çš„ä¾‹å­</h4>
<p>æƒ³è±¡ä½ è¦é€ ä¸€æ‰€æˆ¿å­ï¼Œä½ éœ€è¦ä¸€äº›é—¨ï¼Œä½ å¯ä»¥è‡ªå·±å‡†å¤‡æœ¨å¤´,èƒ¶æ°´,ä½ çš„æœ¨åŒ è£…å¤‡ç­‰ç­‰ï¼Œä½ ä¹Ÿå¯ä»¥æŠŠå·¥ä½œå¤–åŒ…ç»™å·¥å‚ï¼Œè®©å¤–åŒ…åˆ¶é€ å¥½é—¨ç›´æ¥äº¤ä»˜ç»™ä½ ï¼Œè¿™æ ·ä½ å°±ä¸ç”¨äº†è§£åˆ¶é€ é—¨çš„ç»†èŠ‚äº†ï¼Œä¹Ÿä¸ä¼šå› ä¸ºåœ¨å®¶é‡Œæ–½å·¥è€Œæå¾—ä¸€å›¢ç³Ÿã€‚</p>
<h4>ç®€å•æ€»ç»“</h4>
<p>ç®€å•å·¥å‚æ¨¡å¼å°è£…äº†ç”Ÿæˆå®ä¾‹çš„æ–¹æ³•ï¼Œè¿™æ ·ç”¨æˆ·å°±å¯ä»¥ç›´æ¥è°ƒç”¨è¿™ä¸ªæ–¹æ³•ï¼Œä¸éœ€è¦çŸ¥é“åˆ›é€ å®ä¾‹çš„é€»è¾‘ã€‚</p>
<p>(ç®€å•å·¥å‚å®é™…ä¸Šä¸ç®—æ˜¯ä¸€ç§è®¾è®¡æ¨¡å¼,ç›¸å¯¹äºåç»­ä»‹ç»çš„å·¥å‚æ–¹æ³•æ¥è¯´.)</p>
<h4>ç»´åŸºç™¾ç§‘æè¿°</h4>
<p>åœ¨é¢å‘å¯¹è±¡ç¼–ç¨‹(OOP)ä¸­ï¼Œå·¥å‚æ˜¯ç”¨äºåˆ›å»ºå…¶ä»–å¯¹è±¡çš„å¯¹è±¡ï¼Œå½¢å¼ä¸Šå·¥å‚æ˜¯ä¸€ä¸ªå‡½æ•°æˆ–æ–¹æ³•ï¼Œå®ƒä»æŸä¸ªæ–¹æ³•è°ƒç”¨ä¸­è¿”å›ä¸åŒåŸå‹æˆ–ç±»çš„å¯¹è±¡ï¼ˆè¿™æ ·æˆ‘ä»¬å°±ä¸ç”¨newè¿™äº›å¯¹è±¡æ¥æ‰‹åŠ¨åˆ›å»ºäº†ï¼‰</p>
<h4>typescript example</h4>
<pre><code class="language-typescript">interface Door {
  getWidth(): number
  getHeight(): number
}
class WoodenDoor implements Door {
  protected width: number
  protected height: number
  constructor(width: number, height: number) {
    this.width = width
    this.height = height
  }
  getWidth(): number {
    return this.width
  }
  getHeight(): number {
    return this.height
  }
  deescribe() {
    console.log(`width:${this.getWidth()},height:${this.getHeight()}`)
  }
}
class DoorFactory {
  static makeDoor(width: number, height: number): WoodenDoor {
    return new WoodenDoor(width, height)
  }
}

const door = DoorFactory.makeDoor(100, 200)
door.deescribe()
const door2 = DoorFactory.makeDoor(300, 500)
door2.deescribe()

</code></pre>
<h3>2.ğŸ­å·¥å‚æ–¹æ³•æ¨¡å¼(Factory Method)</h3>
<p><strong>äº¦ç§°ï¼š</strong> è™šæ‹Ÿæ„é€ å‡½æ•°ã€Virtual Constructor</p>
<h4>ç°å®çš„ä¾‹å­</h4>
<p>è€ƒè™‘ä¸€ä¸ªHRæ‹›äººé¢è¯•çš„ä¾‹å­,ä¸å¯èƒ½æ¯ä¸ªèŒä½éƒ½ç”±ä¸€ä¸ªäººæ¥é¢è¯•ã€‚æ ¹æ®èŒä½ç©ºç¼ºï¼Œå¥¹å¿…é¡»å†³å®šå¹¶æŠŠé¢è¯•æ­¥éª¤å§”æ´¾ç»™ä¸åŒçš„äººã€‚</p>
<h4>ç®€å•æ€»ç»“</h4>
<p>å·¥å‚æ–¹æ³•æ¨¡å¼æä¾›äº†ä¸€ç§å°†å®ä¾‹åŒ–é€»è¾‘å§”æ‰˜ç»™å­ç±»çš„æ–¹æ³•ã€‚</p>
<h4>ç»´åŸºç™¾ç§‘çš„æè¿°</h4>
<p>åœ¨åŸºäºç±»çš„ç¼–ç¨‹ä¸­ï¼Œå·¥å‚æ–¹æ³•æ¨¡å¼æ˜¯ä¸€ç§åˆ›å»ºå·¥å‚æ–¹æ³•çš„åˆ›å»ºæ¨¡å¼ï¼Œå¯ä»¥å¤„ç†åˆ›å»ºå¯¹è±¡çš„é—®é¢˜è€Œæ— éœ€æŒ‡å®šå°†åˆ›å»ºçš„å¯¹è±¡çš„ç¡®åˆ‡ç±»åˆ«ã€‚ è¿™æ˜¯é€šè¿‡é€šè¿‡è°ƒç”¨åœ¨æ¥å£ä¸­æŒ‡å®šçš„å·¥å‚æ–¹æ³•æ¥åˆ›å»ºå¯¹è±¡æ¥å®Œæˆå¯¹è±¡ï¼Œå¹¶ç”±å­ç±»å®ç°ï¼Œæˆ–è€…åœ¨åŸºç±»ä¸­å®ç°ï¼Œå¹¶ä¸”å¯é€‰åœ°ç”±æ´¾ç”Ÿç±»è¦†ç›– - è€Œä¸æ˜¯é€šè¿‡è°ƒç”¨æ„é€ å‡½æ•°ã€‚</p>
<h4>ä¼˜ç¼ºç‚¹</h4>
<p><strong>ä¼˜ç‚¹</strong></p>
<ul>
<li>ä½ å¯ä»¥é¿å…åˆ›å»ºè€…å’Œå…·ä½“äº§å“ä¹‹é—´çš„ç´§å¯†è€¦åˆã€‚</li>
<li><em>å•ä¸€èŒè´£åŸåˆ™</em>ã€‚ ä½ å¯ä»¥å°†äº§å“åˆ›å»ºä»£ç æ”¾åœ¨ç¨‹åºçš„å•ä¸€ä½ç½®ï¼Œ ä»è€Œä½¿å¾—ä»£ç æ›´å®¹æ˜“ç»´æŠ¤ã€‚</li>
<li><em>å¼€é—­åŸåˆ™</em>ã€‚ æ— éœ€æ›´æ”¹ç°æœ‰å®¢æˆ·ç«¯ä»£ç ï¼Œ ä½ å°±å¯ä»¥åœ¨ç¨‹åºä¸­å¼•å…¥æ–°çš„äº§å“ç±»å‹ã€‚</li>
</ul>
<p><strong>ç¼ºç‚¹</strong></p>
<ul>
<li>åº”ç”¨å·¥å‚æ–¹æ³•æ¨¡å¼éœ€è¦å¼•å…¥è®¸å¤šæ–°çš„å­ç±»ï¼Œ ä»£ç å¯èƒ½ä¼šå› æ­¤å˜å¾—æ›´å¤æ‚ã€‚ æœ€å¥½çš„æƒ…å†µæ˜¯å°†è¯¥æ¨¡å¼å¼•å…¥åˆ›å»ºè€…ç±»çš„ç°æœ‰å±‚æ¬¡ç»“æ„ä¸­ã€‚</li>
</ul>
<h4>ä¼ªä»£ç </h4>
<pre><code class="language-javascript">// åˆ›å»ºè€…ç±»å£°æ˜çš„å·¥å‚æ–¹æ³•å¿…é¡»è¿”å›ä¸€ä¸ªäº§å“ç±»çš„å¯¹è±¡ã€‚åˆ›å»ºè€…çš„å­ç±»é€šå¸¸ä¼šæä¾›
// è¯¥æ–¹æ³•çš„å®ç°ã€‚
class Dialog is
    // åˆ›å»ºè€…è¿˜å¯æä¾›ä¸€äº›å·¥å‚æ–¹æ³•çš„é»˜è®¤å®ç°ã€‚
    abstract method createButton():Button

    // è¯·æ³¨æ„ï¼Œåˆ›å»ºè€…çš„ä¸»è¦èŒè´£å¹¶éæ˜¯åˆ›å»ºäº§å“ã€‚å…¶ä¸­é€šå¸¸ä¼šåŒ…å«ä¸€äº›æ ¸å¿ƒä¸šåŠ¡
    // é€»è¾‘ï¼Œè¿™äº›é€»è¾‘ä¾èµ–äºç”±å·¥å‚æ–¹æ³•è¿”å›çš„äº§å“å¯¹è±¡ã€‚å­ç±»å¯é€šè¿‡é‡å†™å·¥å‚æ–¹
    // æ³•å¹¶ä½¿å…¶è¿”å›ä¸åŒç±»å‹çš„äº§å“æ¥é—´æ¥ä¿®æ”¹ä¸šåŠ¡é€»è¾‘ã€‚
    method render() is
        // è°ƒç”¨å·¥å‚æ–¹æ³•åˆ›å»ºä¸€ä¸ªäº§å“å¯¹è±¡ã€‚
        Button okButton = createButton()
        // ç°åœ¨ä½¿ç”¨äº§å“ã€‚
        okButton.onClick(closeDialog)
        okButton.render()


// å…·ä½“åˆ›å»ºè€…å°†é‡å†™å·¥å‚æ–¹æ³•ä»¥æ”¹å˜å…¶æ‰€è¿”å›çš„äº§å“ç±»å‹ã€‚
class WindowsDialog extends Dialog is
    method createButton():Button is
        return new WindowsButton()

class WebDialog extends Dialog is
    method createButton():Button is
        return new HTMLButton()


// äº§å“æ¥å£ä¸­å°†å£°æ˜æ‰€æœ‰å…·ä½“äº§å“éƒ½å¿…é¡»å®ç°çš„æ“ä½œã€‚
interface Button is
    method render()
    method onClick(f)

// å…·ä½“äº§å“éœ€æä¾›äº§å“æ¥å£çš„å„ç§å®ç°ã€‚
class WindowsButton implements Button is
    method render(a, b) is
        // æ ¹æ® Windows æ ·å¼æ¸²æŸ“æŒ‰é’®ã€‚
    method onClick(f) is
        // ç»‘å®šæœ¬åœ°æ“ä½œç³»ç»Ÿç‚¹å‡»äº‹ä»¶ã€‚

class HTMLButton implements Button is
    method render(a, b) is
        // è¿”å›ä¸€ä¸ªæŒ‰é’®çš„ HTML è¡¨è¿°ã€‚
    method onClick(f) is
        // ç»‘å®šç½‘ç»œæµè§ˆå™¨çš„ç‚¹å‡»äº‹ä»¶ã€‚


class Application is
    field dialog: Dialog

    // ç¨‹åºæ ¹æ®å½“å‰é…ç½®æˆ–ç¯å¢ƒè®¾å®šé€‰æ‹©åˆ›å»ºè€…çš„ç±»å‹ã€‚
    method initialize() is
        config = readApplicationConfigFile()

        if (config.OS == &quot;Windows&quot;) then
            dialog = new WindowsDialog()
        else if (config.OS == &quot;Web&quot;) then
            dialog = new WebDialog()
        else
            throw new Exception(&quot;é”™è¯¯ï¼æœªçŸ¥çš„æ“ä½œç³»ç»Ÿã€‚&quot;)

    // å½“å‰å®¢æˆ·ç«¯ä»£ç ä¼šä¸å…·ä½“åˆ›å»ºè€…çš„å®ä¾‹è¿›è¡Œäº¤äº’ï¼Œä½†æ˜¯å¿…é¡»é€šè¿‡å…¶åŸºæœ¬æ¥å£
    // è¿›è¡Œã€‚åªè¦å®¢æˆ·ç«¯é€šè¿‡åŸºæœ¬æ¥å£ä¸åˆ›å»ºè€…è¿›è¡Œäº¤äº’ï¼Œä½ å°±å¯å°†ä»»ä½•åˆ›å»ºè€…å­
    // ç±»ä¼ é€’ç»™å®¢æˆ·ç«¯ã€‚
    method main() is
        this.initialize()
        dialog.render()
</code></pre>
<h4>typescript example</h4>
<p>ä¸‹é¢æ˜¯è¿™ä¸ªHRæ‰¾é¢è¯•å®˜ä¾‹å­çš„ä»£ç å®ç°</p>
<p>HiringManageræŠ½è±¡ç±»å°±æ˜¯å·¥å‚ç±»ï¼Œç›¸å½“äºç®€å•å·¥å‚çš„æƒ…å†µä¸‹ï¼ŒæŠŠè¿™ä¸ªå·¥å‚æ–¹æ³•å˜æŠ½è±¡ï¼Œè®©ç»™å¤–éƒ¨å»ç»§æ‰¿å®ç°å®ä¾‹åŒ–ã€‚</p>
<pre><code class="language-typescript">interface Interviewer {
  askQuestions(): void
}

class Developer implements Interviewer {
  askQuestions(): void {
    console.log(&#x27;ask about design patterns!&#x27;)
  }
}

class CommunityExecutive implements Interviewer {
  askQuestions(): void {
    console.log(&#x27;ask more about community building&#x27;)
  }
}

abstract class HiringManager {
  protected abstract makeInterviewer(): Interviewer
  takeInterview() {
    const interviewer = this.makeInterviewer()
    interviewer.askQuestions()
  }
}

class DevelopmentManager extends HiringManager {
  protected makeInterviewer(): Interviewer {
    return new Developer()
  }
}

class MarketingManager extends HiringManager {
  protected makeInterviewer(): Interviewer {
    return new CommunityExecutive()
  }
}

const devManager = new DevelopmentManager()
devManager.takeInterview()

const marketManager = new MarketingManager()
marketManager.takeInterview()

</code></pre>
<p>å¦ä¸€ä¸ªä¾‹å­</p>
<pre><code class="language-typescript">/**
 * The Creator class declares the factory method that is supposed to return an
 * object of a Product class. The Creator&#x27;s subclasses usually provide the
 * implementation of this method.
 */
abstract class Creator {
    /**
     * Note that the Creator may also provide some default implementation of the
     * factory method.
     */
    public abstract factoryMethod(): Product;

    /**
     * Also note that, despite its name, the Creator&#x27;s primary responsibility is
     * not creating products. Usually, it contains some core business logic that
     * relies on Product objects, returned by the factory method. Subclasses can
     * indirectly change that business logic by overriding the factory method
     * and returning a different type of product from it.
     */
    public someOperation(): string {
        // Call the factory method to create a Product object.
        const product = this.factoryMethod();
        // Now, use the product.
        return `Creator: The same creator&#x27;s code has just worked with ${product.operation()}`;
    }
}

/**
 * Concrete Creators override the factory method in order to change the
 * resulting product&#x27;s type.
 */
class ConcreteCreator1 extends Creator {
    /**
     * Note that the signature of the method still uses the abstract product
     * type, even though the concrete product is actually returned from the
     * method. This way the Creator can stay independent of concrete product
     * classes.
     */
    public factoryMethod(): Product {
        return new ConcreteProduct1();
    }
}

class ConcreteCreator2 extends Creator {
    public factoryMethod(): Product {
        return new ConcreteProduct2();
    }
}

/**
 * The Product interface declares the operations that all concrete products must
 * implement.
 */
interface Product {
    operation(): string;
}

/**
 * Concrete Products provide various implementations of the Product interface.
 */
class ConcreteProduct1 implements Product {
    public operation(): string {
        return &#x27;{Result of the ConcreteProduct1}&#x27;;
    }
}

class ConcreteProduct2 implements Product {
    public operation(): string {
        return &#x27;{Result of the ConcreteProduct2}&#x27;;
    }
}

/**
 * The client code works with an instance of a concrete creator, albeit through
 * its base interface. As long as the client keeps working with the creator via
 * the base interface, you can pass it any creator&#x27;s subclass.
 */
function clientCode(creator: Creator) {
    // ...
    console.log(&#x27;Client: I\&#x27;m not aware of the creator\&#x27;s class, but it still works.&#x27;);
    console.log(creator.someOperation());
    // ...
}

/**
 * The Application picks a creator&#x27;s type depending on the configuration or
 * environment.
 */
console.log(&#x27;App: Launched with the ConcreteCreator1.&#x27;);
clientCode(new ConcreteCreator1());
console.log(&#x27;&#x27;);

console.log(&#x27;App: Launched with the ConcreteCreator2.&#x27;);
clientCode(new ConcreteCreator2());
</code></pre>
<h3>3.ğŸ”¨æŠ½è±¡å·¥å‚æ¨¡å¼  Abstract Factory</h3>
<h4>ç°å®çš„ä¾‹å­:</h4>
<p>å›åˆ°ä¹‹é—´ä½¿ç”¨çš„ç®€å•å·¥å‚çš„é—¨çš„ä¾‹å­,æ‚¨å¯ä»¥ä»æœ¨é—¨å•†åº—å¾—åˆ°æœ¨é—¨ï¼Œé“é—¨å•†åº—æˆ–PVCé—¨ä»ç›¸å…³çš„å•†åº—ã€‚å¦å¤–ï¼Œä½ å¯èƒ½éœ€è¦ä¸€ä¸ªæœ‰ä¸åŒä¸“ä¸šçš„äººæ¥è£…é—¨ï¼Œä¾‹å¦‚æœ¨åŒ åšæœ¨é—¨ï¼Œç„Šå·¥åšé“é—¨ç­‰ã€‚æ­£å¦‚ä½ æ‰€çœ‹åˆ°çš„ï¼Œç°åœ¨é—¨ä¹‹é—´æœ‰ä¸€ä¸ªä¾èµ–å…³ç³»ï¼Œæœ¨é—¨éœ€è¦æœ¨åŒ ï¼Œé“é—¨éœ€è¦ç„Šå·¥ç­‰ç­‰ã€‚</p>
<h4>ç®€å•æ€»ç»“</h4>
<p>å·¥å‚çš„å·¥å‚,å°†ä¸ªåˆ«ä½†ç›¸å…³/ä¾èµ–çš„å·¥å‚åˆ†ç»„åœ¨ä¸€èµ·è€Œä¸æŒ‡å®šå®ƒä»¬çš„å…·ä½“ç±»çš„å·¥å‚ã€‚</p>
<h4>ç»´åŸºç™¾ç§‘çš„æè¿°</h4>
<p>æŠ½è±¡å·¥å‚æ¨¡å¼æä¾›äº†ä¸€ç§æ–¹å¼æ¥å°è£…ä¸€ç»„å…·æœ‰å…¬å…±ä¸»é¢˜çš„ç‹¬ç«‹å·¥å‚ï¼Œè€Œæ— éœ€æŒ‡å®šå®ƒä»¬çš„å…·ä½“ç±»</p>
<h4>ä¼˜ç¼ºç‚¹</h4>
<p><strong>ä¼˜ç‚¹</strong></p>
<ul>
<li>ä½ å¯ä»¥ç¡®ä¿åŒä¸€å·¥å‚ç”Ÿæˆçš„äº§å“ç›¸äº’åŒ¹é…ã€‚</li>
<li>ä½ å¯ä»¥é¿å…å®¢æˆ·ç«¯å’Œå…·ä½“äº§å“ä»£ç çš„è€¦åˆã€‚</li>
<li><em>å•ä¸€èŒè´£åŸåˆ™</em>ã€‚ ä½ å¯ä»¥å°†äº§å“ç”Ÿæˆä»£ç æŠ½å–åˆ°åŒä¸€ä½ç½®ï¼Œ ä½¿å¾—ä»£ç æ˜“äºç»´æŠ¤ã€‚</li>
<li><em>å¼€é—­åŸåˆ™</em>ã€‚ å‘åº”ç”¨ç¨‹åºä¸­å¼•å…¥æ–°äº§å“å˜ä½“æ—¶ï¼Œ ä½ æ— éœ€ä¿®æ”¹å®¢æˆ·ç«¯ä»£ç ã€‚</li>
</ul>
<p><strong>ç¼ºç‚¹</strong></p>
<ul>
<li>ç”±äºé‡‡ç”¨è¯¥æ¨¡å¼éœ€è¦å‘åº”ç”¨ä¸­å¼•å…¥ä¼—å¤šæ¥å£å’Œç±»ï¼Œ ä»£ç å¯èƒ½ä¼šæ¯”ä¹‹å‰æ›´åŠ å¤æ‚ã€‚</li>
</ul>
<h4>typescript example</h4>
<p>ä¸‹é¢æ˜¯è¿™ä¸ªæœ¨é—¨ä¾‹å­çš„typescriptä»£ç </p>
<pre><code class="language-typescript">interface Door {
  getDescription(): void
}

class WoodenDoor implements Door {
  getDescription(): void {
    console.log(&#x27;I am a wooden door&#x27;)
  }
}
class IronDoor implements Door {
  getDescription(): void {
    console.log(&#x27;i am an iron door&#x27;)
  }
}

interface DoorFittingExpert {
  getDescription(): void
}

class Welder implements DoorFittingExpert {
  getDescription(): void {
    console.log(&#x27;i can only fit iron doors&#x27;)
  }
}
class Carpenter implements DoorFittingExpert {
  getDescription(): void {
    console.log(&#x27;i can only fit wooden doors&#x27;)
  }
}
interface DoorFactory {
  makeDoor(): Door
  makeFittingExpert(): DoorFittingExpert
}
class WoodenDoorFactory implements DoorFactory {
  makeDoor(): Door {
    return new WoodenDoor()
  }
  makeFittingExpert(): DoorFittingExpert {
    return new Carpenter()
  }
}

class IronDoorFactory implements DoorFactory {
  makeDoor(): Door {
    return new IronDoor()
  }
  makeFittingExpert(): DoorFittingExpert {
    return new Welder()
  }
}

const woodenFactory = new WoodenDoorFactory()
const door = woodenFactory.makeDoor()
const expert = woodenFactory.makeFittingExpert()
door.getDescription()
expert.getDescription()
export {}

</code></pre>
<h3>4.ğŸ’å•ä¾‹æ¨¡å¼(Singleton)</h3>
<p><strong>äº¦ç§°ï¼š</strong> å•ä»¶æ¨¡å¼</p>
<h4>ç°å®çš„ä¾‹å­</h4>
<p>ä¸€ä¸ªå›½å®¶åªèƒ½æœ‰ä¸€ä¸ªæ€»ç»Ÿï¼Œæ€»ç»Ÿå§‹ç»ˆæ˜¯ä¸€ä¸ªã€‚</p>
<h4>ç®€å•æ€»ç»“</h4>
<p>ç¡®ä¿åªåˆ›å»ºç‰¹å®šç±»çš„ä¸€ä¸ªå¯¹è±¡ã€‚</p>
<h4>ç»´åŸºç™¾ç§‘çš„æè¿°</h4>
<p>åœ¨è½¯ä»¶å·¥ç¨‹ä¸­ï¼Œå•ä¾‹æ¨¡å¼æ˜¯ä¸€ç§è½¯ä»¶è®¾è®¡æ¨¡å¼ï¼Œå®ƒå°†ç±»çš„å®ä¾‹åŒ–é™åˆ¶åœ¨ä¸€ä¸ªå¯¹è±¡ä¸­ã€‚å½“åªéœ€è¦ä¸€ä¸ªå¯¹è±¡æ¥åè°ƒæ•´ä¸ªç³»ç»Ÿçš„æ“ä½œæ—¶ï¼Œè¿™å¾ˆæœ‰ç”¨ã€‚</p>
<p>å•ä¾‹æ¨¡å¼å®é™…ä¸Šè¢«è®¤ä¸ºæ˜¯åæ¨¡å¼ï¼Œåº”è¯¥é¿å…è¿‡åº¦ä½¿ç”¨å®ƒã€‚å®ƒå¹¶ä¸ä¸€å®šæ˜¯åçš„ï¼Œå¯èƒ½ä¼šæœ‰ä¸€äº›æœ‰æ•ˆçš„ç”¨ä¾‹ï¼Œä½†æ˜¯åº”è¯¥è°¨æ…ä½¿ç”¨ï¼Œå› ä¸ºå®ƒä¼šåœ¨åº”ç”¨ç¨‹åºä¸­å¼•å…¥ä¸€ä¸ªå…¨å±€çŠ¶æ€ï¼Œåœ¨ä¸€ä¸ªåœ°æ–¹å¯¹å®ƒçš„æ›´æ”¹å¯èƒ½ä¼šå½±å“åˆ°å…¶ä»–åŒºåŸŸï¼Œå¹¶ä¸”å®ƒå¯èƒ½å˜å¾—éå¸¸éš¾ä»¥è°ƒè¯•ã€‚å®ƒä»¬çš„å¦ä¸€ä¸ªç¼ºç‚¹æ˜¯å®ƒä½¿ä½ çš„ä»£ç ç´§å¯†è€¦åˆï¼Œå†åŠ ä¸Šmockå•ä¾‹å¯èƒ½ä¼šå¾ˆå›°éš¾ã€‚</p>
<h4>ä¼˜ç¼ºç‚¹</h4>
<p><strong>ä¼˜ç‚¹</strong></p>
<ul>
<li>ä½ å¯ä»¥ä¿è¯ä¸€ä¸ªç±»åªæœ‰ä¸€ä¸ªå®ä¾‹ã€‚</li>
<li>ä½ è·å¾—äº†ä¸€ä¸ªæŒ‡å‘è¯¥å®ä¾‹çš„å…¨å±€è®¿é—®èŠ‚ç‚¹ã€‚</li>
<li>ä»…åœ¨é¦–æ¬¡è¯·æ±‚å•ä¾‹å¯¹è±¡æ—¶å¯¹å…¶è¿›è¡Œåˆå§‹åŒ–ã€‚</li>
</ul>
<p><strong>ç¼ºç‚¹</strong></p>
<ul>
<li>è¿åäº†_å•ä¸€èŒè´£åŸåˆ™_ã€‚ è¯¥æ¨¡å¼åŒæ—¶è§£å†³äº†ä¸¤ä¸ªé—®é¢˜ã€‚</li>
<li>å•ä¾‹æ¨¡å¼å¯èƒ½æ©ç›–ä¸è‰¯è®¾è®¡ï¼Œ æ¯”å¦‚ç¨‹åºå„ç»„ä»¶ä¹‹é—´ç›¸äº’äº†è§£è¿‡å¤šç­‰ã€‚</li>
<li>è¯¥æ¨¡å¼åœ¨å¤šçº¿ç¨‹ç¯å¢ƒä¸‹éœ€è¦è¿›è¡Œç‰¹æ®Šå¤„ç†ï¼Œ é¿å…å¤šä¸ªçº¿ç¨‹å¤šæ¬¡åˆ›å»ºå•ä¾‹å¯¹è±¡ã€‚</li>
<li>å•ä¾‹çš„å®¢æˆ·ç«¯ä»£ç å•å…ƒæµ‹è¯•å¯èƒ½ä¼šæ¯”è¾ƒå›°éš¾ï¼Œ å› ä¸ºè®¸å¤šæµ‹è¯•æ¡†æ¶ä»¥åŸºäºç»§æ‰¿çš„æ–¹å¼åˆ›å»ºæ¨¡æ‹Ÿå¯¹è±¡ã€‚ ç”±äºå•ä¾‹ç±»çš„æ„é€ å‡½æ•°æ˜¯ç§æœ‰çš„ï¼Œ è€Œä¸”ç»å¤§éƒ¨åˆ†è¯­è¨€æ— æ³•é‡å†™é™æ€æ–¹æ³•ï¼Œ æ‰€ä»¥ä½ éœ€è¦æƒ³å‡ºä»”ç»†è€ƒè™‘æ¨¡æ‹Ÿå•ä¾‹çš„æ–¹æ³•ã€‚ è¦ä¹ˆå¹²è„†ä¸ç¼–å†™æµ‹è¯•ä»£ç ï¼Œ æˆ–è€…ä¸ä½¿ç”¨å•ä¾‹æ¨¡å¼ã€‚</li>
</ul>
<h4>typescript example</h4>
<pre><code class="language-typescript">class President {
  private static instance: President
  private constructor() {}
  static getInstance(): President {
    if (!this.instance) {
      this.instance = new this()
    }
    return this.instance
  }
}

const president1 = President.getInstance()
const president2 = President.getInstance()
console.log(president1 == president2)
</code></pre>
<h3>5.ğŸ‘·ç”Ÿæˆå™¨æ¨¡å¼(Builder)</h3>
<p><strong>äº¦ç§°ï¼š</strong> å»ºé€ è€…æ¨¡å¼</p>
<h4>ç°å®çš„ä¾‹å­</h4>
<p>ä¾‹å¦‚ï¼Œä½ æƒ³è¦ä¸€ä»½å®šåˆ¶çš„èµ›ç™¾å‘³å¥—é¤ï¼Œä½ å¯ä»¥é€‰æ‹©å‡ ç§æ±‰å ¡çš„åˆ¶ä½œæ–¹æ³•ï¼Œæ¯”å¦‚ä½ æƒ³è¦å“ªç§é¢åŒ…?æ‚¨å–œæ¬¢ä»€ä¹ˆé…±æ±?ä½ æƒ³è¦ä»€ä¹ˆå¥¶é…ª?ç­‰ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œæ„å»ºå™¨æ¨¡å¼å¯ä»¥æä¾›å¸®åŠ©ã€‚</p>
<h4>ç®€å•æ€»ç»“</h4>
<p><strong>ç”Ÿæˆå™¨æ¨¡å¼</strong>æ˜¯ä¸€ç§åˆ›å»ºå‹è®¾è®¡æ¨¡å¼ï¼Œ ä½¿ä½ èƒ½å¤Ÿåˆ†æ­¥éª¤åˆ›å»ºå¤æ‚å¯¹è±¡ã€‚ è¯¥æ¨¡å¼å…è®¸ä½ ä½¿ç”¨ç›¸åŒçš„åˆ›å»ºä»£ç ç”Ÿæˆä¸åŒç±»å‹å’Œå½¢å¼çš„å¯¹è±¡ã€‚</p>
<h4>ä¼˜ç¼ºç‚¹</h4>
<p><strong>ä¼˜ç‚¹</strong></p>
<ul>
<li>ä½ å¯ä»¥åˆ†æ­¥åˆ›å»ºå¯¹è±¡ï¼Œ æš‚ç¼“åˆ›å»ºæ­¥éª¤æˆ–é€’å½’è¿è¡Œåˆ›å»ºæ­¥éª¤ã€‚</li>
<li>ç”Ÿæˆä¸åŒå½¢å¼çš„äº§å“æ—¶ï¼Œ ä½ å¯ä»¥å¤ç”¨ç›¸åŒçš„åˆ¶é€ ä»£ç ã€‚</li>
<li><em>å•ä¸€èŒè´£åŸåˆ™</em>ã€‚ ä½ å¯ä»¥å°†å¤æ‚æ„é€ ä»£ç ä»äº§å“çš„ä¸šåŠ¡é€»è¾‘ä¸­åˆ†ç¦»å‡ºæ¥</li>
</ul>
<p><strong>ç¼ºç‚¹</strong></p>
<ul>
<li>ç”±äºè¯¥æ¨¡å¼éœ€è¦æ–°å¢å¤šä¸ªç±»ï¼Œ å› æ­¤ä»£ç æ•´ä½“å¤æ‚ç¨‹åº¦ä¼šæœ‰æ‰€å¢åŠ ã€‚</li>
</ul>
<h4>typescript example</h4>
<pre><code class="language-typescript">class Burger {
  protected size: number
  protected cheese = false
  protected pepperoni = false
  protected lettuce = false
  protected tomato = false
  constructor(builder: BurgerBuilder) {
    this.size = builder.size
    this.cheese = builder.cheese
    this.pepperoni = builder.pepperoni
    this.lettuce = builder.lettuce
    this.tomato = builder.tomato
  }
}

class BurgerBuilder {
  size: number
  cheese = false
  pepperoni = false
  lettuce = false
  tomato = false
  constructor(size: number) {
    this.size = size
  }
  addPepperoni() {
    this.pepperoni = true
    return this
  }
  addLettuce() {
    this.lettuce = true
    return this
  }
  addCheese() {
    this.cheese = true
    return this
  }
  addTomato() {
    this.tomato = true
    return this
  }
  build(): Burger {
    return new Burger(this)
  }
}

const burger = new BurgerBuilder(14).addCheese().addPepperoni().build()

</code></pre>
<h3>6.ğŸ‘åŸå‹æ¨¡å¼(Prototype)</h3>
<p><strong>äº¦ç§°ï¼š</strong> å…‹éš†ã€Clone</p>
<h4>ç°å®çš„ä¾‹å­</h4>
<p>è¿˜è®°å¾—å¤šè‰?é‚£åªå…‹éš†ç¾Š!æˆ‘ä»¬å°±ä¸è°ˆç»†èŠ‚äº†ï¼Œä½†è¿™é‡Œçš„å…³é”®æ˜¯è¿™éƒ½æ˜¯å…³äºå…‹éš†çš„</p>
<h4>ç®€å•æ€»ç»“</h4>
<p><strong>åŸå‹æ¨¡å¼</strong>æ˜¯ä¸€ç§åˆ›å»ºå‹è®¾è®¡æ¨¡å¼ï¼Œ ä½¿ä½ èƒ½å¤Ÿå¤åˆ¶å·²æœ‰å¯¹è±¡ï¼Œ è€Œåˆæ— éœ€ä½¿ä»£ç ä¾èµ–å®ƒä»¬æ‰€å±çš„ç±»ã€‚</p>
<h4>é€‚åˆçš„ä½¿ç”¨åœºæ™¯</h4>
<p><strong>å¦‚æœä½ éœ€è¦å¤åˆ¶ä¸€äº›å¯¹è±¡ï¼Œ åŒæ—¶åˆå¸Œæœ›ä»£ç ç‹¬ç«‹äºè¿™äº›å¯¹è±¡æ‰€å±çš„å…·ä½“ç±»ï¼Œ å¯ä»¥ä½¿ç”¨åŸå‹æ¨¡å¼ã€‚</strong></p>
<p>è¿™ä¸€ç‚¹è€ƒé‡é€šå¸¸å‡ºç°åœ¨ä»£ç éœ€è¦å¤„ç†ç¬¬ä¸‰æ–¹ä»£ç é€šè¿‡æ¥å£ä¼ é€’è¿‡æ¥çš„å¯¹è±¡æ—¶ã€‚ å³ä½¿ä¸è€ƒè™‘ä»£ç è€¦åˆçš„æƒ…å†µï¼Œ ä½ çš„ä»£ç ä¹Ÿä¸èƒ½ä¾èµ–è¿™äº›å¯¹è±¡æ‰€å±çš„å…·ä½“ç±»ï¼Œ å› ä¸ºä½ ä¸çŸ¥é“å®ƒä»¬çš„å…·ä½“ä¿¡æ¯ã€‚</p>
<p>åŸå‹æ¨¡å¼ä¸ºå®¢æˆ·ç«¯ä»£ç æä¾›ä¸€ä¸ªé€šç”¨æ¥å£ï¼Œ å®¢æˆ·ç«¯ä»£ç å¯é€šè¿‡è¿™ä¸€æ¥å£ä¸æ‰€æœ‰å®ç°äº†å…‹éš†çš„å¯¹è±¡è¿›è¡Œäº¤äº’ï¼Œ å®ƒä¹Ÿä½¿å¾—å®¢æˆ·ç«¯ä»£ç ä¸å…¶æ‰€å…‹éš†çš„å¯¹è±¡å…·ä½“ç±»ç‹¬ç«‹å¼€æ¥ã€‚</p>
<p><strong>å¦‚æœå­ç±»çš„åŒºåˆ«ä»…åœ¨äºå…¶å¯¹è±¡çš„åˆå§‹åŒ–æ–¹å¼ï¼Œ é‚£ä¹ˆä½ å¯ä»¥ä½¿ç”¨è¯¥æ¨¡å¼æ¥å‡å°‘å­ç±»çš„æ•°é‡ã€‚ åˆ«äººåˆ›å»ºè¿™äº›å­ç±»çš„ç›®çš„å¯èƒ½æ˜¯ä¸ºäº†åˆ›å»ºç‰¹å®šç±»å‹çš„å¯¹è±¡ã€‚</strong></p>
<p>åœ¨åŸå‹æ¨¡å¼ä¸­ï¼Œ ä½ å¯ä»¥ä½¿ç”¨ä¸€ç³»åˆ—é¢„ç”Ÿæˆçš„ã€ å„ç§ç±»å‹çš„å¯¹è±¡ä½œä¸ºåŸå‹ã€‚</p>
<p>å®¢æˆ·ç«¯ä¸å¿…æ ¹æ®éœ€æ±‚å¯¹å­ç±»è¿›è¡Œå®ä¾‹åŒ–ï¼Œ åªéœ€æ‰¾åˆ°åˆé€‚çš„åŸå‹å¹¶å¯¹å…¶è¿›è¡Œå…‹éš†å³å¯ã€‚</p>
<h4>ä¼˜ç¼ºç‚¹</h4>
<p><strong>ä¼˜ç‚¹</strong></p>
<ul>
<li>ä½ å¯ä»¥å…‹éš†å¯¹è±¡ï¼Œ è€Œæ— éœ€ä¸å®ƒä»¬æ‰€å±çš„å…·ä½“ç±»ç›¸è€¦åˆã€‚</li>
<li>ä½ å¯ä»¥å…‹éš†é¢„ç”ŸæˆåŸå‹ï¼Œ é¿å…åå¤è¿è¡Œåˆå§‹åŒ–ä»£ç ã€‚</li>
<li>ä½ å¯ä»¥æ›´æ–¹ä¾¿åœ°ç”Ÿæˆå¤æ‚å¯¹è±¡ã€‚</li>
<li>ä½ å¯ä»¥ç”¨ç»§æ‰¿ä»¥å¤–çš„æ–¹å¼æ¥å¤„ç†å¤æ‚å¯¹è±¡çš„ä¸åŒé…ç½®ã€‚</li>
</ul>
<p><strong>ç¼ºç‚¹</strong></p>
<ul>
<li>å…‹éš†åŒ…å«å¾ªç¯å¼•ç”¨çš„å¤æ‚å¯¹è±¡å¯èƒ½ä¼šéå¸¸éº»çƒ¦ã€‚</li>
</ul>
<h4>typescript example</h4>
<pre><code class="language-typescript">class Sheep {
  protected name: string
  protected category: string
  constructor(name: string, category = &#x27;Mountain Sheep&#x27;) {
    this.name = name
    this.category = category
  }
  setName(name: string) {
    this.name = name
  }
  getName() {
    return this.name
  }
  setCategory(category: string) {
    this.category = category
  }
  getCategory() {
    return this.category
  }
}

const original = new Sheep(&#x27;Jolly&#x27;)
console.log(`name:${original.getName()}, category: ${original.getCategory()}`)

// éœ€è¦è°ƒç”¨ä¸€ä¸ªæ·±æ‹·è´æ–¹æ³•ï¼ŒjsåŸç”Ÿå¹¶æ²¡æœ‰è¿™ç§æ–¹æ³•

</code></pre>
<h2>ç»“æ„è®¾è®¡æ¨¡å¼</h2>
<p>ç»“æ„è®¾è®¡æ¨¡å¼ä¸»è¦å…³æ³¨å¯¹è±¡ç»„åˆï¼Œæ¢å¥è¯è¯´ï¼Œå®ä½“å¦‚ä½•ç›¸äº’ä½¿ç”¨ã€‚æˆ–è€…å¦ä¸€ç§è§£é‡Šæ˜¯ï¼Œå®ƒä»¬æœ‰åŠ©äºå›ç­”â€œå¦‚ä½•æ„å»ºè½¯ä»¶ç»„ä»¶â€</p>
<h3>1.â˜• è£…é¥°å™¨æ¨¡å¼ï¼ˆDecoratorï¼‰</h3>
<p><strong>äº¦ç§°ï¼š</strong> è£…é¥°è€…æ¨¡å¼ã€è£…é¥°å™¨æ¨¡å¼ã€Wrapperã€Decorator</p>
<h4>ç°å®çš„ä¾‹å­</h4>
<p>å‡è®¾ä½ ç»è¥ä¸€å®¶å’–å•¡åº—ï¼Œè®¡ç®—è´¦å•çš„æ—¶å€™éœ€è¦æ ¹æ®æ·»åŠ çš„å„ç§åŸæ–™è®¡ç®—æœ€ç»ˆçš„æˆæœ¬ï¼Œè¿™ä¸ªæƒ…å†µä¸‹ï¼Œæ¯ä¸ªæ·»åŠ çš„åŸæ–™å¯ä»¥ä½œä¸ºè£…é¥°å™¨</p>
<p>ï¼ˆå®é™…ä¸Šç¢°åˆ°è¿™ç§ä¾‹å­ï¼ŒæŸ¥è¡¨å°±å¯ä»¥äº†å§ï¼Œä»·æ ¼ä¸å¿…ç¡¬ç¼–ç åˆ°ç¨‹åºé‡Œï¼‰</p>
<h4>ç®€å•æ€»ç»“</h4>
<p>è£…é¥°å™¨æ¨¡å¼å…è®¸ä½ é€šè¿‡ç”¨ä¸€ä¸ªè£…é¥°å™¨ç±»åŒ…è£¹å¯¹è±¡ï¼Œåœ¨è¿è¡Œæ—¶å¯¹ä¸€ä¸ªå¯¹è±¡åŠ¨æ€æ·»åŠ è¡Œä¸º</p>
<h4>ç»´åŸºç™¾ç§‘çš„è§£é‡Š</h4>
<p>åœ¨é¢å‘å¯¹è±¡ç¼–ç¨‹ä¸­ï¼Œè£…é¥°å™¨æ¨¡å¼æ˜¯ä¸€ç§è®¾è®¡æ¨¡å¼ï¼Œå®ƒå…è®¸å°†è¡Œä¸ºé™æ€æˆ–åŠ¨æ€åœ°æ·»åŠ åˆ°å•ä¸ªå¯¹è±¡ä¸­ï¼Œè€Œä¸ä¼šå½±å“æ¥è‡ªåŒä¸€ç±»çš„å…¶ä»–å¯¹è±¡çš„è¡Œä¸ºã€‚decoratoræ¨¡å¼å¯¹äºéµå¾ªå•ä¸€èŒè´£åŸåˆ™é€šå¸¸å¾ˆæœ‰ç”¨ï¼Œå› ä¸ºå®ƒå…è®¸åœ¨å…·æœ‰å”¯ä¸€å…³æ³¨åŒºåŸŸçš„ç±»ä¹‹é—´åˆ’åˆ†åŠŸèƒ½ã€‚</p>
<h4>ä¼˜ç¼ºç‚¹</h4>
<p><strong>ä¼˜ç‚¹</strong></p>
<ul>
<li>ä½ æ— éœ€åˆ›å»ºæ–°å­ç±»å³å¯æ‰©å±•å¯¹è±¡çš„è¡Œä¸ºã€‚</li>
<li>ä½ å¯ä»¥åœ¨è¿è¡Œæ—¶æ·»åŠ æˆ–åˆ é™¤å¯¹è±¡çš„åŠŸèƒ½ã€‚</li>
<li>ä½ å¯ä»¥ç”¨å¤šä¸ªè£…é¥°å°è£…å¯¹è±¡æ¥ç»„åˆå‡ ç§è¡Œä¸ºã€‚</li>
<li><em>å•ä¸€èŒè´£åŸåˆ™</em>ã€‚ ä½ å¯ä»¥å°†å®ç°äº†è®¸å¤šä¸åŒè¡Œä¸ºçš„ä¸€ä¸ªå¤§ç±»æ‹†åˆ†ä¸ºå¤šä¸ªè¾ƒå°çš„ç±»ã€‚</li>
</ul>
<p><strong>ç¼ºç‚¹</strong></p>
<ul>
<li>åœ¨å°è£…å™¨æ ˆä¸­åˆ é™¤ç‰¹å®šå°è£…å™¨æ¯”è¾ƒå›°éš¾ã€‚</li>
<li>å®ç°è¡Œä¸ºä¸å—è£…é¥°æ ˆé¡ºåºå½±å“çš„è£…é¥°æ¯”è¾ƒå›°éš¾ã€‚</li>
<li>å„å±‚çš„åˆå§‹åŒ–é…ç½®ä»£ç çœ‹ä¸Šå»å¯èƒ½ä¼šå¾ˆç³Ÿç³•ã€‚</li>
</ul>
<h4>typescript example</h4>
<p>ä¸‹é¢æ—¶coffeeä¾‹å­çš„</p>
<pre><code class="language-typescript">interface Coffee {
  getCost(): number
  getDescription(): string
}

class SimpleCoffee implements Coffee {
  getCost() {
    return 10
  }
  getDescription() {
    return &#x27;simple coffee&#x27;
  }
}

class MilkDecorator implements Coffee {
  protected coffee: Coffee
  protected description: string
  constructor(c: Coffee) {
    this.coffee = c
    this.description = &#x27;milk&#x27;
  }
  getCost() {
    return 4 + this.coffee.getCost()
  }
  getDescription() {
    return this.coffee.getDescription() + &#x27; &#x27; + this.description
  }
}
class WhipDecorator implements Coffee {
  protected coffee: Coffee
  protected description: string
  constructor(c: Coffee) {
    this.coffee = c
    this.description = &#x27;whip&#x27;
  }
  getCost() {
    return 5 + this.coffee.getCost()
  }
  getDescription() {
    return this.coffee.getDescription() + &#x27; &#x27; + this.description
  }
}
// é¦™è‰
class VanillaDecorator implements Coffee {
  protected coffee: Coffee
  protected description: string
  constructor(c: Coffee) {
    this.coffee = c
    this.description = &#x27;vanilla&#x27;
  }
  getCost() {
    return 3 + this.coffee.getCost()
  }
  getDescription() {
    return this.coffee.getDescription() + &#x27; &#x27; + this.description
  }
}

const simpleCoffee = new SimpleCoffee()
console.log(simpleCoffee.getDescription())
console.log(simpleCoffee.getCost())

const milkCoffee = new MilkDecorator(simpleCoffee)
console.log(milkCoffee.getDescription())
console.log(milkCoffee.getCost())

const mixCoffee = new VanillaDecorator(
  new MilkDecorator(new WhipDecorator(simpleCoffee))
)

console.log(mixCoffee.getDescription())
console.log(mixCoffee.getCost())
export{}
</code></pre>
<h3>2.ğŸ”Œ é€‚é…å™¨æ¨¡å¼(Adapter)</h3>
<p><strong>äº¦ç§°ï¼š</strong> å°è£…å™¨æ¨¡å¼ã€Wrapper</p>
<h4>ç°å®çš„ä¾‹å­</h4>
<p>è€ƒè™‘åˆ°ä½ çš„è®°å¿†å¡ä¸­æœ‰ä¸€äº›å›¾ç‰‡ï¼Œä½ éœ€è¦æŠŠå®ƒä»¬è½¬ç§»åˆ°ä½ çš„ç”µè„‘ä¸Šã€‚ä¸ºäº†ä¼ è¾“å®ƒä»¬ï¼Œä½ éœ€è¦æŸç§é€‚é…å™¨ï¼Œå®ƒä¸ä½ çš„è®¡ç®—æœºç«¯å£å…¼å®¹ï¼Œè¿™æ ·ä½ å°±å¯ä»¥æŠŠå­˜å‚¨å¡è¿æ¥åˆ°ä½ çš„è®¡ç®—æœºä¸Šã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œè¯»å¡å™¨æ˜¯ä¸€ä¸ªé€‚é…å™¨ã€‚å¦ä¸€ä¸ªä¾‹å­æ˜¯è‘—åçš„ç”µæºé€‚é…å™¨;ä¸‰è„šæ’å¤´ä¸èƒ½è¿æ¥åˆ°ä¸¤ä¸ªå°–å¤´æ’åº§ï¼Œå®ƒéœ€è¦ä½¿ç”¨ç”µæºé€‚é…å™¨ï¼Œä½¿å…¶å…¼å®¹ä¸¤ä¸ªå°–å¤´æ’åº§ã€‚è¿˜æœ‰ä¸€ä¸ªä¾‹å­æ˜¯è¯‘è€…å°†ä¸€ä¸ªäººè¯´çš„è¯ç¿»è¯‘ç»™å¦ä¸€ä¸ªäºº</p>
<h4>ç®€å•æ€»ç»“</h4>
<p>é€‚é…å™¨æ¨¡å¼å…è®¸æ‚¨åœ¨é€‚é…å™¨ä¸­åŒ…è£…å…¶ä»–ä¸å…¼å®¹çš„å¯¹è±¡ä»¥ä½¿å…¶ä¸å¦ä¸€ä¸ªç±»å…¼å®¹ã€‚</p>
<h4>ç»´åŸºç™¾ç§‘çš„æè¿°</h4>
<p>åœ¨è½¯ä»¶å·¥ç¨‹ä¸­ï¼Œé€‚é…å™¨æ¨¡å¼æ˜¯ä¸€ç§è½¯ä»¶è®¾è®¡æ¨¡å¼ï¼Œå®ƒå…è®¸å°†ç°æœ‰ç±»çš„æ¥å£ç”¨ä½œå¦ä¸€ä¸ªæ¥å£ã€‚å®ƒé€šå¸¸ç”¨äºä½¿ç°æœ‰çš„ç±»ä¸å…¶ä»–ç±»ä¸€èµ·å·¥ä½œï¼Œè€Œä¸ä¿®æ”¹å®ƒä»¬çš„æºä»£ç ã€‚</p>
<h4>ä¼˜ç¼ºç‚¹</h4>
<p><strong>ä¼˜ç‚¹</strong></p>
<ul>
<li>_å•ä¸€èŒè´£åŸåˆ™_ä½ å¯ä»¥å°†æ¥å£æˆ–æ•°æ®è½¬æ¢ä»£ç ä»ç¨‹åºä¸»è¦ä¸šåŠ¡é€»è¾‘ä¸­åˆ†ç¦»ã€‚</li>
<li><em>å¼€é—­åŸåˆ™</em>ã€‚ åªè¦å®¢æˆ·ç«¯ä»£ç é€šè¿‡å®¢æˆ·ç«¯æ¥å£ä¸é€‚é…å™¨è¿›è¡Œäº¤äº’ï¼Œ ä½ å°±èƒ½åœ¨ä¸ä¿®æ”¹ç°æœ‰å®¢æˆ·ç«¯ä»£ç çš„æƒ…å†µä¸‹åœ¨ç¨‹åºä¸­æ·»åŠ æ–°ç±»å‹çš„é€‚é…å™¨ã€‚</li>
</ul>
<p><strong>ç¼ºç‚¹</strong></p>
<ul>
<li>ä»£ç æ•´ä½“å¤æ‚åº¦å¢åŠ ï¼Œ å› ä¸ºä½ éœ€è¦æ–°å¢ä¸€ç³»åˆ—æ¥å£å’Œç±»ã€‚ æœ‰æ—¶ç›´æ¥æ›´æ”¹æœåŠ¡ç±»ä½¿å…¶ä¸å…¶ä»–ä»£ç å…¼å®¹ä¼šæ›´ç®€å•ã€‚</li>
</ul>
<h4>typescript example</h4>
<p>æƒ³è±¡ä¸€ä¸ªçŒäººçŒæ€å¼å­çš„æ¸¸æˆ,ç°åœ¨æˆ‘ä»¬åŠ å…¥ç‹—,åŒæ—¶ç”¨é€‚é…å™¨æ¨¡å¼è®©çŒäººçš„çŒäººæ¨¡å—å…¼å®¹ç‹—</p>
<pre><code class="language-typescript">interface Lion {
  roar(): void
}

class AfricanLion implements Lion {
  roar(): void {
    console.log(&#x27;aouuuuuuuu!&#x27;)
  }
}
class AsianLion implements Lion {
  roar(): void {
    console.log(&#x27;aooooooooooo!&#x27;)
  }
}

class Hunter {
  hunt(lion: Lion) {
    lion.roar()
  }
}

class WildDog {
  bark(): void {
    console.log(&#x27;wang!wang!wang!&#x27;)
  }
}

class WildDogAdapter implements Lion {
  protected dog
  constructor(dog: WildDog) {
    this.dog = dog
  }
  roar(): void {
    this.dog.bark()
  }
}

const wildDog = new WildDog()
const wildDogAdapter = new WildDogAdapter(wildDog)
const hunter = new Hunter()
hunter.hunt(wildDogAdapter)

</code></pre>
<h3>3.ğŸ“¦ å¤–è§‚æ¨¡å¼(Facade)</h3>
<p>**äº¦ç§°ï¼š**é—¨é¢æ¨¡å¼</p>
<h4>ç°å®çš„ä¾‹å­</h4>
<p>(è¿™å°ç”µè„‘æ€ä¹ˆå¼€æœº?)ä½ ä¼šè¯´â€œæŒ‰ç”µæºæŒ‰é’®â€!è¿™å°±æ˜¯ä½ æ‰€ç›¸ä¿¡çš„ï¼Œå› ä¸ºä½ ä½¿ç”¨çš„æ˜¯è®¡ç®—æœºæä¾›çš„ä¸€ä¸ªç®€å•çš„ç•Œé¢ï¼Œå†…éƒ¨å®ƒéœ€è¦åšå¾ˆå¤šäº‹æƒ…æ¥å®ç°å®ƒã€‚è¿™ä¸ªåˆ°å¤æ‚å­ç³»ç»Ÿçš„ç®€å•æ¥å£å°±æ˜¯facadeã€‚</p>
<h4>ç®€å•æ€»ç»“</h4>
<p>Facadeæ¨¡å¼ä¸ºå¤æ‚çš„å­ç³»ç»Ÿæä¾›äº†ç®€åŒ–çš„æ¥å£ã€‚</p>
<h4>ç»´åŸºç™¾ç§‘çš„æè¿°</h4>
<p>facadeæ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œå®ƒä¸ºæ›´å¤§çš„ä»£ç ä½“(å¦‚ç±»åº“)æä¾›äº†ç®€åŒ–çš„æ¥å£ã€‚</p>
<h4>ä¼˜ç¼ºç‚¹</h4>
<p><strong>ä¼˜ç‚¹</strong></p>
<ul>
<li>ä½ å¯ä»¥è®©è‡ªå·±çš„ä»£ç ç‹¬ç«‹äºå¤æ‚å­ç³»ç»Ÿã€‚</li>
</ul>
<p><strong>ç¼ºç‚¹</strong></p>
<ul>
<li>å¤–è§‚å¯èƒ½æˆä¸ºä¸ç¨‹åºä¸­æ‰€æœ‰ç±»éƒ½è€¦åˆçš„<a href="https://refactoringguru.cn/antipatterns/god-object" target="_blank">ä¸Šå¸å¯¹è±¡</a>(æŒ‡çš„æ˜¯äº†è§£è¿‡å¤š,æˆ–è€…è´Ÿè´£è¿‡å¤šçš„å¯¹è±¡)ã€‚</li>
</ul>
<h4>typescript example</h4>
<pre><code class="language-typescript">class Computer {
  // æ–­ç”µ
  getElectricShock() {
    console.log(&#x27;Ouch&#x27;)
  }
  makeSound() {
    console.log(&#x27;Beep beep!&#x27;)
  }
  showLoadingScreen() {
    console.log(&#x27;Loading...&#x27;)
  }
  bam() {
    console.log(&#x27;Ready to be used&#x27;)
  }
  closeEverything() {
    console.log(&#x27;Bup bup bup buzzzz!&#x27;)
  }
  sooth() {
    console.log(&#x27;Zzzzz&#x27;)
  }
  pullCurrent() {
    console.log(&#x27;Haaah!&#x27;)
  }
}
class ComputerFacade {
  protected computer
  constructor(computer: Computer) {
    this.computer = computer
  }
  turnOn() {
    this.computer.getElectricShock()
    this.computer.makeSound()
    this.computer.showLoadingScreen()
    this.computer.bam()
  }
  turnOff() {
    this.computer.closeEverything()
    this.computer.pullCurrent()
    this.computer.sooth()
  }
}

const computer = new ComputerFacade(new Computer())
computer.turnOn()
computer.turnOff()
</code></pre>
<h3>4.ğŸŒ¿ç»„åˆæ¨¡å¼ (Composite)</h3>
<p><strong>äº¦ç§°ï¼š</strong> å¯¹è±¡æ ‘ã€Object Tree</p>
<h4>ç°å®çš„ä¾‹å­</h4>
<p>æ¯ä¸ªç»„ç»‡éƒ½æ˜¯ç”±å‘˜å·¥ç»„æˆçš„ã€‚æ¯ä¸ªå‘˜å·¥éƒ½æœ‰ç›¸åŒçš„ç‰¹å¾ï¼Œæ¯”å¦‚æœ‰è–ªæ°´ï¼Œæœ‰ä¸€äº›èŒè´£ï¼Œå¯èƒ½æœ‰ä¹Ÿå¯èƒ½æ²¡æœ‰å‘æŸäººæ±‡æŠ¥ï¼Œå¯èƒ½æœ‰ä¹Ÿå¯èƒ½æ²¡æœ‰ä¸‹å±ç­‰ç­‰ã€‚</p>
<p>å¤§éƒ¨åˆ†å›½å®¶çš„å†›é˜Ÿéƒ½é‡‡ç”¨å±‚æ¬¡ç»“æ„ç®¡ç†ã€‚ æ¯æ”¯éƒ¨é˜ŸåŒ…æ‹¬å‡ ä¸ªå¸ˆï¼Œ å¸ˆç”±æ—…æ„æˆï¼Œ æ—…ç”±å›¢æ„æˆï¼Œ å›¢å¯ä»¥ç»§ç»­åˆ’åˆ†ä¸ºæ’ã€‚ æœ€åï¼Œ æ¯ä¸ªæ’ç”±ä¸€å°é˜Ÿå®å®åœ¨åœ¨çš„å£«å…µç»„æˆã€‚ å†›äº‹å‘½ä»¤ç”±æœ€é«˜å±‚ä¸‹è¾¾ï¼Œ é€šè¿‡æ¯ä¸ªå±‚çº§ä¼ é€’ï¼Œ ç›´åˆ°æ¯ä½å£«å…µéƒ½çŸ¥é“è‡ªå·±åº”è¯¥æœä»çš„å‘½ä»¤ã€‚</p>
<h4>ç®€å•æ€»ç»“</h4>
<p><strong>ç»„åˆæ¨¡å¼</strong>æ˜¯ä¸€ç§ç»“æ„å‹è®¾è®¡æ¨¡å¼ï¼Œ ä½ å¯ä»¥ä½¿ç”¨å®ƒå°†å¯¹è±¡ç»„åˆæˆæ ‘çŠ¶ç»“æ„ï¼Œ å¹¶ä¸”èƒ½åƒä½¿ç”¨ç‹¬ç«‹å¯¹è±¡ä¸€æ ·ä½¿ç”¨å®ƒä»¬ã€‚</p>
<h4>ç»´åŸºç™¾ç§‘çš„è§£é‡Š</h4>
<p>åœ¨è½¯ä»¶å·¥ç¨‹ä¸­ï¼Œç»„åˆæ¨¡å¼æ˜¯ä¸€ç§åˆ†åŒºè®¾è®¡æ¨¡å¼ã€‚ç»„åˆæ¨¡å¼æè¿°äº†å°†ä¸€ç»„å¯¹è±¡ä½œä¸ºå¯¹è±¡çš„å•ä¸ªå®ä¾‹è¿›è¡Œå¤„ç†çš„æ–¹å¼ã€‚ç»„åˆçš„ç›®çš„æ˜¯å°†å¯¹è±¡â€œç»„åˆâ€æˆæ ‘ç»“æ„ï¼Œä»¥è¡¨ç¤ºéƒ¨åˆ†-æ•´ä½“å±‚æ¬¡ç»“æ„ã€‚å®ç°ç»„åˆæ¨¡å¼è®©å®¢æˆ·ç«¯èƒ½å¤Ÿç»Ÿä¸€å¯¹å¾…å•ä¸ªå¯¹è±¡å’Œç»„åˆã€‚</p>
<h4>ä¼˜ç¼ºç‚¹</h4>
<p><strong>ä¼˜ç‚¹</strong></p>
<ul>
<li>ä½ å¯ä»¥åˆ©ç”¨å¤šæ€å’Œé€’å½’æœºåˆ¶æ›´æ–¹ä¾¿åœ°ä½¿ç”¨å¤æ‚æ ‘ç»“æ„ã€‚</li>
<li><em>å¼€é—­åŸåˆ™</em>ã€‚ æ— éœ€æ›´æ”¹ç°æœ‰ä»£ç ï¼Œ ä½ å°±å¯ä»¥åœ¨åº”ç”¨ä¸­æ·»åŠ æ–°å…ƒç´ ï¼Œ ä½¿å…¶æˆä¸ºå¯¹è±¡æ ‘çš„ä¸€éƒ¨åˆ†ã€‚</li>
</ul>
<p><strong>ç¼ºç‚¹</strong></p>
<ul>
<li>å¯¹äºåŠŸèƒ½å·®å¼‚è¾ƒå¤§çš„ç±»ï¼Œ æä¾›å…¬å…±æ¥å£æˆ–è®¸ä¼šæœ‰å›°éš¾ã€‚ åœ¨ç‰¹å®šæƒ…å†µä¸‹ï¼Œ ä½ éœ€è¦è¿‡åº¦ä¸€èˆ¬åŒ–ç»„ä»¶æ¥å£ï¼Œ ä½¿å…¶å˜å¾—ä»¤äººéš¾ä»¥ç†è§£ã€‚</li>
</ul>
<h4>typescript example</h4>
<pre><code class="language-typescript">/**
 * The base Component class declares common operations for both simple and
 * complex objects of a composition.
 */
abstract class Component {
  protected parent!: Component | null

  /**
   * Optionally, the base Component can declare an interface for setting and
   * accessing a parent of the component in a tree structure. It can also
   * provide some default implementation for these methods.
   */
  public setParent(parent: Component | null) {
    this.parent = parent
  }

  public getParent(): Component | null {
    return this.parent
  }

  /**
   * In some cases, it would be beneficial to define the child-management
   * operations right in the base Component class. This way, you won&#x27;t need to
   * expose any concrete component classes to the client code, even during the
   * object tree assembly. The downside is that these methods will be empty
   * for the leaf-level components.
   */
  public add(component: Component): void {}

  public remove(component: Component): void {}

  /**
   * You can provide a method that lets the client code figure out whether a
   * component can bear children.
   */
  public isComposite(): boolean {
    return false
  }

  /**
   * The base Component may implement some default behavior or leave it to
   * concrete classes (by declaring the method containing the behavior as
   * &quot;abstract&quot;).
   */
  public abstract operation(): string
}

/**
 * The Leaf class represents the end objects of a composition. A leaf can&#x27;t have
 * any children.
 *
 * Usually, it&#x27;s the Leaf objects that do the actual work, whereas Composite
 * objects only delegate to their sub-components.
 */
class Leaf extends Component {
  public operation(): string {
    return &#x27;Leaf&#x27;
  }
}

/**
 * The Composite class represents the complex components that may have children.
 * Usually, the Composite objects delegate the actual work to their children and
 * then &quot;sum-up&quot; the result.
 */
class Composite extends Component {
  protected children: Component[] = []

  /**
   * A composite object can add or remove other components (both simple or
   * complex) to or from its child list.
   */
  public add(component: Component): void {
    this.children.push(component)
    component.setParent(this)
  }

  public remove(component: Component): void {
    const componentIndex = this.children.indexOf(component)
    this.children.splice(componentIndex, 1)

    component.setParent(null)
  }

  public isComposite(): boolean {
    return true
  }

  /**
   * The Composite executes its primary logic in a particular way. It
   * traverses recursively through all its children, collecting and summing
   * their results. Since the composite&#x27;s children pass these calls to their
   * children and so forth, the whole object tree is traversed as a result.
   */
  public operation(): string {
    const results = []
    for (const child of this.children) {
      results.push(child.operation())
    }

    return `Branch(${results.join(&#x27;+&#x27;)})`
  }
}

/**
 * The client code works with all of the components via the base interface.
 */
function clientCode(component: Component) {
  // ...

  console.log(`RESULT: ${component.operation()}`)

  // ...
}

/**
 * This way the client code can support the simple leaf components...
 */
const simple = new Leaf()
console.log(&quot;Client: I&#x27;ve got a simple component:&quot;)
clientCode(simple)
console.log(&#x27;&#x27;)

/**
 * ...as well as the complex composites.
 */
const tree = new Composite()
const branch1 = new Composite()
branch1.add(new Leaf())
branch1.add(new Leaf())
const branch2 = new Composite()
branch2.add(new Leaf())
tree.add(branch1)
tree.add(branch2)
console.log(&quot;Client: Now I&#x27;ve got a composite tree:&quot;)
clientCode(tree)
console.log(&#x27;&#x27;)

/**
 * Thanks to the fact that the child-management operations are declared in the
 * base Component class, the client code can work with any component, simple or
 * complex, without depending on their concrete classes.
 */
function clientCode2(component1: Component, component2: Component) {
  // ...

  if (component1.isComposite()) {
    component1.add(component2)
  }
  console.log(`RESULT: ${component1.operation()}`)

  // ...
}

console.log(
  &quot;Client: I don&#x27;t need to check the components classes even when managing the tree:&quot;
)
clientCode2(tree, simple)

</code></pre>
<h3>5.ğŸ± ä»£ç†æ¨¡å¼(Proxy)</h3>
<h4>ç°å®çš„ä¾‹å­</h4>
<p>ä½ ç”¨è¿‡é—¨ç¦å¡è¿›å‡ºä¸€æ‰‡é—¨å—?å¼€é—¨æœ‰å¤šç§é€‰æ‹©ï¼Œæ¯”å¦‚ï¼Œå¯ä»¥ä½¿ç”¨é—¨ç¦å¡æ‰“å¼€ï¼Œä¹Ÿå¯ä»¥é€šè¿‡æŒ‰ä¸‹ç»•è¿‡å®‰å…¨çš„æŒ‰é’®æ‰“å¼€ã€‚é—¨çš„ä¸»è¦åŠŸèƒ½æ˜¯æ‰“å¼€ï¼Œä½†åœ¨ä¸Šé¢æ·»åŠ äº†ä¸€ä¸ªä»£ç†æ¥æ·»åŠ ä¸€äº›åŠŸèƒ½ã€‚è®©æˆ‘ç”¨ä¸‹é¢çš„ä»£ç ç¤ºä¾‹æ›´å¥½åœ°è§£é‡Šå®ƒã€‚</p>
<p>ä¿¡ç”¨å¡æ˜¯é“¶è¡Œè´¦æˆ·çš„ä»£ç†ï¼Œ é“¶è¡Œè´¦æˆ·åˆ™æ˜¯ä¸€å¤§æ†ç°é‡‘çš„ä»£ç†ã€‚ å®ƒä»¬éƒ½å®ç°äº†åŒæ ·çš„æ¥å£ï¼Œ å‡å¯ç”¨äºè¿›è¡Œæ”¯ä»˜ã€‚ æ¶ˆè´¹è€…ä¼šéå¸¸æ»¡æ„ï¼Œ å› ä¸ºä¸å¿…éšèº«æºå¸¦å¤§é‡ç°é‡‘ï¼› å•†åº—è€æ¿åŒæ ·ä¼šååˆ†é«˜å…´ï¼Œ å› ä¸ºäº¤æ˜“æ”¶å…¥èƒ½ä»¥ç”µå­åŒ–çš„æ–¹å¼è¿›å…¥å•†åº—çš„é“¶è¡Œè´¦æˆ·ä¸­ï¼Œ æ— éœ€æ‹…å¿ƒå­˜æ¬¾æ—¶å‡ºç°ç°é‡‘ä¸¢å¤±æˆ–è¢«æŠ¢åŠ«çš„æƒ…å†µã€‚</p>
<h4>ç®€å•æ€»ç»“</h4>
<p><strong>ä»£ç†æ¨¡å¼</strong>æ˜¯ä¸€ç§ç»“æ„å‹è®¾è®¡æ¨¡å¼ï¼Œ è®©ä½ èƒ½å¤Ÿæä¾›å¯¹è±¡çš„æ›¿ä»£å“æˆ–å…¶å ä½ç¬¦ã€‚ ä»£ç†æ§åˆ¶ç€å¯¹äºåŸå¯¹è±¡çš„è®¿é—®ï¼Œ å¹¶å…è®¸åœ¨å°†è¯·æ±‚æäº¤ç»™å¯¹è±¡å‰åè¿›è¡Œä¸€äº›å¤„ç†ã€‚</p>
<h4>ä¼˜ç¼ºç‚¹</h4>
<p><strong>ä¼˜ç‚¹</strong></p>
<ul>
<li>ä½ å¯ä»¥åœ¨å®¢æˆ·ç«¯æ¯«æ— å¯Ÿè§‰çš„æƒ…å†µä¸‹æ§åˆ¶æœåŠ¡å¯¹è±¡ã€‚</li>
<li>å¦‚æœå®¢æˆ·ç«¯å¯¹æœåŠ¡å¯¹è±¡çš„ç”Ÿå‘½å‘¨æœŸæ²¡æœ‰ç‰¹æ®Šè¦æ±‚ï¼Œ ä½ å¯ä»¥å¯¹ç”Ÿå‘½å‘¨æœŸè¿›è¡Œç®¡ç†ã€‚</li>
<li>å³ä½¿æœåŠ¡å¯¹è±¡è¿˜æœªå‡†å¤‡å¥½æˆ–ä¸å­˜åœ¨ï¼Œ ä»£ç†ä¹Ÿå¯ä»¥æ­£å¸¸å·¥ä½œã€‚</li>
<li><em>å¼€é—­åŸåˆ™</em>ã€‚ ä½ å¯ä»¥åœ¨ä¸å¯¹æœåŠ¡æˆ–å®¢æˆ·ç«¯åšå‡ºä¿®æ”¹çš„æƒ…å†µä¸‹åˆ›å»ºæ–°ä»£ç†ã€‚</li>
</ul>
<p><strong>ç¼ºç‚¹</strong></p>
<ul>
<li>ä»£ç å¯èƒ½ä¼šå˜å¾—å¤æ‚ï¼Œ å› ä¸ºéœ€è¦æ–°å»ºè®¸å¤šç±»ã€‚</li>
<li>æœåŠ¡å“åº”å¯èƒ½ä¼šå»¶è¿Ÿã€‚</li>
</ul>
<h4>ä¸å…¶ä»–æ¨¡å¼çš„è”ç³»</h4>
<ul>
<li>
<p>é€‚é…å™¨æ¨¡å¼èƒ½ä¸ºè¢«å°è£…å¯¹è±¡æä¾›ä¸åŒçš„æ¥å£ï¼Œ ä»£ç†æ¨¡å¼èƒ½ä¸ºå¯¹è±¡æä¾›ç›¸åŒçš„æ¥å£ï¼Œ è£…é¥°æ¨¡å¼åˆ™èƒ½ä¸ºå¯¹è±¡æä¾›åŠ å¼ºçš„æ¥å£ã€‚</p>
</li>
<li>
<p>å¤–è§‚æ¨¡å¼ä¸ä»£ç†çš„ç›¸ä¼¼ä¹‹å¤„åœ¨äºå®ƒä»¬éƒ½ç¼“å­˜äº†ä¸€ä¸ªå¤æ‚å®ä½“å¹¶è‡ªè¡Œå¯¹å…¶è¿›è¡Œåˆå§‹åŒ–ã€‚ ä»£ç†ä¸å…¶æœåŠ¡å¯¹è±¡éµå¾ªåŒä¸€æ¥å£ï¼Œ ä½¿å¾—è‡ªå·±å’ŒæœåŠ¡å¯¹è±¡å¯ä»¥äº’æ¢ï¼Œ åœ¨è¿™ä¸€ç‚¹ä¸Šå®ƒä¸å¤–è§‚ä¸åŒã€‚</p>
</li>
<li>
<p>è£…é¥°å’Œä»£ç†æœ‰ç€ç›¸ä¼¼çš„ç»“æ„ï¼Œ ä½†æ˜¯å…¶æ„å›¾å´éå¸¸ä¸åŒã€‚ è¿™ä¸¤ä¸ªæ¨¡å¼çš„æ„å»ºéƒ½åŸºäºç»„åˆåŸåˆ™ï¼Œ ä¹Ÿå°±æ˜¯è¯´ä¸€ä¸ªå¯¹è±¡åº”è¯¥å°†éƒ¨åˆ†å·¥ä½œå§”æ´¾ç»™å¦ä¸€ä¸ªå¯¹è±¡ã€‚ ä¸¤è€…ä¹‹é—´çš„ä¸åŒä¹‹å¤„åœ¨äºä»£ç†é€šå¸¸è‡ªè¡Œç®¡ç†å…¶æœåŠ¡å¯¹è±¡çš„ç”Ÿå‘½å‘¨æœŸï¼Œ è€Œè£…é¥°çš„ç”Ÿæˆåˆ™æ€»æ˜¯ç”±å®¢æˆ·ç«¯è¿›è¡Œæ§åˆ¶ã€‚</p>
</li>
</ul>
<h4>typescript example</h4>
<pre><code class="language-typescript">interface Door {
  open(): void
  close(): void
}

class LabDoor implements Door {
  open(): void {
    console.log(&#x27;opening the lab door&#x27;)
  }
  close(): void {
    console.log(&#x27;closing the lab door&#x27;)
  }
}

class SecuredDoor {
  protected door: Door
  protected password = &#x27;123456&#x27;
  constructor(door: Door) {
    this.door = door
  }
  open(password: string) {
    if (this.authenticate(password)) {
      this.door.open()
    } else {
      console.log(&#x27;No,you cant open this door&#x27;)
    }
  }

  authenticate(passwords: string) {
    return this.password == passwords
  }
  close() {
    this.door.close()
  }
}

const door = new SecuredDoor(new LabDoor())

door.open(&#x27;1234567&#x27;)
door.open(&#x27;123456&#x27;)
door.close()
</code></pre>
<h3>6.ğŸš¡ æ¡¥æ¥æ¨¡å¼(Bridge)</h3>
<h4>ç°å®çš„ä¾‹å­</h4>
<p>å‡è®¾ä½ æœ‰ä¸€ä¸ªæœ‰ä¸åŒé¡µé¢çš„ç½‘ç«™ï¼Œä½ åº”è¯¥å…è®¸ç”¨æˆ·æ›´æ”¹ä¸»é¢˜ã€‚ä½ ä¼šæ€ä¹ˆåš?ä¸ºæ¯ä¸ªä¸»é¢˜åˆ›å»ºæ¯ä¸ªé¡µé¢çš„å¤šä¸ªå‰¯æœ¬ï¼Œè¿˜æ˜¯åªåˆ›å»ºå•ç‹¬çš„ä¸»é¢˜å¹¶æ ¹æ®ç”¨æˆ·çš„åå¥½åŠ è½½å®ƒä»¬?æ¡¥ç‰Œæ¨¡å¼å…è®¸ä½ åšåè€…ï¼Œå¦‚ä¸‹å›¾</p>
<p><img src="/assets/bridge-2abe760d08970fcef2f3eb211b40ca9a.png" alt="With and without the bridge pattern"/></p>
<p>å‡å¦‚ä½ æœ‰ä¸€ä¸ªå‡ ä½• <code>å½¢çŠ¶</code>Shapeç±»ï¼Œ ä»å®ƒèƒ½æ‰©å±•å‡ºä¸¤ä¸ªå­ç±»ï¼š  <code>åœ†å½¢</code>Circleå’Œ <code>æ–¹å½¢</code>Square ã€‚ ä½ å¸Œæœ›å¯¹è¿™æ ·çš„ç±»å±‚æ¬¡ç»“æ„è¿›è¡Œæ‰©å±•ä»¥ä½¿å…¶åŒ…å«é¢œè‰²ï¼Œ æ‰€ä»¥ä½ æ‰“ç®—åˆ›å»ºåä¸º <code>çº¢è‰²</code>Redå’Œ <code>è“è‰²</code>Blueçš„å½¢çŠ¶å­ç±»ã€‚ ä½†æ˜¯ï¼Œ ç”±äºä½ å·²æœ‰ä¸¤ä¸ªå­ç±»ï¼Œ æ‰€ä»¥æ€»å…±éœ€è¦åˆ›å»ºå››ä¸ªç±»æ‰èƒ½è¦†ç›–æ‰€æœ‰ç»„åˆï¼Œ ä¾‹å¦‚ <code>è“è‰²åœ†å½¢</code>BlueÂ­Circleå’Œ <code>çº¢è‰²æ–¹å½¢</code>RedÂ­Square ã€‚</p>
<p><img src="/assets/bridge-problem-f3bb0dbe9d551b3aceb6172681b4e124.png" alt="æ¡¥æ¥æ¨¡å¼è§£å†³çš„é—®é¢˜"/></p>
<p>æ‰€æœ‰ç»„åˆç±»çš„æ•°é‡å°†ä»¥å‡ ä½•çº§æ•°å¢é•¿ã€‚</p>
<p>åœ¨å±‚æ¬¡ç»“æ„ä¸­æ–°å¢å½¢çŠ¶å’Œé¢œè‰²å°†å¯¼è‡´ä»£ç å¤æ‚ç¨‹åº¦æŒ‡æ•°å¢é•¿ã€‚ ä¾‹å¦‚æ·»åŠ ä¸‰è§’å½¢çŠ¶ï¼Œ ä½ éœ€è¦æ–°å¢ä¸¤ä¸ªå­ç±»ï¼Œ ä¹Ÿå°±æ˜¯æ¯ç§é¢œè‰²ä¸€ä¸ªï¼› æ­¤åæ–°å¢ä¸€ç§æ–°é¢œè‰²éœ€è¦æ–°å¢ä¸‰ä¸ªå­ç±»ï¼Œ å³æ¯ç§å½¢çŠ¶ä¸€ä¸ªã€‚ å¦‚æ­¤ä»¥å¾€ï¼Œ æƒ…å†µä¼šè¶Šæ¥è¶Šç³Ÿç³•ã€‚</p>
<p>é—®é¢˜çš„æ ¹æœ¬åŸå› æ˜¯æˆ‘ä»¬è¯•å›¾åœ¨ä¸¤ä¸ªç‹¬ç«‹çš„ç»´åº¦â€”â€”å½¢çŠ¶ä¸é¢œè‰²â€”â€”ä¸Šæ‰©å±•å½¢çŠ¶ç±»ã€‚ è¿™åœ¨å¤„ç†ç±»ç»§æ‰¿æ—¶æ˜¯å¾ˆå¸¸è§çš„é—®é¢˜ã€‚</p>
<p>æ¡¥æ¥æ¨¡å¼é€šè¿‡å°†ç»§æ‰¿æ”¹ä¸ºç»„åˆçš„æ–¹å¼æ¥è§£å†³è¿™ä¸ªé—®é¢˜ã€‚ å…·ä½“æ¥è¯´ï¼Œ å°±æ˜¯æŠ½å–å…¶ä¸­ä¸€ä¸ªç»´åº¦å¹¶ä½¿ä¹‹æˆä¸ºç‹¬ç«‹çš„ç±»å±‚æ¬¡ï¼Œ è¿™æ ·å°±å¯ä»¥åœ¨åˆå§‹ç±»ä¸­å¼•ç”¨è¿™ä¸ªæ–°å±‚æ¬¡çš„å¯¹è±¡ï¼Œ ä»è€Œä½¿å¾—ä¸€ä¸ªç±»ä¸å¿…æ‹¥æœ‰æ‰€æœ‰çš„çŠ¶æ€å’Œè¡Œä¸ºã€‚</p>
<p><img src="/assets/bridge-solution-c96115c7cb06311d8e5df8b133c306c7.png" alt="æ¡¥æ¥æ¨¡å¼çš„è§£å†³æ–¹æ¡ˆ"/></p>
<p>å°†ä¸€ä¸ªç±»å±‚æ¬¡è½¬åŒ–ä¸ºå¤šä¸ªç›¸å…³çš„ç±»å±‚æ¬¡ï¼Œ é¿å…å•ä¸ªç±»å±‚æ¬¡çš„å¤±æ§ã€‚</p>
<p>æ ¹æ®è¯¥æ–¹æ³•ï¼Œ æˆ‘ä»¬å¯ä»¥å°†é¢œè‰²ç›¸å…³çš„ä»£ç æŠ½å–åˆ°æ‹¥æœ‰ <code>çº¢è‰²</code>å’Œ <code>è“è‰²</code>ä¸¤ä¸ªå­ç±»çš„é¢œè‰²ç±»ä¸­ï¼Œ ç„¶ååœ¨ <code>å½¢çŠ¶</code>ç±»ä¸­æ·»åŠ ä¸€ä¸ªæŒ‡å‘æŸä¸€é¢œè‰²å¯¹è±¡çš„å¼•ç”¨æˆå‘˜å˜é‡ã€‚ ç°åœ¨ï¼Œ å½¢çŠ¶ç±»å¯ä»¥å°†æ‰€æœ‰ä¸é¢œè‰²ç›¸å…³çš„å·¥ä½œå§”æ´¾ç»™è¿å…¥çš„é¢œè‰²å¯¹è±¡ã€‚ è¿™æ ·çš„å¼•ç”¨å°±æˆä¸ºäº† <code>å½¢çŠ¶</code>å’Œ <code>é¢œè‰²</code>ä¹‹é—´çš„æ¡¥æ¢ã€‚ æ­¤åï¼Œ æ–°å¢é¢œè‰²å°†ä¸å†éœ€è¦ä¿®æ”¹å½¢çŠ¶çš„ç±»å±‚æ¬¡ï¼Œ åä¹‹äº¦ç„¶ã€‚</p>
<h4>ç®€å•æ€»ç»“</h4>
<p><strong>æ¡¥æ¥æ¨¡å¼</strong>æ˜¯ä¸€ç§ç»“æ„å‹è®¾è®¡æ¨¡å¼ï¼Œ å¯å°†ä¸€ä¸ªå¤§ç±»æˆ–ä¸€ç³»åˆ—ç´§å¯†ç›¸å…³çš„ç±»æ‹†åˆ†ä¸ºæŠ½è±¡å’Œå®ç°ä¸¤ä¸ªç‹¬ç«‹çš„å±‚æ¬¡ç»“æ„ï¼Œ ä»è€Œèƒ½åœ¨å¼€å‘æ—¶åˆ†åˆ«ä½¿ç”¨ã€‚</p>
<h4>ä¼˜ç¼ºç‚¹</h4>
<p><strong>ä¼˜ç‚¹</strong></p>
<ul>
<li>ä½ å¯ä»¥åˆ›å»ºä¸å¹³å°æ— å…³çš„ç±»å’Œç¨‹åºã€‚</li>
<li>å®¢æˆ·ç«¯ä»£ç ä»…ä¸é«˜å±‚æŠ½è±¡éƒ¨åˆ†è¿›è¡Œäº’åŠ¨ï¼Œ ä¸ä¼šæ¥è§¦åˆ°å¹³å°çš„è¯¦ç»†ä¿¡æ¯ã€‚</li>
<li><em>å¼€é—­åŸåˆ™</em>ã€‚ ä½ å¯ä»¥æ–°å¢æŠ½è±¡éƒ¨åˆ†å’Œå®ç°éƒ¨åˆ†ï¼Œ ä¸”å®ƒä»¬ä¹‹é—´ä¸ä¼šç›¸äº’å½±å“ã€‚</li>
<li><em>å•ä¸€èŒè´£åŸåˆ™</em>ã€‚ æŠ½è±¡éƒ¨åˆ†ä¸“æ³¨äºå¤„ç†é«˜å±‚é€»è¾‘ï¼Œ å®ç°éƒ¨åˆ†å¤„ç†å¹³å°ç»†èŠ‚ã€‚</li>
</ul>
<p><strong>ç¼ºç‚¹</strong></p>
<ul>
<li>å¯¹é«˜å†…èšçš„ç±»ä½¿ç”¨è¯¥æ¨¡å¼å¯èƒ½ä¼šè®©ä»£ç æ›´åŠ å¤æ‚ã€‚</li>
</ul>
<h4>typescript example</h4>
<p>è¿™é‡Œå®ç°é‚£ä¸ªç½‘é¡µæ¢ä¸»é¢˜çš„ä¾‹å­</p>
<pre><code class="language-typescript">abstract class WebPage {
  protected abstract theme: Theme

  abstract getContent(): string
}

class About extends WebPage {
  protected theme: Theme
  constructor(theme: Theme) {
    super()
    this.theme = theme
  }
  getContent(): string {
    return `about page in ${this.theme.getColor()}`
  }
}

interface Theme {
  getColor(): string
}

class Careers extends WebPage {
  protected theme: Theme
  constructor(theme: Theme) {
    super()
    this.theme = theme
  }
  getContent() {
    return `careers page in ${this.theme.getColor()}`
  }
}

class DarkTheme implements Theme {
  getColor(): string {
    return &#x27;Dark Black&#x27;
  }
}

class LightTheme implements Theme {
  getColor(): string {
    return &#x27;Off white&#x27;
  }
}

class AquaTheme implements Theme {
  getColor(): string {
    return &#x27;Light blue&#x27;
  }
}

const darkTheme = new DarkTheme()
const about = new About(darkTheme)
const careers = new Careers(darkTheme)
console.log(about.getContent())
console.log(careers.getContent())

</code></pre>
<h3>7.ğŸƒäº«å…ƒæ¨¡å¼(Flyweight)</h3>
<p><strong>äº¦ç§°ï¼š</strong> ç¼“å­˜ã€Cache</p>
<h4>ç°å®çš„ä¾‹å­</h4>
<p>ä½ åœ¨ä»€ä¹ˆæ‘Šä½ä¸Šå–è¿‡æ–°é²œçš„èŒ¶å—?ä»–ä»¬é€šå¸¸ä¼šåˆ¶ä½œä¸æ­¢ä¸€ä¸ªæ¯å­ï¼Œé™¤äº†ä½ ä½¿ç”¨çš„é‚£ä¸ªï¼Œå‰©ä¸‹çš„ç•™ç»™å…¶ä»–å®¢æˆ·ï¼Œä»¥èŠ‚çœèµ„æºã€‚Flyweightæ¨¡å¼å°±æ˜¯å…³äºèµ„æºå…±äº«çš„ã€‚</p>
<h4>ç®€å•æ€»ç»“</h4>
<p><strong>äº«å…ƒæ¨¡å¼</strong>æ˜¯ä¸€ç§ç»“æ„å‹è®¾è®¡æ¨¡å¼ï¼Œ å®ƒæ‘’å¼ƒäº†åœ¨æ¯ä¸ªå¯¹è±¡ä¸­ä¿å­˜æ‰€æœ‰æ•°æ®çš„æ–¹å¼ï¼Œ é€šè¿‡å…±äº«å¤šä¸ªå¯¹è±¡æ‰€å…±æœ‰çš„ç›¸åŒçŠ¶æ€ï¼Œ è®©ä½ èƒ½åœ¨æœ‰é™çš„å†…å­˜å®¹é‡ä¸­è½½å…¥æ›´å¤šå¯¹è±¡ã€‚</p>
<h4>ç»´åŸºç™¾ç§‘çš„è§£é‡Š</h4>
<p>åœ¨è®¡ç®—æœºç¼–ç¨‹ä¸­ï¼Œflyweightæ˜¯ä¸€ç§è½¯ä»¶è®¾è®¡æ¨¡å¼ã€‚flyweightæ˜¯é€šè¿‡ä¸å…¶ä»–ç±»ä¼¼å¯¹è±¡å…±äº«å°½å¯èƒ½å¤šçš„æ•°æ®æ¥æœ€å°åŒ–å†…å­˜ä½¿ç”¨çš„å¯¹è±¡;å½“ä¸€ä¸ªç®€å•çš„é‡å¤è¡¨ç¤ºå°†ä½¿ç”¨ä¸å¯æ¥å—çš„å†…å­˜é‡æ—¶ï¼Œå®ƒæ˜¯ä¸€ç§å¤§é‡ä½¿ç”¨å¯¹è±¡çš„æ–¹æ³•</p>
<h4>ä¼˜ç¼ºç‚¹</h4>
<p><strong>ä¼˜ç‚¹</strong></p>
<ul>
<li>å¦‚æœç¨‹åºä¸­æœ‰å¾ˆå¤šç›¸ä¼¼å¯¹è±¡ï¼Œ é‚£ä¹ˆä½ å°†å¯ä»¥èŠ‚çœå¤§é‡å†…å­˜ã€‚</li>
</ul>
<p><strong>ç¼ºç‚¹</strong></p>
<ul>
<li>ä½ å¯èƒ½éœ€è¦ç‰ºç‰²æ‰§è¡Œé€Ÿåº¦æ¥æ¢å–å†…å­˜ï¼Œ å› ä¸ºä»–äººæ¯æ¬¡è°ƒç”¨äº«å…ƒæ–¹æ³•æ—¶éƒ½éœ€è¦é‡æ–°è®¡ç®—éƒ¨åˆ†æƒ…æ™¯æ•°æ®ã€‚</li>
<li>ä»£ç ä¼šå˜å¾—æ›´åŠ å¤æ‚ã€‚ å›¢é˜Ÿä¸­çš„æ–°æˆå‘˜æ€»æ˜¯ä¼šé—®ï¼š  â€œä¸ºä»€ä¹ˆè¦åƒè¿™æ ·æ‹†åˆ†ä¸€ä¸ªå®ä½“çš„çŠ¶æ€ï¼Ÿâ€ã€‚</li>
</ul>
<h4>typescript example</h4>
<pre><code class="language-typescript">class KaraTea {}

interface Tea {
  [key: string]: KaraTea
}
interface Order {
  [key: number]: KaraTea
}
class TeaMaker {
  protected availableTea: Tea = {}
  make(preference: string) {
    if (!this.availableTea[preference]) {
      this.availableTea[preference] = new KaraTea()
    }
    return this.availableTea[preference]
  }
}

class Teashop {
  protected orders: Order = {}
  protected teaMaker: TeaMaker
  constructor(teaMaker: TeaMaker) {
    this.teaMaker = teaMaker
  }
  takeOrder(teaType: string, table: number) {
    this.orders[table] = this.teaMaker.make(teaType)
  }
  server() {
    for (const key in this.orders) {
      console.log(`Serving Tea to table#${key} `)
    }
  }
}

const teaMaker = new TeaMaker()
const shop = new Teashop(teaMaker)

shop.takeOrder(&#x27;less sugar&#x27;, 1)
shop.takeOrder(&#x27;more milk&#x27;, 2)
shop.takeOrder(&#x27;without sugar&#x27;, 5)
shop.server()
</code></pre>
<h2>è¡Œä¸ºè®¾è®¡æ¨¡å¼</h2>
<p>è¡Œä¸ºè®¾è®¡æ¨¡å¼æ¶‰åŠåˆ°å¯¹è±¡ä¹‹é—´çš„èŒè´£åˆ†é…ï¼Œå’Œç»“æ„æ¨¡å¼çš„ä¸åŒä¹‹å¤„åœ¨äºï¼Œå®ƒä¸ä»…æŒ‡å®šäº†ç»“æ„ï¼Œè€Œä¸”æ¦‚è¿°äº†æ¶ˆæ¯ä¼ é€’çš„æ¨¡å¼ï¼Œæ¢å¥è¯è¯´ï¼Œè¿™æœ‰åŠ©äºå›ç­”â€œå¦‚ä½•åœ¨è½¯ä»¶ç»„ç»‡ä¸­è¿è¡Œä¸€ä¸ªè¡Œä¸ºâ€ã€‚</p>
<p>è¿™é‡Œä»‹ç»ä»¥ä¸‹å‡ ç§:</p>
<ul>
<li>Chain of Responsibility</li>
<li>Command</li>
<li>Iterator</li>
<li>Mediator</li>
<li>Memento</li>
<li>Observer</li>
<li>Visitor</li>
<li>Strategy</li>
<li>State</li>
<li>Template Method</li>
</ul>
<h3>1.ğŸ’¡ç­–ç•¥æ¨¡å¼(Strategy)</h3>
<h4>ç°å®ä¾‹å­</h4>
<p>ä¸¾ä¸€ä¸ªæ’åºçš„ä¾‹å­ï¼Œæˆ‘ä»¬é¦–å…ˆå®ç°äº†å†’æ³¡æ’åºï¼Œä½†æ˜¯éšç€æ•°æ®é‡çš„å¢é•¿æˆ‘ä»¬å‘ç°å†’æ³¡æ’åºçš„æ•ˆç‡å˜å¾—å¾ˆæ…¢ï¼Œä¸ºæ­¤ï¼Œæˆ‘ä»¬åˆå®ç°äº†å¿«é€Ÿæ’åºå¤„ç†å¤§æ•°æ®ï¼Œä½†æ˜¯è¿™ä¸ªå¿«é€Ÿæ’åºå¤„ç†å°è§„æ¨¡æ•°æ®çš„æ•ˆç‡æ¯”è¾ƒä½ï¼Œæ‰€ä»¥ä¸ºäº†å¤„ç†è¿™ä¸ªé—®é¢˜ï¼Œæˆ‘ä»¬åˆå®ç°äº†ä¸€ä¸ªé’ˆå¯¹å°è§„æ¨¡æ•°æ®çš„ç­–ç•¥ï¼Œä½¿å¾—åœ¨å¤§è§„æ¨¡æ•°æ®ä¸Šä½¿ç”¨å¿«é€Ÿæ’åºï¼Œå°è§„æ¨¡æ•°æ®ä½¿ç”¨å†’æ³¡æ’åºã€‚</p>
<h4>ç®€å•æ€»ç»“</h4>
<p>ç­–ç•¥æ¨¡å¼å…è®¸æ‚¨æ ¹æ®æƒ…å†µåˆ‡æ¢ç®—æ³•æˆ–ç­–ç•¥</p>
<p>(å®é™…ä¸Šåœ¨jsé‡Œé¢ç”±äºå‡½æ•°æ˜¯ä¸€ç­‰å…¬æ°‘ï¼Œç¬¬ä¸€ä¸ªå‚æ•°è®¾ä¸ºå‡½æ•°ï¼Œä¹‹åä¼ å…¥ä¸åŒçš„æ’åºå‡½æ•°å°±èƒ½è¾¾æˆç±»ä¼¼çš„æ•ˆæœï¼Œä¹Ÿä¸éœ€è¦ç”¨åˆ°å¤šæ€)</p>
<h4>ä¼˜ç¼ºç‚¹</h4>
<p><strong>ä¼˜ç‚¹</strong></p>
<ul>
<li>ä½ å¯ä»¥åœ¨è¿è¡Œæ—¶åˆ‡æ¢å¯¹è±¡å†…çš„ç®—æ³•ã€‚</li>
<li>ä½ å¯ä»¥å°†ç®—æ³•çš„å®ç°å’Œä½¿ç”¨ç®—æ³•çš„ä»£ç éš”ç¦»å¼€æ¥ã€‚</li>
<li>ä½ å¯ä»¥ä½¿ç”¨ç»„åˆæ¥ä»£æ›¿ç»§æ‰¿ã€‚</li>
<li><em>å¼€é—­åŸåˆ™</em>ã€‚ ä½ æ— éœ€å¯¹ä¸Šä¸‹æ–‡è¿›è¡Œä¿®æ”¹å°±èƒ½å¤Ÿå¼•å…¥æ–°çš„ç­–ç•¥ã€‚</li>
</ul>
<p><strong>ç¼ºç‚¹</strong>ï¼š</p>
<ul>
<li>å¦‚æœä½ çš„ç®—æ³•æå°‘å‘ç”Ÿæ”¹å˜ï¼Œ é‚£ä¹ˆæ²¡æœ‰ä»»ä½•ç†ç”±å¼•å…¥æ–°çš„ç±»å’Œæ¥å£ã€‚ ä½¿ç”¨è¯¥æ¨¡å¼åªä¼šè®©ç¨‹åºè¿‡äºå¤æ‚ã€‚</li>
<li>å®¢æˆ·ç«¯å¿…é¡»çŸ¥æ™“ç­–ç•¥é—´çš„ä¸åŒâ€”â€”å®ƒéœ€è¦é€‰æ‹©åˆé€‚çš„ç­–ç•¥ã€‚</li>
<li>è®¸å¤šç°ä»£ç¼–ç¨‹è¯­è¨€æ”¯æŒå‡½æ•°ç±»å‹åŠŸèƒ½ï¼Œ å…è®¸ä½ åœ¨ä¸€ç»„åŒ¿åå‡½æ•°ä¸­å®ç°ä¸åŒç‰ˆæœ¬çš„ç®—æ³•ã€‚ è¿™æ ·ï¼Œ ä½ ä½¿ç”¨è¿™äº›å‡½æ•°çš„æ–¹å¼å°±å’Œä½¿ç”¨ç­–ç•¥å¯¹è±¡æ—¶å®Œå…¨ç›¸åŒï¼Œ æ— éœ€å€ŸåŠ©é¢å¤–çš„ç±»å’Œæ¥å£æ¥ä¿æŒä»£ç ç®€æ´ã€‚</li>
</ul>
<h4>typescript example</h4>
<p>typescript ç»™JavaScriptæ·»åŠ äº†æ›´å®Œå–„çš„é¢å‘å¯¹è±¡æ”¯æŒï¼Œæ”¯æŒç±»å‹å’Œinterface</p>
<p>ä¸‹é¢æ˜¯ç”¨typescriptå®ç°è¿™ä¸ªæ’åºçš„ä¾‹å­çš„ä»£ç </p>
<pre><code class="language-typescript">interface SortStrategy {
  sort(arr: Array&lt;number&gt;): Array&lt;number&gt;
}

class BubbleSortStrategy implements SortStrategy {
  sort(arr: number[]): number[] {
    console.log(&#x27;do bubble sort&#x27;)
    return arr
  }
}

class QuickSortStrategy implements SortStrategy {
  sort(arr: number[]): number[] {
    console.log(&#x27;do quick sort&#x27;)
    return arr
  }
}

class Sorter {
  sortStrategy: SortStrategy
  constructor(sortStrategy: SortStrategy) {
    this.sortStrategy = sortStrategy
  }
  sort(arr: Array&lt;number&gt;): Array&lt;number&gt; {
    return this.sortStrategy.sort(arr)
  }
}

new Sorter(new BubbleSortStrategy()).sort([9, 2, 4, 3, 5])
new Sorter(new QuickSortStrategy()).sort([9, 2, 4, 3, 5])

</code></pre>
<p>å®é™…ä¸Šæœ€åç”Ÿæˆes5çš„ä»£ç ï¼Œé‡Œé¢å°±æ²¡æœ‰æ¥å£äº†ï¼Œ</p>
<p>JavaScriptçš„å¤šæ€å’Œpythonä¸€æ ·ï¼Œæ˜¯é€šè¿‡é¸­å­ç±»å‹å®ç°çš„ã€‚</p>
<pre><code class="language-javascript">&quot;use strict&quot;;
var BubbleSortStrategy = /** @class */ (function () {
    function BubbleSortStrategy() {
    }
    BubbleSortStrategy.prototype.sort = function (arr) {
        console.log(&#x27;do bubble sort&#x27;);
        return arr;
    };
    return BubbleSortStrategy;
}());
var QuickSortStrategy = /** @class */ (function () {
    function QuickSortStrategy() {
    }
    QuickSortStrategy.prototype.sort = function (arr) {
        console.log(&#x27;do quick sort&#x27;);
        return arr;
    };
    return QuickSortStrategy;
}());
var Sorter = /** @class */ (function () {
    function Sorter(sortStrategy) {
        this.sortStrategy = sortStrategy;
    }
    Sorter.prototype.sort = function (arr) {
        return this.sortStrategy.sort(arr);
    };
    return Sorter;
}());
new Sorter(new BubbleSortStrategy()).sort([9, 2, 4, 3, 5]);
new Sorter(new QuickSortStrategy()).sort([9, 2, 4, 3, 5]);
</code></pre>
<p>ä¸‹é¢æ˜¯æŒ‰ç…§head first è®¾è®¡æ¨¡å¼ï¼Œè¿™æœ¬ä¹¦ç¬¬ä¸€ä¸ªä¾‹å­å®ç°çš„é¸­å­æ¨¡æ‹Ÿå™¨ä»£ç ã€‚</p>
<p>ä½¿ç”¨äº†ç­–ç•¥æ¨¡å¼ï¼ŒæŠŠç»™é¸­å­æ·»åŠ å„ç§è¡Œä¸ºçš„ä»£ç æŠ½ç¦»å‡ºæ¥äº†ï¼Œä½¿å¾—æ·»åŠ æ–°çš„è¡Œä¸ºçš„ä»£ç æ”¹åŠ¨æ¯”è¾ƒå°ï¼Œå¹¶ä¸”å¯ä»¥åŠ¨æ€æ”¹å˜è¡Œä¸ºã€‚</p>
<pre><code class="language-typescript">interface FlyBehavior {
  fly(): void
}
class FlyWithWings implements FlyBehavior {
  fly(): void {
    console.log(&#x27;i can fly&#x27;)
  }
}
class FlyNoWay implements FlyBehavior {
  fly(): void {
    console.log(&#x27;i can not fly&#x27;)
  }
}
class FlyRocketPowered implements FlyBehavior {
  fly(): void {
    console.log(&#x27;fly with a rocket!!!!!!!&#x27;)
  }
}

interface QuackBehavior {
  quack(): void
}
class Quack implements QuackBehavior {
  quack(): void {
    console.log(&#x27;quack!!!&#x27;)
  }
}

class MuteQuack implements QuackBehavior {
  quack(): void {
    console.log(&#x27;&lt;&lt;Silence&gt;&gt;&#x27;)
  }
}

abstract class Duck {
  abstract flyBehavior: FlyBehavior
  abstract quackBehavior: QuackBehavior
  abstract display(): void
  performFly(): void {
    this.flyBehavior.fly()
  }
  performQuack(): void {
    this.quackBehavior.quack()
  }
  swim(): void {
    console.log(&#x27;All ducks float,even decoys&#x27;)
  }
}
class MallardDuck extends Duck {
  flyBehavior: FlyBehavior = new FlyWithWings()
  quackBehavior: QuackBehavior = new Quack()
  display(): void {
    console.log(&#x27;this is MallarDuck&#x27;)
    this.performQuack()
    this.performFly()
    this.swim()
  }
}

class ModelDuck extends Duck {
  flyBehavior: FlyBehavior = new FlyRocketPowered()
  quackBehavior: QuackBehavior = new MuteQuack()
  display(): void {
    console.log(&#x27;this is model duck&#x27;)
    this.performQuack()
    this.performFly()
    this.swim()
  }
}

class DuckCall extends Quack {}
// const duck1 = new TestDuck()
// duck1.performFly()
// duck1.performQuack()
new MallardDuck().display()
new ModelDuck().display()
new DuckCall().quack()

</code></pre>
<h4>golang example</h4>
<p>goè¯­è¨€æ²¡æœ‰ç»§æ‰¿ï¼Œgoè¯­è¨€çš„interfaceä¹Ÿæ¯”è¾ƒè½»é‡ï¼Œç±»ä¼¼äºpythonå’Œjsè¿™æ ·çš„é¸­å­ç±»å‹äº†ï¼Œåªæ˜¯å¤šäº†ç±»å‹æ£€æŸ¥è€Œå·²ï¼Œç¼–è¯‘é˜¶æ®µæ‰¾ä¸åˆ°å¯¹åº”çš„å‡½æ•°å°±ä¼šæŠ¥é”™äº†ã€‚</p>
<p>golangçš„interfaceåªèƒ½åŒ…å«å‡½æ•°ï¼Œç„¶åå®ç°è¿™ä¸ªinterfaceåªè¦å®ç°åŒæ ·æ ¼å¼çš„å‡½æ•°å°±ç®—å®ç°æ¥å£ã€‚</p>
<p>æ•´ä½“æ¥è¯´è¿˜æ˜¯æ¯”è¾ƒçµæ´»çš„ï¼Œæ¯”è¾ƒç®€æ´çš„ã€‚æ‰€ä»¥ä¸€ä¸ªç©ºæ¥å£interface{}æ‰€æœ‰ç±»å‹éƒ½å®ç°äº†å®ƒï¼Œå¯ä»¥ç”¨ç©ºæ¥å£æ¥æ”¶æ‰€æœ‰ç±»å‹ã€‚</p>
<pre><code class="language-go">package main

import &quot;fmt&quot;

type SortStrategyer interface {
	sort(list []int) []int
}

type BubbleSortStrategy struct {
}

func (b *BubbleSortStrategy) sort(list []int) []int {
	fmt.Println(&quot;do bubble sort&quot;)
	return list
}

type QuickSortStrategy struct {
}

func (b *QuickSortStrategy) sort(list []int) []int {
	fmt.Println(&quot;do quick sort&quot;)
	return list
}

type Sorter struct {
	strategy SortStrategyer
}

func (s *Sorter) doSort(list []int) []int {
	return s.strategy.sort(list)
}

func main() {
	testList := []int{4, 5, 3}
	sort1 := Sorter{strategy: &amp;BubbleSortStrategy{}}
	sort1.doSort(testList)
	sort2 := Sorter{strategy: &amp;QuickSortStrategy{}}
	sort2.doSort(testList)
	sort1.strategy = &amp;QuickSortStrategy{}
	sort1.doSort(testList)
}

</code></pre>
<h4>dart example</h4>
<p>dart æ˜¯æˆ‘ç”¨çš„å‡ ç§ç¼–ç¨‹è¯­è¨€ä¸­è¯­æ³•æœ€æ¥è¿‘javaçš„ã€‚</p>
<p>typescriptä¹Ÿå¾ˆåƒjavaï¼Œä½†æ˜¯å®ƒè·Ÿgoä¸€æ ·æŠŠç±»å‹æ”¾åœ¨å˜é‡åé¢äº†ã€‚</p>
<p>dartçš„ä¸åŒä¹‹å¤„åœ¨äºï¼Œdartä¸­æ²¡æœ‰åƒjavaä¸€æ ·çš„interfaceå…³é”®å­—ï¼Œdartä¸­æ¯ä¸ªç±»éƒ½å¯ä»¥å½“ä½œæ¥å£ï¼Œå› æ­¤è¿™é‡Œæˆ‘ä»¬ç”¨äº†æŠ½è±¡ç±»ä½œä¸ºä¸€ä¸ªæ¥å£ä½¿ç”¨ã€‚</p>
<pre><code class="language-dart">abstract class SortStrategy {
  List&lt;int&gt; sort(List&lt;int&gt; data);
}

class BubbleSortStrategy implements SortStrategy {
  @override
  List&lt;int&gt; sort(List&lt;int&gt; data) {
    print(&#x27;do bubble sort&#x27;);
    return data;
  }
}

class QuickSortStrategy implements SortStrategy {
  @override
  List&lt;int&gt; sort(List&lt;int&gt; data) {
    print(&#x27;do qucik sort&#x27;);
    return data;
  }
}

class Sorter {
  final SortStrategy sortStrategy;
// datr æ„é€ å‡½æ•°è¯­æ³•ç³–ï¼Œåªéœ€è¦åœ¨å‚æ•°åˆ—è¡¨åˆ—å‡ºåˆå§‹åŒ–å‚æ•°ï¼Œèµ‹å€¼è‡ªåŠ¨å¸®ä½ å®ç°
  Sorter(this.sortStrategy);

  List&lt;int&gt; doSort(List&lt;int&gt; data) {
    return this.sortStrategy.sort(data);
  }
}

main(List&lt;String&gt; args) {
  var sort1 = Sorter(BubbleSortStrategy());
  sort1.doSort([1, 2, 3]);
  var sort2 = Sorter(QuickSortStrategy());
  sort2.doSort([1, 2, 3]);
}

</code></pre>
<h3>2.ğŸ˜è§‚å¯Ÿè€…æ¨¡å¼(Observer)</h3>
<h4>ç°å®ä¾‹å­</h4>
<p>ä¹Ÿå«åšå‘å¸ƒè®¢é˜…æ¨¡å¼,è¿™é‡Œç»™å‡ºçš„ä¾‹å­æ˜¯,æ±‚èŒè€…è®¢é˜…äº†æ‹›è˜ç½‘ç«™çš„æœåŠ¡,å¦‚æœæœ‰åŒ¹é…çš„å·¥ä½œä¿¡æ¯,æ‹›è˜ç½‘ç«™ä¼šè¿›è¡Œæ¨é€</p>
<h4>ç®€å•æ€»ç»“</h4>
<p>å»ºç«‹å¯¹è±¡é—´çš„ä¾èµ–å…³ç³»ï¼Œä½¿å¾—ä¸€ä¸ªå¯¹è±¡çš„çŠ¶æ€å‘ç”Ÿæ”¹å˜æ—¶ï¼Œæ‰€æœ‰ä¾èµ–å®ƒçš„å¯¹è±¡éƒ½èƒ½è¢«é€šçŸ¥åˆ°ã€‚</p>
<h4>ç»´åŸºç™¾ç§‘çš„æè¿°</h4>
<p>è§‚å¯Ÿè€…æ¨¡å¼æ˜¯ä¸€ç§è½¯ä»¶è®¾è®¡æ¨¡å¼ï¼Œåœ¨è¿™ç§æ¨¡å¼ä¸­ï¼Œä¸€ä¸ªç§°ä¸ºä¸»ä½“çš„å¯¹è±¡ç»´æŠ¤ä¸€ä¸ªç§°ä¸ºè§‚å¯Ÿè€…çš„ä¾èµ–é¡¹åˆ—è¡¨ï¼Œå¹¶åœ¨ä»»ä½•çŠ¶æ€æ›´æ”¹æ—¶è‡ªåŠ¨é€šçŸ¥å®ƒä»¬(é€šå¸¸é€šè¿‡è°ƒç”¨å®ƒä»¬çš„ä¸€ä¸ªæ–¹æ³•)ã€‚</p>
<h4>ä¼˜ç¼ºç‚¹</h4>
<p><strong>ä¼˜ç‚¹</strong></p>
<ul>
<li><em>å¼€é—­åŸåˆ™</em>ã€‚ ä½ æ— éœ€ä¿®æ”¹å‘å¸ƒè€…ä»£ç å°±èƒ½å¼•å…¥æ–°çš„è®¢é˜…è€…ç±» ï¼ˆå¦‚æœæ˜¯å‘å¸ƒè€…æ¥å£åˆ™å¯è½»æ¾å¼•å…¥å‘å¸ƒè€…ç±»ï¼‰ã€‚</li>
<li>ä½ å¯ä»¥åœ¨è¿è¡Œæ—¶å»ºç«‹å¯¹è±¡ä¹‹é—´çš„è”ç³»ã€‚</li>
</ul>
<h4>typescript example</h4>
<pre><code class="language-typescript">interface Subject {
  registerObserver(o: Observer): void
  removeObserver(o: Observer): void
  notifyObservers(info: any): void
}

interface Observer {
  update(s: Subject, arg: Object): void
}

class JobInfo {
  protected info: string
  constructor(info: string) {
    this.info = info
  }
  getInfo() {
    return this.info
  }
}

class JobSite implements Subject {
  protected observers: Array&lt;Observer&gt;
  constructor() {
    this.observers = Array&lt;Observer&gt;()
  }
  registerObserver(o: Observer): void {
    this.observers.push(o)
  }
  removeObserver(o: Observer): void {
    const index = this.observers.indexOf(o)
    this.observers.splice(index, 1)
  }
  notifyObservers(info: JobInfo): void {
    for (const o of this.observers) {
      o.update(this, info)
    }
  }

  AddJob(info: JobInfo) {
    console.log(&#x27;æ‹›è˜ç½‘ç«™æœ‰æ–°çš„å·¥ä½œè¿½åŠ äº†&#x27;)

    this.notifyObservers(info)
  }
}

class Jiucai implements Observer {
  name: string
  constructor(name: string) {
    this.name = name
  }
  update(s: Subject, arg: JobInfo): void {
    console.log(`${this.name}æ”¶åˆ°æ–°å·¥ä½œæ¨é€ï¼ŒèŒä½æ˜¯${arg.getInfo()}`)
  }
}

const zibenjia = new JobSite()

const jiucai1 = new Jiucai(&#x27;ç”Ÿå‘½1å·&#x27;)
const jiucai2 = new Jiucai(&#x27;è„‘ç™½é‡‘&#x27;)

zibenjia.registerObserver(jiucai1)
zibenjia.registerObserver(jiucai2)

zibenjia.AddJob(new JobInfo(&#x27;webå‰ç«¯&#x27;))
zibenjia.AddJob(new JobInfo(&#x27;ç®—æ³•å·¥ç¨‹å¸ˆ&#x27;))

</code></pre>
<p>ä¸‹é¢æ˜¯head firstè®¾è®¡æ¨¡å¼è¿™æœ¬ä¹¦é‡Œé¢å…³äºæ°”è±¡ç«™å’Œå‘Šç¤ºæ¿çš„typescriptä»£ç å®ç°</p>
<pre><code class="language-typescript">interface Subject {
  registerObserver(o: Observer): void
  removeObserver(o: Observer): void
  notifyObservers(): void
}

interface Observer {
  update(temp: number, humidity: number, pressure: number): void
}

interface DisplayElement {
  display(): void
}

class WeatherData implements Subject {
  private observers: Array&lt;Observer&gt;
  private temperature!: number
  private humidity!: number
  private pressure!: number
  constructor() {
    this.observers = Array&lt;Observer&gt;()
  }
  registerObserver(o: Observer): void {
    this.observers.push(o)
  }
  removeObserver(o: Observer): void {
    const index = this.observers.indexOf(o)
    this.observers.splice(index, 1)
  }
  notifyObservers(): void {
    for (const o of this.observers) {
      o.update(this.temperature, this.humidity, this.pressure)
    }
  }

  measurementsChanged() {
    this.notifyObservers()
  }
  setMeasurements(temperature: number, humidity: number, pressure: number) {
    this.temperature = temperature
    this.humidity = humidity
    this.pressure = pressure
    this.measurementsChanged()
  }
}

class CurrentConditionDisplay implements Observer, DisplayElement {
  private temperature!: number
  private humidity!: number
  private weatherData: Subject
  constructor(weatherData: Subject) {
    this.weatherData = weatherData
    this.weatherData.registerObserver(this)
  }
  update(temp: number, humidity: number, pressure: number): void {
    this.temperature = temp
    this.humidity = humidity
    this.display()
  }

  display(): void {
    console.log(
      `Current conditionsc: ${this.temperature} F degrees and ${this.humidity}% humidity`
    )
  }
}

class StatisticsConditionDisplay implements Observer, DisplayElement {
  private pressure!: number
  private weatherData: Subject
  constructor(weatherData: Subject) {
    this.weatherData = weatherData
    this.weatherData.registerObserver(this)
  }
  update(temp: number, humidity: number, pressure: number): void {
    this.pressure = pressure
    this.display()
  }

  display(): void {
    console.log(`Statistics conditionsc: ${this.pressure} pressure`)
  }
}
const wd = new WeatherData()
const ccd = new CurrentConditionDisplay(wd)
const scd = new StatisticsConditionDisplay(wd)
wd.setMeasurements(80, 65, 30.4)
wd.setMeasurements(82, 75, 28.3)
wd.setMeasurements(78, 90, 36.4)

export {}

</code></pre>
<h4>dart example</h4>
<p>dartä¸­Objectä¸æƒ³typescriptä¸€æ ·å¯ä»¥æ¥å—ä»»ä½•å…¶ä»–ç±»ã€‚</p>
<p>æ‰€ä»¥æˆ‘è¿™é‡Œå¯¹observer ç”¨äº†æ³›å‹ã€‚</p>
<pre><code class="language-dart">abstract class Observer&lt;T&gt; {
  void update(Subject s, T o);
}

abstract class Subject {
  void registerObserver(Observer o);
  void removeObserver(Observer o);
  void notifyObservers(Object o);
}

class JobInfo {
  late String info;
  JobInfo(this.info);
}

class JobSite implements Subject {
  final List&lt;Observer&gt; observers = [];

  @override
  void registerObserver(Observer o) {
    this.observers.add(o);
  }

  @override
  void removeObserver(Observer o) {
    this.observers.remove(o);
  }

  @override
  void notifyObservers(Object o) {
    for (var item in this.observers) {
      item.update(this, o);
    }
  }

  void addJobInfo(JobInfo j) {
    print(&#x27;æœ‰æ–°çš„å·¥ä½œä¿¡æ¯&#x27;);
    this.notifyObservers(j);
  }
}

class Jiucai implements Observer&lt;JobInfo&gt; {
  final String name;

  Jiucai(this.name);
  @override
  void update(Subject s, JobInfo o) {
    print(&quot;$nameæ”¶åˆ°æ–°çš„å·¥ä½œæ¨é€ï¼ŒèŒä½æ˜¯${o.info}&quot;);
  }
}

main(List&lt;String&gt; args) {
  var zibenjia = JobSite();

  var jiucai1 = Jiucai(&#x27;æç™½&#x27;);
  var jiucai2 = Jiucai(&#x27;ç™½å±…æ˜“&#x27;);

  zibenjia.registerObserver(jiucai1);
  zibenjia.registerObserver(jiucai2);
  zibenjia.addJobInfo(JobInfo(&#x27;AIå·¥ç¨‹å¸ˆ&#x27;));
}

</code></pre>
<h4>golang example</h4>
<pre><code class="language-go">package main

import &quot;fmt&quot;

type Subject interface {
	registerObserver(o Observer)
	removeObserver(o Observer)
	notifyObservers(s Subject, o interface{})
}

type Observer interface {
	update(s Subject, o interface{})
}

type JobSite struct {
	observers []Observer
}

func (j *JobSite) registerObserver(o Observer) {
	j.observers = append(j.observers, o)
}

func (j *JobSite) removeObserver(o Observer) {
	for i := 0; i &lt; len(j.observers); i++ {
		if o == j.observers[i] {
			j.observers = append(j.observers[:i], j.observers[i+1:]...)
			return
		}
	}
}
func (j *JobSite) notifyObservers(s Subject, o interface{}) {
	for i := 0; i &lt; len(j.observers); i++ {
		j.observers[i].update(s, o)
	}
}
func (j *JobSite) addJobInfo(info string) {
	fmt.Println(&quot;æ–°å·¥ä½œä¿¡æ¯å…¥åº“&quot;)
	j.notifyObservers(j, info)
}

type Jiucai struct {
	name string
}

func (j *Jiucai) update(s Subject, o interface{}) {
	fmt.Printf(&quot;%sæ”¶åˆ°æ–°çš„å·¥ä½œæ¨é€ï¼ŒèŒä½æ˜¯%v\n&quot;, j.name, o)
}
func main() {
	zibenjia := JobSite{observers: []Observer{}}
	jiucai1 := Jiucai{name: &quot;å¼ ä¸‰&quot;}
	jiucai2 := Jiucai{name: &quot;æå››&quot;}
	zibenjia.registerObserver(&amp;jiucai1)
	zibenjia.registerObserver(&amp;jiucai2)
	zibenjia.addJobInfo(&quot;å–ç‰›å¥¶&quot;)

}

</code></pre>
<h3>3.ğŸ‘®å‘½ä»¤æ¨¡å¼(Command)</h3>
<p><strong>äº¦ç§°ï¼š</strong> åŠ¨ä½œã€äº‹åŠ¡ã€Actionã€Transaction</p>
<h4>çœŸå®ä¸–ç•Œçš„ä¾‹å­</h4>
<p>ä¸€ä¸ªä¾‹å­æ˜¯é¤é¦†ç‚¹é¤ï¼Œ æ‚¨ï¼ˆå³å®¢æˆ·ï¼‰è¯¢é—®æœåŠ¡å‘˜ï¼ˆå³ï¼Œè°ƒç”¨è€…ï¼‰æºå¸¦ä¸€äº›é£Ÿç‰©ï¼ˆå³å‘½ä»¤ï¼‰å’ŒæœåŠ¡å‘˜åªéœ€å°†è¯¥è¯·æ±‚è½¬å‘ç»™å¨å¸ˆï¼ˆå³æ¥æ”¶è€…ï¼‰ï¼Œè¯¥è¯·æ±‚å…·æœ‰å…³äºçƒ¹é¥ªçš„å†…å®¹å’Œå¦‚ä½•çƒ¹é¥ªçš„çŸ¥è¯†ã€‚ å¦ä¸€ä¸ªä¾‹å­æ˜¯æ‚¨ï¼ˆå³å®¢æˆ·ç«¯ï¼‰ä½¿ç”¨é¥æ§å™¨ï¼ˆå³ï¼ŒCommandï¼‰çš„ç”µè§†ï¼ˆå³ï¼Œæ¥æ”¶å™¨ï¼‰æ‰“å¼€ï¼ˆå³ï¼Œæ¥æ”¶å™¨ï¼‰ã€‚</p>
<h4>ç®€å•æ€»ç»“</h4>
<p>å…è®¸æ‚¨åœ¨å¯¹è±¡ä¸­å°è£…åŠ¨ä½œã€‚æ­¤æ¨¡å¼èƒŒåçš„å…³é”®æ€æƒ³æ˜¯æä¾›åˆ†ç¦»å®¢æˆ·æœºä¸æ¥æ”¶è€…çš„æ–¹æ³•ã€‚</p>
<h4>ç»´åŸºç™¾ç§‘çš„è§£é‡Š</h4>
<p>åœ¨é¢å‘å¯¹è±¡ç¼–ç¨‹ä¸­ï¼Œå‘½ä»¤æ¨¡å¼æ˜¯ä¸€ç§è¡Œä¸ºè®¾è®¡æ¨¡å¼ï¼Œåœ¨è¿™ç§æ¨¡å¼ä¸­ï¼Œä¸€ä¸ªå¯¹è±¡è¢«ç”¨æ¥å°è£…åœ¨ä»¥åæ‰§è¡Œä¸€ä¸ªåŠ¨ä½œæˆ–è§¦å‘ä¸€ä¸ªäº‹ä»¶æ‰€éœ€çš„æ‰€æœ‰ä¿¡æ¯ã€‚è¯¥ä¿¡æ¯åŒ…æ‹¬æ–¹æ³•åã€æ‹¥æœ‰è¯¥æ–¹æ³•çš„å¯¹è±¡å’Œæ–¹æ³•å‚æ•°çš„å€¼ã€‚</p>
<h4>ä¼˜ç¼ºç‚¹</h4>
<p><strong>ä¼˜ç‚¹</strong></p>
<ul>
<li><em>å•ä¸€èŒè´£åŸåˆ™</em>ã€‚ ä½ å¯ä»¥è§£è€¦è§¦å‘å’Œæ‰§è¡Œæ“ä½œçš„ç±»ã€‚</li>
<li><em>å¼€é—­åŸåˆ™</em>ã€‚ ä½ å¯ä»¥åœ¨ä¸ä¿®æ”¹å·²æœ‰å®¢æˆ·ç«¯ä»£ç çš„æƒ…å†µä¸‹åœ¨ç¨‹åºä¸­åˆ›å»ºæ–°çš„å‘½ä»¤ã€‚</li>
<li>ä½ å¯ä»¥å®ç°æ’¤é”€å’Œæ¢å¤åŠŸèƒ½ã€‚</li>
<li>ä½ å¯ä»¥å®ç°æ“ä½œçš„å»¶è¿Ÿæ‰§è¡Œã€‚</li>
<li>ä½ å¯ä»¥å°†ä¸€ç»„ç®€å•å‘½ä»¤ç»„åˆæˆä¸€ä¸ªå¤æ‚å‘½ä»¤ã€‚</li>
</ul>
<p><strong>ç¼ºç‚¹</strong></p>
<ul>
<li>ä»£ç å¯èƒ½ä¼šå˜å¾—æ›´åŠ å¤æ‚ï¼Œ å› ä¸ºä½ åœ¨å‘é€è€…å’Œæ¥æ”¶è€…ä¹‹é—´å¢åŠ äº†ä¸€ä¸ªå…¨æ–°çš„å±‚æ¬¡ã€‚</li>
</ul>
<h4>typescript example</h4>
<p>ä¸‹é¢æ˜¯ä¸€ä¸ªé¥æ§å™¨æ§åˆ¶ç¯æ³¡å¼€å…³çš„å®ç°ã€‚</p>
<pre><code class="language-typescript">// ç¯æ³¡
class Bulb {
  turnOn() {
    console.log(&#x27;Bulb has been lit&#x27;)
  }
  turnOff() {
    console.log(&#x27;be dark&#x27;)
  }
}

interface Command {
  execute(): void
  undo(): void
  redo(): void
}

class TurnOn implements Command {
  protected bulb: Bulb
  constructor(bulb: Bulb) {
    this.bulb = bulb
  }
  execute(): void {
    this.bulb.turnOn()
  }
  undo(): void {
    this.bulb.turnOff()
  }
  redo(): void {
    this.execute()
  }
}
class TurnOff implements Command {
  protected bulb: Bulb
  constructor(bulb: Bulb) {
    this.bulb = bulb
  }
  execute(): void {
    this.bulb.turnOff()
  }
  undo(): void {
    this.bulb.turnOn()
  }
  redo(): void {
    this.execute()
  }
}

class RemoteControl {
  submit(command: Command) {
    command.execute()
  }
}

const bulb = new Bulb()

const turnOn = new TurnOn(bulb)
const turnOff = new TurnOff(bulb)

const remote = new RemoteControl()
remote.submit(turnOn)
remote.submit(turnOff)

</code></pre>
<h3>4.ğŸ“’ æ¨¡æ¿æ–¹æ³•(Template Method)</h3>
<h4>çœŸå®ä¸–ç•Œçš„ä¾‹å­</h4>
<p>å‡è®¾æˆ‘ä»¬è¦å»ºæˆ¿å­ã€‚å»ºé€ çš„æ­¥éª¤å¯èƒ½åƒè¿™æ ·</p>
<ul>
<li>
<p>å‡†å¤‡å¥½æˆ¿å­çš„åœ°åŸº</p>
</li>
<li>
<p>æ„å»ºå¢™</p>
</li>
<li>
<p>æ·»åŠ å±‹é¡¶</p>
</li>
<li>
<p>æ·»åŠ å…¶ä»–æ¥¼å±‚</p>
</li>
</ul>
<p>è¿™äº›æ­¥éª¤çš„é¡ºåºæ°¸è¿œä¸ä¼šæ”¹å˜ï¼Œä¾‹å¦‚ï¼Œä½ ä¸èƒ½åœ¨å»ºé€ å¢™å£ä¹‹å‰å»ºé€ å±‹é¡¶ï¼Œä½†æ¯ä¸ªæ­¥éª¤éƒ½å¯ä»¥ä¿®æ”¹ï¼Œä¾‹å¦‚ï¼Œå¢™å£å¯ä»¥ç”±æœ¨æã€èšé…¯æˆ–çŸ³å¤´åˆ¶æˆã€‚</p>
<h4>ç®€å•æ€»ç»“</h4>
<p>æ¨¡æ¿æ–¹æ³•å®šä¹‰äº†å¦‚ä½•æ‰§è¡ŒæŸä¸ªç®—æ³•çš„æ¡†æ¶ï¼Œä½†å°†è¿™äº›æ­¥éª¤çš„å®ç°æ¨è¿Ÿåˆ°å­ç±»ã€‚</p>
<h4>ç»´åŸºç™¾ç§‘çš„æè¿°</h4>
<p>åœ¨è½¯ä»¶å·¥ç¨‹ä¸­ï¼Œæ¨¡æ¿æ–¹æ³•æ¨¡å¼æ˜¯ä¸€ç§è¡Œä¸ºè®¾è®¡æ¨¡å¼ï¼Œå®ƒåœ¨æ“ä½œä¸­å®šä¹‰ç®—æ³•çš„ç¨‹åºæ¡†æ¶ï¼Œå°†ä¸€äº›æ­¥éª¤æ¨è¿Ÿåˆ°å­ç±»ä¸­ã€‚å®ƒå…è®¸äººä»¬åœ¨ä¸æ”¹å˜ç®—æ³•ç»“æ„çš„æƒ…å†µä¸‹é‡æ–°å®šä¹‰ç®—æ³•çš„æŸäº›æ­¥éª¤ã€‚</p>
<h4>ä¼˜ç¼ºç‚¹</h4>
<p><strong>ä¼˜ç‚¹</strong></p>
<ul>
<li>ä½ å¯ä»…å…è®¸å®¢æˆ·ç«¯é‡å†™ä¸€ä¸ªå¤§å‹ç®—æ³•ä¸­çš„ç‰¹å®šéƒ¨åˆ†ï¼Œ ä½¿å¾—ç®—æ³•å…¶ä»–éƒ¨åˆ†ä¿®æ”¹å¯¹å…¶æ‰€é€ æˆçš„å½±å“å‡å°ã€‚</li>
<li>ä½ å¯å°†é‡å¤ä»£ç æå–åˆ°ä¸€ä¸ªè¶…ç±»ä¸­ã€‚</li>
</ul>
<p><strong>ç¼ºç‚¹</strong></p>
<ul>
<li>éƒ¨åˆ†å®¢æˆ·ç«¯å¯èƒ½ä¼šå—åˆ°ç®—æ³•æ¡†æ¶çš„é™åˆ¶ã€‚</li>
<li>é€šè¿‡å­ç±»æŠ‘åˆ¶é»˜è®¤æ­¥éª¤å®ç°å¯èƒ½ä¼šå¯¼è‡´è¿å_é‡Œæ°æ›¿æ¢åŸåˆ™_(å³æ´¾ç”Ÿç±»å¯ä»¥åœ¨ç¨‹åºä¸­æ›¿æ¢åŸºç±»å¯¹è±¡)ã€‚</li>
<li>æ¨¡æ¿æ–¹æ³•ä¸­çš„æ­¥éª¤è¶Šå¤šï¼Œ å…¶ç»´æŠ¤å·¥ä½œå°±å¯èƒ½ä¼šè¶Šå›°éš¾ã€‚</li>
</ul>
<h4>typescript example</h4>
<p>å‡è®¾æˆ‘ä»¬æœ‰ä¸€ä¸ªæ„å»ºå·¥å…·ï¼Œå¯ä»¥å¸®åŠ©æˆ‘ä»¬æµ‹è¯•ã€lintã€æ„å»ºã€ç”Ÿæˆæ„å»ºæŠ¥å‘Š(å³ä»£ç è¦†ç›–æŠ¥å‘Šã€lintingæŠ¥å‘Šç­‰)ï¼Œå¹¶å°†æˆ‘ä»¬çš„åº”ç”¨éƒ¨ç½²åˆ°æµ‹è¯•æœåŠ¡å™¨ä¸Šã€‚é¦–å…ˆï¼Œæˆ‘ä»¬æœ‰ä¸ºæ„å»ºç®—æ³•æŒ‡å®šéª¨æ¶çš„åŸºç±»</p>
<pre><code class="language-typescript">abstract class Builder {
  build() {
    this.test()
    this.lint()
    this.assemble()
    this.deploy()
  }
  abstract test(): void
  abstract lint(): void
  abstract assemble(): void
  abstract deploy(): void
}

class AndroidBuilder extends Builder {
  test(): void {
    console.log(&#x27;Running android test&#x27;)
  }
  lint(): void {
    console.log(&#x27;Linting the android code.&#x27;)
  }
  assemble(): void {
    console.log(&#x27;Assembling the andorid build.&#x27;)
  }
  deploy(): void {
    console.log(&#x27;Deploying android build to server&#x27;)
  }
}

class IosBuilder extends Builder {
  test(): void {
    console.log(&#x27;Running ios test&#x27;)
  }
  lint(): void {
    console.log(&#x27;Linting the ios code.&#x27;)
  }
  assemble(): void {
    console.log(&#x27;Assembling the ios build.&#x27;)
  }
  deploy(): void {
    console.log(&#x27;Deploying ios build to server&#x27;)
  }
}

const androidBuilder = new AndroidBuilder()
androidBuilder.build()
const iosBuilder = new IosBuilder()
iosBuilder.build()

</code></pre>
<h3>5.â¿è¿­ä»£å™¨æ¨¡å¼ (Iterator)</h3>
<h4>ç°å®çš„ä¾‹å­</h4>
<p>ä¸€ä¸ªæ—§çš„æ”¶éŸ³æœºå°†æ˜¯è¿­ä»£å™¨çš„ä¸€ä¸ªå¾ˆå¥½çš„ä¾‹å­ï¼Œç”¨æˆ·å¯ä»¥ä»æŸä¸ªæ‹¼æ­å¼€å§‹ï¼Œç„¶åä½¿ç”¨ä¸‹ä¸€ä¸ªæˆ–ä¸Šä¸€ä¸ªæŒ‰é’®é€šè¿‡ç›¸åº”çš„é€šé“ã€‚æˆ–è€…ä»¥MP3æ’­æ”¾å™¨æˆ–ç”µè§†æœºä¸ºä¾‹ï¼Œä½ å¯ä»¥æŒ‰ä¸‹ä¸€ä¸ªå’Œä¸Šä¸€ä¸ªæŒ‰é’®æ¥æµè§ˆè¿ç»­çš„é¢‘é“ï¼Œæˆ–è€…æ¢å¥è¯è¯´ï¼Œå®ƒä»¬éƒ½æä¾›äº†ä¸€ä¸ªç•Œé¢æ¥è¿­ä»£å„ä¸ªé¢‘é“ã€æ­Œæ›²æˆ–ç”µå°ã€‚</p>
<p>åˆæ¯”å¦‚è¯´åˆ—è¡¨å’Œæ•°ç»„çš„éå†æ–¹å¼ä¸åŒ,ä½ å¯ä»¥ç”¨è¿­ä»£å™¨æ¨¡å¼æŠŠä»–ä»¬å°è£…æˆä¸€è‡´çš„ä½¿ç”¨æ–¹å¼.</p>
<h4>ç®€å•æ€»ç»“</h4>
<p><strong>è¿­ä»£å™¨æ¨¡å¼</strong>æ˜¯ä¸€ç§è¡Œä¸ºè®¾è®¡æ¨¡å¼ è®©ä½ èƒ½åœ¨ä¸æš´éœ²é›†åˆåº•å±‚è¡¨ç°å½¢å¼ ï¼ˆåˆ—è¡¨ã€ æ ˆå’Œæ ‘ç­‰ï¼‰ çš„æƒ…å†µä¸‹éå†é›†åˆä¸­æ‰€æœ‰çš„å…ƒç´ ã€‚</p>
<h4>ç»´åŸºç™¾ç§‘çš„è§£é‡Š</h4>
<p>åœ¨é¢å‘å¯¹è±¡ç¼–ç¨‹ä¸­ï¼Œè¿­ä»£å™¨æ¨¡å¼æ˜¯ä¸€ç§è®¾è®¡æ¨¡å¼ï¼Œå…¶ä¸­è¿­ä»£å™¨ç”¨äºéå†å®¹å™¨å¹¶è®¿é—®å®¹å™¨çš„å…ƒç´ ã€‚è¿­ä»£å™¨æ¨¡å¼å°†ç®—æ³•ä¸å®¹å™¨è§£è€¦;åœ¨æŸäº›æƒ…å†µä¸‹ï¼Œç®—æ³•å¿…é¡»æ˜¯ç‰¹å®šäºå®¹å™¨çš„ï¼Œå› æ­¤ä¸èƒ½è§£è€¦ã€‚</p>
<h4>ä¼˜ç¼ºç‚¹</h4>
<p><strong>ä¼˜ç‚¹</strong></p>
<ul>
<li><em>å•ä¸€èŒè´£åŸåˆ™</em>ã€‚ é€šè¿‡å°†ä½“ç§¯åºå¤§çš„éå†ç®—æ³•ä»£ç æŠ½å–ä¸ºç‹¬ç«‹çš„ç±»ï¼Œ ä½ å¯å¯¹å®¢æˆ·ç«¯ä»£ç å’Œé›†åˆè¿›è¡Œæ•´ç†ã€‚</li>
<li><em>å¼€é—­åŸåˆ™</em>ã€‚ ä½ å¯å®ç°æ–°å‹çš„é›†åˆå’Œè¿­ä»£å™¨å¹¶å°†å…¶ä¼ é€’ç»™ç°æœ‰ä»£ç ï¼Œ æ— éœ€ä¿®æ”¹ç°æœ‰ä»£ç ã€‚</li>
<li>ä½ å¯ä»¥å¹¶è¡Œéå†åŒä¸€é›†åˆï¼Œ å› ä¸ºæ¯ä¸ªè¿­ä»£å™¨å¯¹è±¡éƒ½åŒ…å«å…¶è‡ªèº«çš„éå†çŠ¶æ€ã€‚</li>
<li>ç›¸ä¼¼çš„ï¼Œ ä½ å¯ä»¥æš‚åœéå†å¹¶åœ¨éœ€è¦æ—¶ç»§ç»­ã€‚</li>
</ul>
<p><strong>ç¼ºç‚¹</strong></p>
<ul>
<li>å¦‚æœä½ çš„ç¨‹åºåªä¸ç®€å•çš„é›†åˆè¿›è¡Œäº¤äº’ï¼Œ åº”ç”¨è¯¥æ¨¡å¼å¯èƒ½ä¼šçŸ«æ‰è¿‡æ­£ã€‚</li>
<li>å¯¹äºæŸäº›ç‰¹æ®Šé›†åˆï¼Œ ä½¿ç”¨è¿­ä»£å™¨å¯èƒ½æ¯”ç›´æ¥éå†çš„æ•ˆç‡ä½ã€‚</li>
</ul>
<h4>typescript example</h4>
<pre><code class="language-typescript">/**
 * Iterator Design Pattern
 *
 * Intent: Lets you traverse elements of a collection without exposing its
 * underlying representation (list, stack, tree, etc.).
 */

interface Iterator&lt;T&gt; {
  // Return the current element.
  current(): T

  // Return the current element and move forward to next element.
  next(): T

  // Return the key of the current element.
  key(): number

  // Checks if current position is valid.
  valid(): boolean

  // Rewind the Iterator to the first element.
  rewind(): void
}

interface Aggregator {
  // Retrieve an external iterator.
  getIterator(): Iterator&lt;string&gt;
}

/**
 * Concrete Iterators implement various traversal algorithms. These classes
 * store the current traversal position at all times.
 */

class AlphabeticalOrderIterator implements Iterator&lt;string&gt; {
  private collection: WordsCollection

  /**
   * Stores the current traversal position. An iterator may have a lot of
   * other fields for storing iteration state, especially when it is supposed
   * to work with a particular kind of collection.
   */
  private position: number = 0

  /**
   * This variable indicates the traversal direction.
   */
  private reverse: boolean = false

  constructor(collection: WordsCollection, reverse: boolean = false) {
    this.collection = collection
    this.reverse = reverse

    if (reverse) {
      this.position = collection.getCount() - 1
    }
  }

  public rewind() {
    this.position = this.reverse ? this.collection.getCount() - 1 : 0
  }

  public current(): string {
    return this.collection.getItems()[this.position]
  }

  public key(): number {
    return this.position
  }

  public next(): string {
    const item = this.collection.getItems()[this.position]
    this.position += this.reverse ? -1 : 1
    return item
  }

  public valid(): boolean {
    if (this.reverse) {
      return this.position &gt;= 0
    }

    return this.position &lt; this.collection.getCount()
  }
}

/**
 * Concrete Collections provide one or several methods for retrieving fresh
 * iterator instances, compatible with the collection class.
 */
class WordsCollection implements Aggregator {
  private items: string[] = []

  public getItems(): string[] {
    return this.items
  }

  public getCount(): number {
    return this.items.length
  }

  public addItem(item: string): void {
    this.items.push(item)
  }

  public getIterator(): Iterator&lt;string&gt; {
    return new AlphabeticalOrderIterator(this)
  }

  public getReverseIterator(): Iterator&lt;string&gt; {
    return new AlphabeticalOrderIterator(this, true)
  }
}

/**
 * The client code may or may not know about the Concrete Iterator or Collection
 * classes, depending on the level of indirection you want to keep in your
 * program.
 */
const collection = new WordsCollection()
collection.addItem(&#x27;First&#x27;)
collection.addItem(&#x27;Second&#x27;)
collection.addItem(&#x27;Third&#x27;)

const iterator = collection.getIterator()

console.log(&#x27;Straight traversal:&#x27;)
while (iterator.valid()) {
  console.log(iterator.next())
}

console.log(&#x27;&#x27;)
console.log(&#x27;Reverse traversal:&#x27;)
const reverseIterator = collection.getReverseIterator()
while (reverseIterator.valid()) {
  console.log(reverseIterator.next())
}
</code></pre>
<h3>6.ğŸ’¢ çŠ¶æ€æ¨¡å¼(State)</h3>
<h4>ç°å®çš„ä¾‹å­</h4>
<p>å‡è®¾æ‚¨æ­£åœ¨ä½¿ç”¨ä¸€äº›ç»˜å›¾åº”ç”¨ç¨‹åºï¼Œæ‚¨é€‰æ‹©ç”»ç¬”è¿›è¡Œç»˜åˆ¶ã€‚ç°åœ¨ç¬”åˆ·ä¼šæ ¹æ®é€‰æ‹©çš„é¢œè‰²æ”¹å˜å®ƒçš„è¡Œä¸ºï¼Œä¾‹å¦‚ï¼Œå¦‚æœä½ é€‰æ‹©äº†çº¢è‰²ï¼Œå®ƒå°±ä¼šä»¥çº¢è‰²ç»˜åˆ¶ï¼Œå¦‚æœæ˜¯è“è‰²ï¼Œå®ƒå°±ä¼šä»¥è“è‰²ç»˜åˆ¶ï¼Œç­‰ç­‰ã€‚</p>
<p>æ™ºèƒ½æ‰‹æœºçš„æŒ‰é”®å’Œå¼€å…³ä¼šæ ¹æ®è®¾å¤‡å½“å‰çŠ¶æ€å®Œæˆä¸åŒè¡Œä¸ºï¼š</p>
<ul>
<li>å½“æ‰‹æœºå¤„äºè§£é”çŠ¶æ€æ—¶ï¼Œ æŒ‰ä¸‹æŒ‰é”®å°†æ‰§è¡Œå„ç§åŠŸèƒ½ã€‚</li>
<li>å½“æ‰‹æœºå¤„äºé”å®šçŠ¶æ€æ—¶ï¼Œ æŒ‰ä¸‹ä»»ä½•æŒ‰é”®éƒ½å°†è§£é”å±å¹•ã€‚</li>
<li>å½“æ‰‹æœºç”µé‡ä¸è¶³æ—¶ï¼Œ æŒ‰ä¸‹ä»»ä½•æŒ‰é”®éƒ½å°†æ˜¾ç¤ºå……ç”µé¡µé¢ã€‚</li>
</ul>
<h4>ç®€å•æ€»ç»“</h4>
<p><strong>çŠ¶æ€æ¨¡å¼</strong>æ˜¯ä¸€ç§è¡Œä¸ºè®¾è®¡æ¨¡å¼ï¼Œ è®©ä½ èƒ½åœ¨ä¸€ä¸ªå¯¹è±¡çš„å†…éƒ¨çŠ¶æ€å˜åŒ–æ—¶æ”¹å˜å…¶è¡Œä¸ºï¼Œ ä½¿å…¶çœ‹ä¸Šå»å°±åƒæ”¹å˜äº†è‡ªèº«æ‰€å±çš„ç±»ä¸€æ ·ã€‚</p>
<h4>ç»´åŸºç™¾ç§‘çš„è§£é‡Š</h4>
<p>çŠ¶æ€æ¨¡å¼æ˜¯ä¸€ç§è¡Œä¸ºè½¯ä»¶è®¾è®¡æ¨¡å¼ï¼Œå…¶ä»¥é¢å‘å¯¹è±¡æ–¹å¼å®ç°çŠ¶æ€æœºã€‚ åˆ©ç”¨çŠ¶æ€æ¨¡å¼ï¼Œé€šè¿‡å°†æ¯ä¸ªå•ç‹¬çš„çŠ¶æ€ä½œä¸ºçŠ¶æ€æ¨¡å¼æ¥å£çš„æ´¾ç”Ÿç±»å®ç°æ¯ä¸ªå•ç‹¬çš„çŠ¶æ€æ¥å®ç°çŠ¶æ€æœºï¼Œå¹¶é€šè¿‡è°ƒç”¨ç”±æ¨¡å¼çš„è¶…ç±»å®šä¹‰çš„æ–¹æ³•æ¥å®ç°çŠ¶æ€è½¬æ¢ã€‚ çŠ¶æ€æ¨¡å¼å¯ä»¥è¢«è§£é‡Šä¸ºèƒ½å¤Ÿé€šè¿‡æ¨¡å¼æ¥å£ä¸­å®šä¹‰çš„æ–¹æ³•çš„è°ƒç”¨æ¥åˆ‡æ¢å½“å‰ç­–ç•¥çš„ç­–ç•¥æ¨¡å¼ã€‚</p>
<h4>ä¼˜ç¼ºç‚¹</h4>
<p><strong>ä¼˜ç‚¹</strong></p>
<ul>
<li><em>å•ä¸€èŒè´£åŸåˆ™</em>ã€‚ å°†ä¸ç‰¹å®šçŠ¶æ€ç›¸å…³çš„ä»£ç æ”¾åœ¨å•ç‹¬çš„ç±»ä¸­ã€‚</li>
<li><em>å¼€é—­åŸåˆ™</em>ã€‚ æ— éœ€ä¿®æ”¹å·²æœ‰çŠ¶æ€ç±»å’Œä¸Šä¸‹æ–‡å°±èƒ½å¼•å…¥æ–°çŠ¶æ€ã€‚</li>
<li>é€šè¿‡æ¶ˆé™¤è‡ƒè‚¿çš„çŠ¶æ€æœºæ¡ä»¶è¯­å¥ç®€åŒ–ä¸Šä¸‹æ–‡ä»£ç ã€‚</li>
</ul>
<p><strong>ç¼ºç‚¹</strong></p>
<ul>
<li>å¦‚æœçŠ¶æ€æœºåªæœ‰å¾ˆå°‘çš„å‡ ä¸ªçŠ¶æ€ï¼Œ æˆ–è€…å¾ˆå°‘å‘ç”Ÿæ”¹å˜ï¼Œ é‚£ä¹ˆåº”ç”¨è¯¥æ¨¡å¼å¯èƒ½ä¼šæ˜¾å¾—å°é¢˜å¤§ä½œã€‚</li>
</ul>
<h4>ä¸å…¶ä»–æ¨¡å¼çš„å…³ç³»</h4>
<ul>
<li>
<p><strong>æ¡¥æ¥æ¨¡å¼</strong>ã€ <strong>çŠ¶æ€æ¨¡å¼</strong>å’Œ<strong>ç­–ç•¥æ¨¡å¼</strong> ï¼ˆåœ¨æŸç§ç¨‹åº¦ä¸ŠåŒ…æ‹¬é€‚é…å™¨æ¨¡å¼ï¼‰ æ¨¡å¼çš„æ¥å£éå¸¸ç›¸ä¼¼ã€‚ å®é™…ä¸Šï¼Œ å®ƒä»¬éƒ½åŸºäºç»„åˆæ¨¡å¼â€”â€”å³å°†å·¥ä½œå§”æ´¾ç»™å…¶ä»–å¯¹è±¡ï¼Œ ä¸è¿‡ä¹Ÿå„è‡ªè§£å†³äº†ä¸åŒçš„é—®é¢˜ã€‚ æ¨¡å¼å¹¶ä¸åªæ˜¯ä»¥ç‰¹å®šæ–¹å¼ç»„ç»‡ä»£ç çš„é…æ–¹ï¼Œ ä½ è¿˜å¯ä»¥ä½¿ç”¨å®ƒä»¬æ¥å’Œå…¶ä»–å¼€å‘è€…è®¨è®ºæ¨¡å¼æ‰€è§£å†³çš„é—®é¢˜ã€‚</p>
</li>
<li>
<p>çŠ¶æ€å¯è¢«è§†ä¸ºç­–ç•¥çš„æ‰©å±•ã€‚ ä¸¤è€…éƒ½åŸºäºç»„åˆæœºåˆ¶ï¼š å®ƒä»¬éƒ½é€šè¿‡å°†éƒ¨åˆ†å·¥ä½œå§”æ´¾ç»™ â€œå¸®æ‰‹â€ å¯¹è±¡æ¥æ”¹å˜å…¶åœ¨ä¸åŒæƒ…æ™¯ä¸‹çš„è¡Œä¸ºã€‚ ç­–ç•¥ä½¿å¾—è¿™äº›å¯¹è±¡ç›¸äº’ä¹‹é—´å®Œå…¨ç‹¬ç«‹ï¼Œ å®ƒä»¬ä¸çŸ¥é“å…¶ä»–å¯¹è±¡çš„å­˜åœ¨ã€‚ ä½†çŠ¶æ€æ¨¡å¼æ²¡æœ‰é™åˆ¶å…·ä½“çŠ¶æ€ä¹‹é—´çš„ä¾èµ–ï¼Œ ä¸”å…è®¸å®ƒä»¬è‡ªè¡Œæ”¹å˜åœ¨ä¸åŒæƒ…æ™¯ä¸‹çš„çŠ¶æ€ã€‚</p>
</li>
</ul>
<h4>typescript example</h4>
<p>è®©æˆ‘ä»¬ä¸¾ä¸€ä¸ªæ–‡æœ¬ç¼–è¾‘å™¨çš„ä¾‹å­ï¼Œå®ƒå¯ä»¥è®©ä½ æ”¹å˜è¾“å…¥çš„æ–‡æœ¬çš„çŠ¶æ€ï¼Œä¾‹å¦‚ï¼Œå¦‚æœä½ é€‰æ‹©äº†ç²—ä½“ï¼Œå®ƒå°±å¼€å§‹å†™ç²—ä½“ï¼Œå¦‚æœæ˜¯æ–œä½“ï¼Œç„¶åæ˜¯æ–œä½“ç­‰ç­‰ã€‚</p>
<pre><code class="language-typescript">interface WritingState {
  write(words: string): void
}

class UpperCase implements WritingState {
  write(words: string): void {
    console.log(`Uppercase:${words}`)
  }
}

class LowerCase implements WritingState {
  write(words: string): void {
    console.log(`Lowercase:${words}`)
  }
}

class DefaultText implements WritingState {
  write(words: string): void {
    console.log(`DefaultText:${words}`)
  }
}

class TextEditor {
  protected state: WritingState
  constructor(state: WritingState) {
    this.state = state
  }
  setState(state: WritingState) {
    this.state = state
  }
  type(words: string) {
    this.state.write(words)
  }
}

const editor = new TextEditor(new DefaultText())
editor.type(&#x27;hello&#x27;)
editor.setState(new UpperCase())
editor.type(&#x27;1&#x27;)

editor.setState(new LowerCase())

editor.type(&#x27;2&#x27;)

</code></pre>
<h3>7.ğŸ”—è´£ä»»é“¾æ¨¡å¼ Chain of Responsibility</h3>
<h4>ç°å®çš„ä¾‹å­</h4>
<p>ä¾‹å¦‚ï¼Œæ‚¨åœ¨æ‚¨çš„å¸æˆ·ä¸­è®¾ç½®äº†ä¸‰ä¸ªä»˜æ¬¾æ–¹å¼ï¼ˆAï¼ŒBå’ŒCï¼‰è®¾ç½®; æ¯ä¸ªéƒ½æœ‰ä¸åŒçš„é‡ã€‚ Aæœ‰100ç¾å…ƒï¼ŒBæœ‰300ç¾å…ƒï¼ŒCå…·æœ‰1000ç¾å…ƒï¼Œä½ åå¥½çš„è´­ä¹°é¡ºåºæ˜¯å…ˆAåBåC.æ‚¨å°è¯•è´­ä¹°ä»·å€¼210ç¾å…ƒçš„ä¸œè¥¿ã€‚ ä½¿ç”¨è´£ä»»é“¾ï¼Œé¦–å…ˆå°†æ£€æŸ¥å®ƒæ˜¯å¦å¯ä»¥è´­ä¹°è´­ä¹°ï¼Œå¦‚æœæ˜¯è´­ä¹°ï¼Œåˆ™å°†è¿›è¡Œè´­ä¹°ï¼Œå¹¶ä¸”é“¾å°†è¢«æ‰“ç ´ã€‚ å¦‚æœæ²¡æœ‰ï¼Œè¯·æ±‚å°†å‰è¿›ä»¥å‘å¸æˆ·Bæ£€æŸ¥é‡‘é¢å¦‚æœæ˜¯é“¾å°†è¢«æ‰“ç ´ï¼Œå¦åˆ™è¯·æ±‚å°†ç»§ç»­è½¬å‘ï¼Œç›´åˆ°å®ƒæ‰¾åˆ°åˆé€‚çš„å¤„ç†ç¨‹åºã€‚ è¿™é‡Œï¼ŒBå’ŒCæ˜¯é“¾æ¡çš„é“¾æ¥ï¼Œæ•´ä¸ªç°è±¡æ˜¯è´£ä»»é“¾ã€‚</p>
<h4>ç®€å•æ€»ç»“</h4>
<p><strong>è´£ä»»é“¾æ¨¡å¼</strong>æ˜¯ä¸€ç§è¡Œä¸ºè®¾è®¡æ¨¡å¼ï¼Œ å…è®¸ä½ å°†è¯·æ±‚æ²¿ç€å¤„ç†è€…é“¾è¿›è¡Œå‘é€ã€‚ æ”¶åˆ°è¯·æ±‚åï¼Œ æ¯ä¸ªå¤„ç†è€…å‡å¯å¯¹è¯·æ±‚è¿›è¡Œå¤„ç†ï¼Œ æˆ–å°†å…¶ä¼ é€’ç»™é“¾ä¸Šçš„ä¸‹ä¸ªå¤„ç†è€…ã€‚</p>
<h4>ä¼˜ç¼ºç‚¹</h4>
<p><strong>ä¼˜ç‚¹</strong></p>
<ul>
<li>ä½ å¯ä»¥æ§åˆ¶è¯·æ±‚å¤„ç†çš„é¡ºåºã€‚</li>
<li><em>å•ä¸€èŒè´£åŸåˆ™</em>ã€‚ ä½ å¯å¯¹å‘èµ·æ“ä½œå’Œæ‰§è¡Œæ“ä½œçš„ç±»è¿›è¡Œè§£è€¦ã€‚</li>
<li><em>å¼€é—­åŸåˆ™</em>ã€‚ ä½ å¯ä»¥åœ¨ä¸æ›´æ”¹ç°æœ‰ä»£ç çš„æƒ…å†µä¸‹åœ¨ç¨‹åºä¸­æ–°å¢å¤„ç†è€…ã€‚</li>
</ul>
<p><strong>ç¼ºç‚¹</strong></p>
<ul>
<li>éƒ¨åˆ†è¯·æ±‚å¯èƒ½æœªè¢«å¤„ç†ã€‚</li>
</ul>
<h4>typescript example</h4>
<pre><code class="language-typescript">abstract class Account {
  protected successor: Account | null = null
  protected abstract balance: number
  setNext(account: Account) {
    this.successor = account
  }
  pay(amountToPay: number) {
    if (this.canPay(amountToPay)) {
      console.log(`paid ${amountToPay} using ${this.constructor.toString()}`)
    } else if (this.successor) {
      console.log(&#x27;cant pay ,using next...&#x27;)
      this.successor.pay(amountToPay)
    } else {
      throw new Error(&#x27;None of the accounts have enough balance&#x27;)
    }
  }
  canPay(amount: number): boolean {
    return this.balance &gt;= amount
  }
}

class Bank extends Account {
  protected balance: number
  constructor(balance: number) {
    super()
    this.balance = balance
  }
}

class Paypal extends Account {
  protected balance: number
  constructor(balance: number) {
    super()
    this.balance = balance
  }
}

class Bitcoin extends Account {
  protected balance: number
  constructor(balance: number) {
    super()
    this.balance = balance
  }
}

const bank = new Bank(100)
const paypal = new Paypal(200)
const bitcoin = new Bitcoin(300)

bank.setNext(paypal)
paypal.setNext(bitcoin)
bank.pay(259)
</code></pre>
<h3>8.ğŸ‘½ä¸­ä»‹è€…æ¨¡å¼(Mediator)</h3>
<p><strong>äº¦ç§°ï¼š</strong> è°ƒè§£äººã€æ§åˆ¶å™¨ã€Intermediaryã€Controller</p>
<h4>ç°å®çš„ä¾‹å­</h4>
<p>ä¸€ä¸ªä¸€èˆ¬çš„ä¾‹å­æ˜¯ï¼Œå½“ä½ ç”¨æ‰‹æœºå’ŒæŸäººäº¤è°ˆæ—¶ï¼Œæœ‰ä¸€ä¸ªç½‘ç»œæä¾›å•†ååœ¨ä½ å’Œä»–ä»¬ä¹‹é—´ï¼Œä½ çš„è°ˆè¯ç»è¿‡å®ƒè€Œä¸æ˜¯ç›´æ¥å‘é€ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œç½‘ç»œæä¾›è€…æ˜¯ä¸­ä»‹ã€‚</p>
<h4>ç®€å•æ€»ç»“</h4>
<p><strong>ä¸­ä»‹è€…æ¨¡å¼</strong>æ˜¯ä¸€ç§è¡Œä¸ºè®¾è®¡æ¨¡å¼ï¼Œ èƒ½è®©ä½ å‡å°‘å¯¹è±¡ä¹‹é—´æ··ä¹±æ— åºçš„ä¾èµ–å…³ç³»ã€‚ è¯¥æ¨¡å¼ä¼šé™åˆ¶å¯¹è±¡ä¹‹é—´çš„ç›´æ¥äº¤äº’ï¼Œ è¿«ä½¿å®ƒä»¬é€šè¿‡ä¸€ä¸ªä¸­ä»‹è€…å¯¹è±¡è¿›è¡Œåˆä½œã€‚</p>
<h4>ä¼˜ç¼ºç‚¹</h4>
<p><strong>ä¼˜ç‚¹</strong></p>
<ul>
<li><em>å•ä¸€èŒè´£åŸåˆ™</em>ã€‚ ä½ å¯ä»¥å°†å¤šä¸ªç»„ä»¶é—´çš„äº¤æµæŠ½å–åˆ°åŒä¸€ä½ç½®ï¼Œ ä½¿å…¶æ›´æ˜“äºç†è§£å’Œç»´æŠ¤ã€‚</li>
<li><em>å¼€é—­åŸåˆ™</em>ã€‚ ä½ æ— éœ€ä¿®æ”¹å®é™…ç»„ä»¶å°±èƒ½å¢åŠ æ–°çš„ä¸­ä»‹è€…ã€‚</li>
<li>ä½ å¯ä»¥å‡è½»åº”ç”¨ä¸­å¤šä¸ªç»„ä»¶é—´çš„è€¦åˆæƒ…å†µã€‚</li>
<li>ä½ å¯ä»¥æ›´æ–¹ä¾¿åœ°å¤ç”¨å„ä¸ªç»„ä»¶ã€‚</li>
</ul>
<p><strong>ç¼ºç‚¹</strong></p>
<p>ä¸€æ®µæ—¶é—´åï¼Œ ä¸­ä»‹è€…å¯èƒ½ä¼šæ¼”åŒ–æˆä¸º <strong>ä¸Šå¸å¯¹è±¡</strong>ï¼ˆä¸­ä»‹è€…æœ¬èº«ä¼šè¿‡äºå¤æ‚ï¼‰ã€‚</p>
<h4>typescript example</h4>
<pre><code class="language-typescript">interface ChatRoomMediator {
  showMessage(user: User, message: string): void
}

class ChatRoom implements ChatRoomMediator {
  showMessage(user: User, message: string): void {
    const time = new Date().toUTCString()
    const sender = user.getName()
    console.log(`${time}[${sender}]:${message}`)
  }
}

class User {
  protected name: string
  protected chatMediator: ChatRoomMediator
  constructor(name: string, chatMediator: ChatRoomMediator) {
    this.name = name
    this.chatMediator = chatMediator
  }
  getName() {
    return this.name
  }
  send(message: string) {
    this.chatMediator.showMessage(this, message)
  }
}

const mediator = new ChatRoom()

const john = new User(&#x27;John Doe&#x27;, mediator)
const jane = new User(&#x27;Jane Doe&#x27;, mediator)

john.send(&#x27;hi,its me&#x27;)
jane.send(&#x27;hey!&#x27;)
</code></pre>
<h3>9.ğŸ’¾å¤‡å¿˜å½•æ¨¡å¼(Memento)</h3>
<p><strong>äº¦ç§°ï¼š</strong> å¿«ç…§ã€Snapshot</p>
<h4>ç°å®çš„ä¾‹å­</h4>
<p>ä»¥è®¡ç®—å™¨ä¸ºä¾‹ï¼Œæ— è®ºä½•æ—¶ä½ æ‰§è¡Œä¸€äº›è®¡ç®—ï¼Œæœ€åçš„è®¡ç®—éƒ½ä¼šä¿å­˜åœ¨å†…å­˜ä¸­ï¼Œè¿™æ ·ä½ å°±å¯ä»¥ä½¿ç”¨æŸäº›æ“ä½œæŒ‰é’®è¿”å›è®¡ç®—å™¨å¹¶æ¢å¤å®ƒã€‚</p>
<h4>ç®€å•æ€»ç»“</h4>
<p><strong>å¤‡å¿˜å½•æ¨¡å¼</strong>æ˜¯ä¸€ç§è¡Œä¸ºè®¾è®¡æ¨¡å¼ï¼Œ å…è®¸åœ¨ä¸æš´éœ²å¯¹è±¡å®ç°ç»†èŠ‚çš„æƒ…å†µä¸‹ä¿å­˜å’Œæ¢å¤å¯¹è±¡ä¹‹å‰çš„çŠ¶æ€ã€‚</p>
<h4>é€‚åˆçš„ä½¿ç”¨åœºæ™¯</h4>
<p>å½“ä½ éœ€è¦åˆ›å»ºå¯¹è±¡çŠ¶æ€å¿«ç…§æ¥æ¢å¤å…¶ä¹‹å‰çš„çŠ¶æ€æ—¶ï¼Œ å¯ä»¥ä½¿ç”¨å¤‡å¿˜å½•æ¨¡å¼ã€‚</p>
<p>å¤‡å¿˜å½•æ¨¡å¼å…è®¸ä½ å¤åˆ¶å¯¹è±¡ä¸­çš„å…¨éƒ¨çŠ¶æ€ ï¼ˆåŒ…æ‹¬ç§æœ‰æˆå‘˜å˜é‡ï¼‰ï¼Œ å¹¶å°†å…¶ç‹¬ç«‹äºå¯¹è±¡è¿›è¡Œä¿å­˜ã€‚ å°½ç®¡å¤§éƒ¨åˆ†äººå› ä¸º â€œæ’¤é”€â€ è¿™ä¸ªç”¨ä¾‹æ‰è®°å¾—è¯¥æ¨¡å¼ï¼Œ ä½†å…¶å®å®ƒåœ¨å¤„ç†äº‹åŠ¡ ï¼ˆæ¯”å¦‚éœ€è¦åœ¨å‡ºç°é”™è¯¯æ—¶å›æ»šä¸€ä¸ªæ“ä½œï¼‰ çš„è¿‡ç¨‹ä¸­ä¹Ÿå¿…ä¸å¯å°‘ã€‚</p>
<p>å½“ç›´æ¥è®¿é—®å¯¹è±¡çš„æˆå‘˜å˜é‡ã€ è·å–å™¨æˆ–è®¾ç½®å™¨å°†å¯¼è‡´å°è£…è¢«çªç ´æ—¶ï¼Œ å¯ä»¥ä½¿ç”¨è¯¥æ¨¡å¼ã€‚</p>
<p>å¤‡å¿˜å½•è®©å¯¹è±¡è‡ªè¡Œè´Ÿè´£åˆ›å»ºå…¶çŠ¶æ€çš„å¿«ç…§ã€‚ ä»»ä½•å…¶ä»–å¯¹è±¡éƒ½ä¸èƒ½è¯»å–å¿«ç…§ï¼Œ è¿™æœ‰æ•ˆåœ°ä¿éšœäº†æ•°æ®çš„å®‰å…¨æ€§ã€‚</p>
<h4>ä¼˜ç¼ºç‚¹</h4>
<p><strong>ä¼˜ç‚¹</strong></p>
<ul>
<li>ä½ å¯ä»¥åœ¨ä¸ç ´åå¯¹è±¡å°è£…æƒ…å†µçš„å‰æä¸‹åˆ›å»ºå¯¹è±¡çŠ¶æ€å¿«ç…§ã€‚</li>
<li>ä½ å¯ä»¥é€šè¿‡è®©è´Ÿè´£äººç»´æŠ¤åŸå‘å™¨çŠ¶æ€å†å²è®°å½•æ¥ç®€åŒ–åŸå‘å™¨ä»£ç ã€‚</li>
</ul>
<p><strong>ç¼ºç‚¹</strong></p>
<ul>
<li>å¦‚æœå®¢æˆ·ç«¯è¿‡äºé¢‘ç¹åœ°åˆ›å»ºå¤‡å¿˜å½•ï¼Œ ç¨‹åºå°†æ¶ˆè€—å¤§é‡å†…å­˜ã€‚</li>
<li>è´Ÿè´£äººå¿…é¡»å®Œæ•´è·Ÿè¸ªåŸå‘å™¨çš„ç”Ÿå‘½å‘¨æœŸï¼Œ è¿™æ ·æ‰èƒ½é”€æ¯å¼ƒç”¨çš„å¤‡å¿˜å½•ã€‚</li>
<li>ç»å¤§éƒ¨åˆ†åŠ¨æ€ç¼–ç¨‹è¯­è¨€ ï¼ˆä¾‹å¦‚ PHPã€ Python å’Œ JavaScriptï¼‰ ä¸èƒ½ç¡®ä¿å¤‡å¿˜å½•ä¸­çš„çŠ¶æ€ä¸è¢«ä¿®æ”¹ã€‚</li>
</ul>
<h4>typescript example</h4>
<pre><code class="language-typescript">class EditorMemento {
  protected content: string
  constructor(content: string) {
    this.content = content
  }
  getContent() {
    return this.content
  }
}

class Editor {
  protected content = &#x27;&#x27;
  type(words: string) {
    this.content = this.content + words
  }
  getContent() {
    return this.content
  }
  save() {
    return new EditorMemento(this.content)
  }
  restore(memento: EditorMemento) {
    this.content = memento.getContent()
  }
}

const editor = new Editor()
editor.type(&#x27;first sentence\n&#x27;)
editor.type(&#x27;this is second\n&#x27;)
const saved = editor.save()

editor.type(&#x27;third\n&#x27;)
console.log(editor.getContent())
editor.restore(saved)
console.log(editor.getContent())

export {}

</code></pre>
<h3>10.ğŸƒè®¿é—®è€…æ¨¡å¼(Visitor)</h3>
<h4>ç°å®çš„ä¾‹å­</h4>
<p>è€ƒè™‘ä¸€ä¸‹å»è¿ªæ‹œæ—…æ¸¸çš„äººã€‚ä»–ä»¬åªéœ€è¦ä¸€ç§æ–¹å¼(å³ç­¾è¯)è¿›å…¥è¿ªæ‹œã€‚åˆ°è¾¾åï¼Œä»–ä»¬å¯ä»¥è‡ªå·±æ¥å‚è§‚è¿ªæ‹œçš„ä»»ä½•åœ°æ–¹ï¼Œè€Œä¸éœ€è¦ç”³è¯·è®¸å¯æˆ–è¡Œèµ°ä¸€å¤§æ®µè·ç¦»æ¥å‚è§‚è¿™é‡Œçš„ä»»ä½•åœ°æ–¹;åªè¦è®©ä»–ä»¬çŸ¥é“ä¸€ä¸ªåœ°æ–¹ï¼Œä»–ä»¬å°±å¯ä»¥å»å‚è§‚ã€‚è®¿å®¢æ¨¡å¼å¯ä»¥è®©ä½ åšåˆ°è¿™ä¸€ç‚¹ï¼Œå®ƒå¯ä»¥å¸®åŠ©ä½ æ·»åŠ è¦å‚è§‚çš„åœ°æ–¹ï¼Œè¿™æ ·ä»–ä»¬å¯ä»¥å°½å¯èƒ½å¤šåœ°å‚è§‚ï¼Œè€Œä¸å¿…åšä»»ä½•è·‘è…¿çš„å·¥ä½œ</p>
<h4>ç®€å•æ€»ç»“</h4>
<p><strong>è®¿é—®è€…æ¨¡å¼</strong>æ˜¯ä¸€ç§è¡Œä¸ºè®¾è®¡æ¨¡å¼ï¼Œ å®ƒèƒ½å°†ç®—æ³•ä¸å…¶æ‰€ä½œç”¨çš„å¯¹è±¡éš”ç¦»å¼€æ¥ã€‚</p>
<h4>ä¼˜ç¼ºç‚¹</h4>
<p><strong>ä¼˜ç‚¹</strong></p>
<ul>
<li><em>å¼€é—­åŸåˆ™</em>ã€‚ ä½ å¯ä»¥å¼•å…¥åœ¨ä¸åŒç±»å¯¹è±¡ä¸Šæ‰§è¡Œçš„æ–°è¡Œä¸ºï¼Œ ä¸”æ— éœ€å¯¹è¿™äº›ç±»åšå‡ºä¿®æ”¹ã€‚</li>
<li><em>å•ä¸€èŒè´£åŸåˆ™</em>ã€‚ å¯å°†åŒä¸€è¡Œä¸ºçš„ä¸åŒç‰ˆæœ¬ç§»åˆ°åŒä¸€ä¸ªç±»ä¸­ã€‚</li>
<li>è®¿é—®è€…å¯¹è±¡å¯ä»¥åœ¨ä¸å„ç§å¯¹è±¡äº¤äº’æ—¶æ”¶é›†ä¸€äº›æœ‰ç”¨çš„ä¿¡æ¯ã€‚ å½“ä½ æƒ³è¦éå†ä¸€äº›å¤æ‚çš„å¯¹è±¡ç»“æ„ ï¼ˆä¾‹å¦‚å¯¹è±¡æ ‘ï¼‰ï¼Œ å¹¶åœ¨ç»“æ„ä¸­çš„æ¯ä¸ªå¯¹è±¡ä¸Šåº”ç”¨è®¿é—®è€…æ—¶ï¼Œ è¿™äº›ä¿¡æ¯å¯èƒ½ä¼šæœ‰æ‰€å¸®åŠ©ã€‚</li>
</ul>
<p><strong>ç¼ºç‚¹</strong></p>
<ul>
<li>æ¯æ¬¡åœ¨å…ƒç´ å±‚æ¬¡ç»“æ„ä¸­æ·»åŠ æˆ–ç§»é™¤ä¸€ä¸ªç±»æ—¶ï¼Œ ä½ éƒ½è¦æ›´æ–°æ‰€æœ‰çš„è®¿é—®è€…ã€‚</li>
<li>åœ¨è®¿é—®è€…åŒæŸä¸ªå…ƒç´ è¿›è¡Œäº¤äº’æ—¶ï¼Œ å®ƒä»¬å¯èƒ½æ²¡æœ‰è®¿é—®å…ƒç´ ç§æœ‰æˆå‘˜å˜é‡å’Œæ–¹æ³•çš„å¿…è¦æƒé™ã€‚</li>
</ul>
<h4>typescript example</h4>
<pre><code class="language-typescript">interface Animal {
  accept(operation: AnimalOperation): void
}

interface AnimalOperation {
  visitMonkey(monkey: Monkey): void
  visitLion(lion: Lion): void
  visitDolphin(dolphin: Dolphin): void
}

class Monkey implements Animal {
  shout() {
    console.log(&#x27;Ooh oo aa aa!&#x27;)
  }
  accept(operation: AnimalOperation) {
    operation.visitMonkey(this)
  }
}

class Lion implements Animal {
  accept(operation: AnimalOperation): void {
    operation.visitLion(this)
  }
  roar() {
    console.log(&#x27;Roaaar!&#x27;)
  }
}
class Dolphin implements Animal {
  accept(operation: AnimalOperation): void {
    operation.visitDolphin(this)
  }
  speak() {
    console.log(&#x27;Tuut tuttu tuutt&#x27;)
  }
}

class Speak implements AnimalOperation {
  visitMonkey(monkey: Monkey): void {
    monkey.shout()
  }
  visitLion(lion: Lion): void {
    lion.roar()
  }
  visitDolphin(dolphin: Dolphin): void {
    dolphin.speak()
  }
}

const monkey = new Monkey()
const lion = new Lion()
const dolphin = new Dolphin()
const speak = new Speak()
monkey.accept(speak)
lion.accept(speak)
dolphin.accept(speak)
export {}
</code></pre></div></div><div draggable="true" class="bg-pink-50 left-2 top-14 fixed shadow rounded w-1/5" style="min-width:10rem"><div class="absolute"><svg class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="3262" width="22" height="22"><path d="M91.89 238.457c-29.899 0-54.133 24.239-54.133 54.134 0 29.899 24.234 54.137 54.133 54.137s54.138-24.238 54.138-54.137c0-29.896-24.239-54.134-54.138-54.134z" fill="#E5594F" p-id="3263"></path><path d="M91.89 462.463c-29.899 0-54.133 24.239-54.133 54.139 0 29.895 24.234 54.133 54.133 54.133s54.138-24.238 54.138-54.133c0-29.9-24.239-54.139-54.138-54.139z" fill="#C45FA0" p-id="3264"></path><path d="M91.89 686.475c-29.899 0-54.133 24.237-54.133 54.133 0 29.899 24.234 54.138 54.133 54.138s54.138-24.238 54.138-54.138c0-29.896-24.239-54.133-54.138-54.133z" fill="#F39A2B" p-id="3265"></path><path d="M941.26 234.723H328.964c-28.867 0-52.263 23.4-52.263 52.268v3.734c0 28.868 23.396 52.269 52.263 52.269H941.26c28.869 0 52.269-23.401 52.269-52.269v-3.734c-0.001-28.868-23.4-52.268-52.269-52.268z" fill="#F0D043" p-id="3266"></path><path d="M941.26 682.74H328.964c-28.867 0-52.263 23.399-52.263 52.268v3.734c0 28.863 23.396 52.269 52.263 52.269H941.26c28.869 0 52.269-23.405 52.269-52.269v-3.734c-0.001-28.868-23.4-52.268-52.269-52.268z" fill="#4A5699" p-id="3267"></path><path d="M709.781 458.729H328.964c-28.867 0-52.263 23.4-52.263 52.269v3.734c0 28.873 23.396 52.269 52.263 52.269h380.817c28.866 0 52.271-23.396 52.271-52.269v-3.734c0.001-28.869-23.405-52.269-52.271-52.269z" fill="#E5594F" p-id="3268"></path></svg></div><div class="absolute right-0  transition duration-500 transform rotate-180"><svg class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="1196" width="22" height="22"><path d="M432.2304 103.2192c-9.216-6.5536-22.016-4.3008-28.5696 4.9152-6.5536 9.216-4.3008 22.016 4.9152 28.5696l59.0848 41.7792 3.2768 2.2528c-71.8848 9.9328-138.3424 42.8032-190.5664 95.0272-63.3856 63.3856-98.2016 147.5584-98.2016 237.1584 0 45.568 9.0112 89.7024 26.7264 131.3792 17.1008 40.1408 41.5744 76.1856 72.704 107.008 3.9936 3.9936 9.216 5.9392 14.4384 5.9392 5.3248 0 10.5472-2.048 14.5408-6.0416 7.9872-7.9872 7.8848-20.992-0.1024-28.9792-56.32-55.7056-87.2448-130.048-87.2448-209.2032 0-78.6432 30.6176-152.576 86.2208-208.1792 46.4896-46.4896 105.8816-75.5712 169.984-83.7632l-2.9696 3.072-52.4288 52.9408c-7.9872 7.9872-7.8848 20.992 0.1024 28.9792 3.9936 3.9936 9.216 5.9392 14.4384 5.9392 5.3248 0 10.5472-2.048 14.5408-6.0416l109.4656-110.4896-130.3552-92.2624zM841.9328 511.0784c0-45.568-9.0112-89.7024-26.7264-131.3792-17.1008-40.1408-41.5744-76.1856-72.704-107.008-3.9936-3.9936-9.216-5.9392-14.4384-5.9392-5.3248 0-10.5472 2.048-14.5408 6.0416-7.9872 7.9872-7.8848 20.992 0.1024 28.9792 56.32 55.7056 87.2448 130.048 87.2448 209.2032 0 78.6432-30.6176 152.576-86.2208 208.1792-46.4896 46.4896-105.8816 75.5712-169.984 83.7632l2.9696-3.072 52.4288-52.9408c7.9872-7.9872 7.8848-20.992-0.1024-28.9792-3.9936-3.9936-9.216-5.9392-14.4384-5.9392-5.3248 0-10.5472 2.048-14.5408 6.0416L461.6192 828.7232l130.1504 92.0576c9.216 6.5536 22.016 4.3008 28.5696-4.9152 6.5536-9.216 4.3008-22.016-4.9152-28.5696l-59.0848-41.7792-3.2768-2.2528c71.8848-9.9328 138.3424-42.8032 190.5664-95.0272 63.3856-63.3856 98.304-147.5584 98.304-237.1584z" p-id="1197"></path></svg></div><div class="font-bold   pl-7 select-none cursor-move">ç›®å½•</div><div class="overflow-auto" style="max-height:70vh"><ul class="flex flex-col"></ul></div></div></main></div></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"postData":{"id":"è®¾è®¡æ¨¡å¼ç¬”è®°","title":"è®¾è®¡æ¨¡å¼ç¬”è®°","lastUpdated":1615622092,"content":"\n# design-patterns\n\n- [design-patterns](#design-patterns)\n  - [åˆ›é€ è®¾è®¡æ¨¡å¼](#åˆ›é€ è®¾è®¡æ¨¡å¼)\n    - [1.ğŸ ç®€å•å·¥å‚æ¨¡å¼(Simple Factory)](#1ç®€å•å·¥å‚æ¨¡å¼simple-factory)\n      - [ç°å®çš„ä¾‹å­](#ç°å®çš„ä¾‹å­)\n      - [ç®€å•æ€»ç»“](#ç®€å•æ€»ç»“)\n      - [ç»´åŸºç™¾ç§‘æè¿°](#ç»´åŸºç™¾ç§‘æè¿°)\n      - [typescript example](#typescript-example)\n    - [2.ğŸ­å·¥å‚æ–¹æ³•æ¨¡å¼(Factory Method)](#2å·¥å‚æ–¹æ³•æ¨¡å¼factory-method)\n      - [ç°å®çš„ä¾‹å­](#ç°å®çš„ä¾‹å­-1)\n      - [ç®€å•æ€»ç»“](#ç®€å•æ€»ç»“-1)\n      - [ç»´åŸºç™¾ç§‘çš„æè¿°](#ç»´åŸºç™¾ç§‘çš„æè¿°)\n      - [ä¼˜ç¼ºç‚¹](#ä¼˜ç¼ºç‚¹)\n      - [ä¼ªä»£ç ](#ä¼ªä»£ç )\n      - [typescript example](#typescript-example-1)\n    - [3.ğŸ”¨æŠ½è±¡å·¥å‚æ¨¡å¼  Abstract Factory](#3æŠ½è±¡å·¥å‚æ¨¡å¼--abstract-factory)\n      - [ç°å®çš„ä¾‹å­:](#ç°å®çš„ä¾‹å­-2)\n      - [ç®€å•æ€»ç»“](#ç®€å•æ€»ç»“-2)\n      - [ç»´åŸºç™¾ç§‘çš„æè¿°](#ç»´åŸºç™¾ç§‘çš„æè¿°-1)\n      - [ä¼˜ç¼ºç‚¹](#ä¼˜ç¼ºç‚¹-1)\n      - [typescript example](#typescript-example-2)\n    - [4.ğŸ’å•ä¾‹æ¨¡å¼(Singleton)](#4å•ä¾‹æ¨¡å¼singleton)\n      - [ç°å®çš„ä¾‹å­](#ç°å®çš„ä¾‹å­-3)\n      - [ç®€å•æ€»ç»“](#ç®€å•æ€»ç»“-3)\n      - [ç»´åŸºç™¾ç§‘çš„æè¿°](#ç»´åŸºç™¾ç§‘çš„æè¿°-2)\n      - [ä¼˜ç¼ºç‚¹](#ä¼˜ç¼ºç‚¹-2)\n      - [typescript example](#typescript-example-3)\n    - [5.ğŸ‘·ç”Ÿæˆå™¨æ¨¡å¼(Builder)](#5ç”Ÿæˆå™¨æ¨¡å¼builder)\n      - [ç°å®çš„ä¾‹å­](#ç°å®çš„ä¾‹å­-4)\n      - [ç®€å•æ€»ç»“](#ç®€å•æ€»ç»“-4)\n      - [ä¼˜ç¼ºç‚¹](#ä¼˜ç¼ºç‚¹-3)\n      - [typescript example](#typescript-example-4)\n    - [6.ğŸ‘åŸå‹æ¨¡å¼(Prototype)](#6åŸå‹æ¨¡å¼prototype)\n      - [ç°å®çš„ä¾‹å­](#ç°å®çš„ä¾‹å­-5)\n      - [ç®€å•æ€»ç»“](#ç®€å•æ€»ç»“-5)\n      - [é€‚åˆçš„ä½¿ç”¨åœºæ™¯](#é€‚åˆçš„ä½¿ç”¨åœºæ™¯)\n      - [ä¼˜ç¼ºç‚¹](#ä¼˜ç¼ºç‚¹-4)\n      - [typescript example](#typescript-example-5)\n  - [ç»“æ„è®¾è®¡æ¨¡å¼](#ç»“æ„è®¾è®¡æ¨¡å¼)\n    - [1.â˜• è£…é¥°å™¨æ¨¡å¼ï¼ˆDecoratorï¼‰](#1-è£…é¥°å™¨æ¨¡å¼decorator)\n      - [ç°å®çš„ä¾‹å­](#ç°å®çš„ä¾‹å­-6)\n      - [ç®€å•æ€»ç»“](#ç®€å•æ€»ç»“-6)\n      - [ç»´åŸºç™¾ç§‘çš„è§£é‡Š](#ç»´åŸºç™¾ç§‘çš„è§£é‡Š)\n      - [ä¼˜ç¼ºç‚¹](#ä¼˜ç¼ºç‚¹-5)\n      - [typescript example](#typescript-example-6)\n    - [2.ğŸ”Œ é€‚é…å™¨æ¨¡å¼(Adapter)](#2-é€‚é…å™¨æ¨¡å¼adapter)\n      - [ç°å®çš„ä¾‹å­](#ç°å®çš„ä¾‹å­-7)\n      - [ç®€å•æ€»ç»“](#ç®€å•æ€»ç»“-7)\n      - [ç»´åŸºç™¾ç§‘çš„æè¿°](#ç»´åŸºç™¾ç§‘çš„æè¿°-3)\n      - [ä¼˜ç¼ºç‚¹](#ä¼˜ç¼ºç‚¹-6)\n      - [typescript example](#typescript-example-7)\n    - [3.ğŸ“¦ å¤–è§‚æ¨¡å¼(Facade)](#3-å¤–è§‚æ¨¡å¼facade)\n      - [ç°å®çš„ä¾‹å­](#ç°å®çš„ä¾‹å­-8)\n      - [ç®€å•æ€»ç»“](#ç®€å•æ€»ç»“-8)\n      - [ç»´åŸºç™¾ç§‘çš„æè¿°](#ç»´åŸºç™¾ç§‘çš„æè¿°-4)\n      - [ä¼˜ç¼ºç‚¹](#ä¼˜ç¼ºç‚¹-7)\n      - [typescript example](#typescript-example-8)\n    - [4.ğŸŒ¿ç»„åˆæ¨¡å¼ (Composite)](#4ç»„åˆæ¨¡å¼-composite)\n      - [ç°å®çš„ä¾‹å­](#ç°å®çš„ä¾‹å­-9)\n      - [ç®€å•æ€»ç»“](#ç®€å•æ€»ç»“-9)\n      - [ç»´åŸºç™¾ç§‘çš„è§£é‡Š](#ç»´åŸºç™¾ç§‘çš„è§£é‡Š-1)\n      - [ä¼˜ç¼ºç‚¹](#ä¼˜ç¼ºç‚¹-8)\n      - [typescript example](#typescript-example-9)\n    - [5.ğŸ± ä»£ç†æ¨¡å¼(Proxy)](#5-ä»£ç†æ¨¡å¼proxy)\n      - [ç°å®çš„ä¾‹å­](#ç°å®çš„ä¾‹å­-10)\n      - [ç®€å•æ€»ç»“](#ç®€å•æ€»ç»“-10)\n      - [ä¼˜ç¼ºç‚¹](#ä¼˜ç¼ºç‚¹-9)\n      - [ä¸å…¶ä»–æ¨¡å¼çš„è”ç³»](#ä¸å…¶ä»–æ¨¡å¼çš„è”ç³»)\n      - [typescript example](#typescript-example-10)\n    - [6.ğŸš¡ æ¡¥æ¥æ¨¡å¼(Bridge)](#6-æ¡¥æ¥æ¨¡å¼bridge)\n      - [ç°å®çš„ä¾‹å­](#ç°å®çš„ä¾‹å­-11)\n      - [ç®€å•æ€»ç»“](#ç®€å•æ€»ç»“-11)\n      - [ä¼˜ç¼ºç‚¹](#ä¼˜ç¼ºç‚¹-10)\n      - [typescript example](#typescript-example-11)\n    - [7.ğŸƒäº«å…ƒæ¨¡å¼(Flyweight)](#7äº«å…ƒæ¨¡å¼flyweight)\n      - [ç°å®çš„ä¾‹å­](#ç°å®çš„ä¾‹å­-12)\n      - [ç®€å•æ€»ç»“](#ç®€å•æ€»ç»“-12)\n      - [ç»´åŸºç™¾ç§‘çš„è§£é‡Š](#ç»´åŸºç™¾ç§‘çš„è§£é‡Š-2)\n      - [ä¼˜ç¼ºç‚¹](#ä¼˜ç¼ºç‚¹-11)\n      - [typescript example](#typescript-example-12)\n  - [è¡Œä¸ºè®¾è®¡æ¨¡å¼](#è¡Œä¸ºè®¾è®¡æ¨¡å¼)\n    - [1.ğŸ’¡ç­–ç•¥æ¨¡å¼(Strategy)](#1ç­–ç•¥æ¨¡å¼strategy)\n      - [ç°å®ä¾‹å­](#ç°å®ä¾‹å­)\n      - [ç®€å•æ€»ç»“](#ç®€å•æ€»ç»“-13)\n      - [ä¼˜ç¼ºç‚¹](#ä¼˜ç¼ºç‚¹-12)\n      - [typescript example](#typescript-example-13)\n      - [golang example](#golang-example)\n      - [dart example](#dart-example)\n    - [2.ğŸ˜è§‚å¯Ÿè€…æ¨¡å¼(Observer)](#2è§‚å¯Ÿè€…æ¨¡å¼observer)\n      - [ç°å®ä¾‹å­](#ç°å®ä¾‹å­-1)\n      - [ç®€å•æ€»ç»“](#ç®€å•æ€»ç»“-14)\n      - [ç»´åŸºç™¾ç§‘çš„æè¿°](#ç»´åŸºç™¾ç§‘çš„æè¿°-5)\n      - [ä¼˜ç¼ºç‚¹](#ä¼˜ç¼ºç‚¹-13)\n      - [typescript example](#typescript-example-14)\n      - [dart example](#dart-example-1)\n      - [golang example](#golang-example-1)\n    - [3.ğŸ‘®å‘½ä»¤æ¨¡å¼(Command)](#3å‘½ä»¤æ¨¡å¼command)\n      - [çœŸå®ä¸–ç•Œçš„ä¾‹å­](#çœŸå®ä¸–ç•Œçš„ä¾‹å­)\n      - [ç®€å•æ€»ç»“](#ç®€å•æ€»ç»“-15)\n      - [ç»´åŸºç™¾ç§‘çš„è§£é‡Š](#ç»´åŸºç™¾ç§‘çš„è§£é‡Š-3)\n      - [ä¼˜ç¼ºç‚¹](#ä¼˜ç¼ºç‚¹-14)\n      - [typescript example](#typescript-example-15)\n    - [4.ğŸ“’ æ¨¡æ¿æ–¹æ³•(Template Method)](#4-æ¨¡æ¿æ–¹æ³•template-method)\n      - [çœŸå®ä¸–ç•Œçš„ä¾‹å­](#çœŸå®ä¸–ç•Œçš„ä¾‹å­-1)\n      - [ç®€å•æ€»ç»“](#ç®€å•æ€»ç»“-16)\n      - [ç»´åŸºç™¾ç§‘çš„æè¿°](#ç»´åŸºç™¾ç§‘çš„æè¿°-6)\n      - [ä¼˜ç¼ºç‚¹](#ä¼˜ç¼ºç‚¹-15)\n      - [typescript example](#typescript-example-16)\n    - [5.â¿è¿­ä»£å™¨æ¨¡å¼ (Iterator)](#5è¿­ä»£å™¨æ¨¡å¼-iterator)\n      - [ç°å®çš„ä¾‹å­](#ç°å®çš„ä¾‹å­-13)\n      - [ç®€å•æ€»ç»“](#ç®€å•æ€»ç»“-17)\n      - [ç»´åŸºç™¾ç§‘çš„è§£é‡Š](#ç»´åŸºç™¾ç§‘çš„è§£é‡Š-4)\n      - [ä¼˜ç¼ºç‚¹](#ä¼˜ç¼ºç‚¹-16)\n      - [typescript example](#typescript-example-17)\n    - [6.ğŸ’¢ çŠ¶æ€æ¨¡å¼(State)](#6-çŠ¶æ€æ¨¡å¼state)\n      - [ç°å®çš„ä¾‹å­](#ç°å®çš„ä¾‹å­-14)\n      - [ç®€å•æ€»ç»“](#ç®€å•æ€»ç»“-18)\n      - [ç»´åŸºç™¾ç§‘çš„è§£é‡Š](#ç»´åŸºç™¾ç§‘çš„è§£é‡Š-5)\n      - [ä¼˜ç¼ºç‚¹](#ä¼˜ç¼ºç‚¹-17)\n      - [ä¸å…¶ä»–æ¨¡å¼çš„å…³ç³»](#ä¸å…¶ä»–æ¨¡å¼çš„å…³ç³»)\n      - [typescript example](#typescript-example-18)\n    - [7.ğŸ”—è´£ä»»é“¾æ¨¡å¼ Chain of Responsibility](#7è´£ä»»é“¾æ¨¡å¼-chain-of-responsibility)\n      - [ç°å®çš„ä¾‹å­](#ç°å®çš„ä¾‹å­-15)\n      - [ç®€å•æ€»ç»“](#ç®€å•æ€»ç»“-19)\n      - [ä¼˜ç¼ºç‚¹](#ä¼˜ç¼ºç‚¹-18)\n      - [typescript example](#typescript-example-19)\n    - [8.ğŸ‘½ä¸­ä»‹è€…æ¨¡å¼(Mediator)](#8ä¸­ä»‹è€…æ¨¡å¼mediator)\n      - [ç°å®çš„ä¾‹å­](#ç°å®çš„ä¾‹å­-16)\n      - [ç®€å•æ€»ç»“](#ç®€å•æ€»ç»“-20)\n      - [ä¼˜ç¼ºç‚¹](#ä¼˜ç¼ºç‚¹-19)\n      - [typescript example](#typescript-example-20)\n    - [9.ğŸ’¾å¤‡å¿˜å½•æ¨¡å¼(Memento)](#9å¤‡å¿˜å½•æ¨¡å¼memento)\n      - [ç°å®çš„ä¾‹å­](#ç°å®çš„ä¾‹å­-17)\n      - [ç®€å•æ€»ç»“](#ç®€å•æ€»ç»“-21)\n      - [é€‚åˆçš„ä½¿ç”¨åœºæ™¯](#é€‚åˆçš„ä½¿ç”¨åœºæ™¯-1)\n      - [ä¼˜ç¼ºç‚¹](#ä¼˜ç¼ºç‚¹-20)\n      - [typescript example](#typescript-example-21)\n    - [10.ğŸƒè®¿é—®è€…æ¨¡å¼(Visitor)](#10è®¿é—®è€…æ¨¡å¼visitor)\n      - [ç°å®çš„ä¾‹å­](#ç°å®çš„ä¾‹å­-18)\n      - [ç®€å•æ€»ç»“](#ç®€å•æ€»ç»“-22)\n      - [ä¼˜ç¼ºç‚¹](#ä¼˜ç¼ºç‚¹-21)\n      - [typescript example](#typescript-example-22)\n\n\nè®¾è®¡æ¨¡å¼çš„ç±»å‹\n\n- åˆ›é€ å‹ ï¼ˆCreationalï¼‰\n\n- ç»“æ„å‹ï¼ˆStructuralï¼‰\n\n- è¡Œä¸ºå‹ï¼ˆBehavioralï¼‰\n\n## åˆ›é€ è®¾è®¡æ¨¡å¼\n\nåˆ›é€ å‹è®¾è®¡æ¨¡å¼çš„å…³æ³¨ç‚¹æ˜¯å¦‚ä½•å®ä¾‹åŒ–ä¸€ä¸ªæˆ–æ˜¯ä¸€ç»„å…³è”çš„å¯¹è±¡ã€‚\n\nåˆ›é€ å‹æœ‰ä¸‹é¢å‡ ä¸ªä¾‹å­\n\n- Simple Factory\n- Factory Method\n- Abstract Factory\n- Builder\n- Prototype\n- Singleton\n\n### 1.ğŸ ç®€å•å·¥å‚æ¨¡å¼(Simple Factory)\n\n#### ç°å®çš„ä¾‹å­\n\næƒ³è±¡ä½ è¦é€ ä¸€æ‰€æˆ¿å­ï¼Œä½ éœ€è¦ä¸€äº›é—¨ï¼Œä½ å¯ä»¥è‡ªå·±å‡†å¤‡æœ¨å¤´,èƒ¶æ°´,ä½ çš„æœ¨åŒ è£…å¤‡ç­‰ç­‰ï¼Œä½ ä¹Ÿå¯ä»¥æŠŠå·¥ä½œå¤–åŒ…ç»™å·¥å‚ï¼Œè®©å¤–åŒ…åˆ¶é€ å¥½é—¨ç›´æ¥äº¤ä»˜ç»™ä½ ï¼Œè¿™æ ·ä½ å°±ä¸ç”¨äº†è§£åˆ¶é€ é—¨çš„ç»†èŠ‚äº†ï¼Œä¹Ÿä¸ä¼šå› ä¸ºåœ¨å®¶é‡Œæ–½å·¥è€Œæå¾—ä¸€å›¢ç³Ÿã€‚\n\n#### ç®€å•æ€»ç»“\n\nç®€å•å·¥å‚æ¨¡å¼å°è£…äº†ç”Ÿæˆå®ä¾‹çš„æ–¹æ³•ï¼Œè¿™æ ·ç”¨æˆ·å°±å¯ä»¥ç›´æ¥è°ƒç”¨è¿™ä¸ªæ–¹æ³•ï¼Œä¸éœ€è¦çŸ¥é“åˆ›é€ å®ä¾‹çš„é€»è¾‘ã€‚\n\n(ç®€å•å·¥å‚å®é™…ä¸Šä¸ç®—æ˜¯ä¸€ç§è®¾è®¡æ¨¡å¼,ç›¸å¯¹äºåç»­ä»‹ç»çš„å·¥å‚æ–¹æ³•æ¥è¯´.)\n\n#### ç»´åŸºç™¾ç§‘æè¿°\n\nåœ¨é¢å‘å¯¹è±¡ç¼–ç¨‹(OOP)ä¸­ï¼Œå·¥å‚æ˜¯ç”¨äºåˆ›å»ºå…¶ä»–å¯¹è±¡çš„å¯¹è±¡ï¼Œå½¢å¼ä¸Šå·¥å‚æ˜¯ä¸€ä¸ªå‡½æ•°æˆ–æ–¹æ³•ï¼Œå®ƒä»æŸä¸ªæ–¹æ³•è°ƒç”¨ä¸­è¿”å›ä¸åŒåŸå‹æˆ–ç±»çš„å¯¹è±¡ï¼ˆè¿™æ ·æˆ‘ä»¬å°±ä¸ç”¨newè¿™äº›å¯¹è±¡æ¥æ‰‹åŠ¨åˆ›å»ºäº†ï¼‰\n\n#### typescript example\n\n```typescript\ninterface Door {\n  getWidth(): number\n  getHeight(): number\n}\nclass WoodenDoor implements Door {\n  protected width: number\n  protected height: number\n  constructor(width: number, height: number) {\n    this.width = width\n    this.height = height\n  }\n  getWidth(): number {\n    return this.width\n  }\n  getHeight(): number {\n    return this.height\n  }\n  deescribe() {\n    console.log(`width:${this.getWidth()},height:${this.getHeight()}`)\n  }\n}\nclass DoorFactory {\n  static makeDoor(width: number, height: number): WoodenDoor {\n    return new WoodenDoor(width, height)\n  }\n}\n\nconst door = DoorFactory.makeDoor(100, 200)\ndoor.deescribe()\nconst door2 = DoorFactory.makeDoor(300, 500)\ndoor2.deescribe()\n\n```\n\n\n\n### 2.ğŸ­å·¥å‚æ–¹æ³•æ¨¡å¼(Factory Method)\n\n**äº¦ç§°ï¼š** è™šæ‹Ÿæ„é€ å‡½æ•°ã€Virtual Constructor\n\n#### ç°å®çš„ä¾‹å­\n\nè€ƒè™‘ä¸€ä¸ªHRæ‹›äººé¢è¯•çš„ä¾‹å­,ä¸å¯èƒ½æ¯ä¸ªèŒä½éƒ½ç”±ä¸€ä¸ªäººæ¥é¢è¯•ã€‚æ ¹æ®èŒä½ç©ºç¼ºï¼Œå¥¹å¿…é¡»å†³å®šå¹¶æŠŠé¢è¯•æ­¥éª¤å§”æ´¾ç»™ä¸åŒçš„äººã€‚\n\n#### ç®€å•æ€»ç»“\n\nå·¥å‚æ–¹æ³•æ¨¡å¼æä¾›äº†ä¸€ç§å°†å®ä¾‹åŒ–é€»è¾‘å§”æ‰˜ç»™å­ç±»çš„æ–¹æ³•ã€‚\n\n#### ç»´åŸºç™¾ç§‘çš„æè¿°\n\nåœ¨åŸºäºç±»çš„ç¼–ç¨‹ä¸­ï¼Œå·¥å‚æ–¹æ³•æ¨¡å¼æ˜¯ä¸€ç§åˆ›å»ºå·¥å‚æ–¹æ³•çš„åˆ›å»ºæ¨¡å¼ï¼Œå¯ä»¥å¤„ç†åˆ›å»ºå¯¹è±¡çš„é—®é¢˜è€Œæ— éœ€æŒ‡å®šå°†åˆ›å»ºçš„å¯¹è±¡çš„ç¡®åˆ‡ç±»åˆ«ã€‚ è¿™æ˜¯é€šè¿‡é€šè¿‡è°ƒç”¨åœ¨æ¥å£ä¸­æŒ‡å®šçš„å·¥å‚æ–¹æ³•æ¥åˆ›å»ºå¯¹è±¡æ¥å®Œæˆå¯¹è±¡ï¼Œå¹¶ç”±å­ç±»å®ç°ï¼Œæˆ–è€…åœ¨åŸºç±»ä¸­å®ç°ï¼Œå¹¶ä¸”å¯é€‰åœ°ç”±æ´¾ç”Ÿç±»è¦†ç›– - è€Œä¸æ˜¯é€šè¿‡è°ƒç”¨æ„é€ å‡½æ•°ã€‚\n\n#### ä¼˜ç¼ºç‚¹\n\n**ä¼˜ç‚¹**\n\n-  ä½ å¯ä»¥é¿å…åˆ›å»ºè€…å’Œå…·ä½“äº§å“ä¹‹é—´çš„ç´§å¯†è€¦åˆã€‚\n-  *å•ä¸€èŒè´£åŸåˆ™*ã€‚ ä½ å¯ä»¥å°†äº§å“åˆ›å»ºä»£ç æ”¾åœ¨ç¨‹åºçš„å•ä¸€ä½ç½®ï¼Œ ä»è€Œä½¿å¾—ä»£ç æ›´å®¹æ˜“ç»´æŠ¤ã€‚\n-  *å¼€é—­åŸåˆ™*ã€‚ æ— éœ€æ›´æ”¹ç°æœ‰å®¢æˆ·ç«¯ä»£ç ï¼Œ ä½ å°±å¯ä»¥åœ¨ç¨‹åºä¸­å¼•å…¥æ–°çš„äº§å“ç±»å‹ã€‚\n\n**ç¼ºç‚¹**\n\n-  åº”ç”¨å·¥å‚æ–¹æ³•æ¨¡å¼éœ€è¦å¼•å…¥è®¸å¤šæ–°çš„å­ç±»ï¼Œ ä»£ç å¯èƒ½ä¼šå› æ­¤å˜å¾—æ›´å¤æ‚ã€‚ æœ€å¥½çš„æƒ…å†µæ˜¯å°†è¯¥æ¨¡å¼å¼•å…¥åˆ›å»ºè€…ç±»çš„ç°æœ‰å±‚æ¬¡ç»“æ„ä¸­ã€‚\n\n#### ä¼ªä»£ç \n\n```javascript\n// åˆ›å»ºè€…ç±»å£°æ˜çš„å·¥å‚æ–¹æ³•å¿…é¡»è¿”å›ä¸€ä¸ªäº§å“ç±»çš„å¯¹è±¡ã€‚åˆ›å»ºè€…çš„å­ç±»é€šå¸¸ä¼šæä¾›\n// è¯¥æ–¹æ³•çš„å®ç°ã€‚\nclass Dialog is\n    // åˆ›å»ºè€…è¿˜å¯æä¾›ä¸€äº›å·¥å‚æ–¹æ³•çš„é»˜è®¤å®ç°ã€‚\n    abstract method createButton():Button\n\n    // è¯·æ³¨æ„ï¼Œåˆ›å»ºè€…çš„ä¸»è¦èŒè´£å¹¶éæ˜¯åˆ›å»ºäº§å“ã€‚å…¶ä¸­é€šå¸¸ä¼šåŒ…å«ä¸€äº›æ ¸å¿ƒä¸šåŠ¡\n    // é€»è¾‘ï¼Œè¿™äº›é€»è¾‘ä¾èµ–äºç”±å·¥å‚æ–¹æ³•è¿”å›çš„äº§å“å¯¹è±¡ã€‚å­ç±»å¯é€šè¿‡é‡å†™å·¥å‚æ–¹\n    // æ³•å¹¶ä½¿å…¶è¿”å›ä¸åŒç±»å‹çš„äº§å“æ¥é—´æ¥ä¿®æ”¹ä¸šåŠ¡é€»è¾‘ã€‚\n    method render() is\n        // è°ƒç”¨å·¥å‚æ–¹æ³•åˆ›å»ºä¸€ä¸ªäº§å“å¯¹è±¡ã€‚\n        Button okButton = createButton()\n        // ç°åœ¨ä½¿ç”¨äº§å“ã€‚\n        okButton.onClick(closeDialog)\n        okButton.render()\n\n\n// å…·ä½“åˆ›å»ºè€…å°†é‡å†™å·¥å‚æ–¹æ³•ä»¥æ”¹å˜å…¶æ‰€è¿”å›çš„äº§å“ç±»å‹ã€‚\nclass WindowsDialog extends Dialog is\n    method createButton():Button is\n        return new WindowsButton()\n\nclass WebDialog extends Dialog is\n    method createButton():Button is\n        return new HTMLButton()\n\n\n// äº§å“æ¥å£ä¸­å°†å£°æ˜æ‰€æœ‰å…·ä½“äº§å“éƒ½å¿…é¡»å®ç°çš„æ“ä½œã€‚\ninterface Button is\n    method render()\n    method onClick(f)\n\n// å…·ä½“äº§å“éœ€æä¾›äº§å“æ¥å£çš„å„ç§å®ç°ã€‚\nclass WindowsButton implements Button is\n    method render(a, b) is\n        // æ ¹æ® Windows æ ·å¼æ¸²æŸ“æŒ‰é’®ã€‚\n    method onClick(f) is\n        // ç»‘å®šæœ¬åœ°æ“ä½œç³»ç»Ÿç‚¹å‡»äº‹ä»¶ã€‚\n\nclass HTMLButton implements Button is\n    method render(a, b) is\n        // è¿”å›ä¸€ä¸ªæŒ‰é’®çš„ HTML è¡¨è¿°ã€‚\n    method onClick(f) is\n        // ç»‘å®šç½‘ç»œæµè§ˆå™¨çš„ç‚¹å‡»äº‹ä»¶ã€‚\n\n\nclass Application is\n    field dialog: Dialog\n\n    // ç¨‹åºæ ¹æ®å½“å‰é…ç½®æˆ–ç¯å¢ƒè®¾å®šé€‰æ‹©åˆ›å»ºè€…çš„ç±»å‹ã€‚\n    method initialize() is\n        config = readApplicationConfigFile()\n\n        if (config.OS == \"Windows\") then\n            dialog = new WindowsDialog()\n        else if (config.OS == \"Web\") then\n            dialog = new WebDialog()\n        else\n            throw new Exception(\"é”™è¯¯ï¼æœªçŸ¥çš„æ“ä½œç³»ç»Ÿã€‚\")\n\n    // å½“å‰å®¢æˆ·ç«¯ä»£ç ä¼šä¸å…·ä½“åˆ›å»ºè€…çš„å®ä¾‹è¿›è¡Œäº¤äº’ï¼Œä½†æ˜¯å¿…é¡»é€šè¿‡å…¶åŸºæœ¬æ¥å£\n    // è¿›è¡Œã€‚åªè¦å®¢æˆ·ç«¯é€šè¿‡åŸºæœ¬æ¥å£ä¸åˆ›å»ºè€…è¿›è¡Œäº¤äº’ï¼Œä½ å°±å¯å°†ä»»ä½•åˆ›å»ºè€…å­\n    // ç±»ä¼ é€’ç»™å®¢æˆ·ç«¯ã€‚\n    method main() is\n        this.initialize()\n        dialog.render()\n```\n\n\n\n#### typescript example\n\nä¸‹é¢æ˜¯è¿™ä¸ªHRæ‰¾é¢è¯•å®˜ä¾‹å­çš„ä»£ç å®ç°\n\nHiringManageræŠ½è±¡ç±»å°±æ˜¯å·¥å‚ç±»ï¼Œç›¸å½“äºç®€å•å·¥å‚çš„æƒ…å†µä¸‹ï¼ŒæŠŠè¿™ä¸ªå·¥å‚æ–¹æ³•å˜æŠ½è±¡ï¼Œè®©ç»™å¤–éƒ¨å»ç»§æ‰¿å®ç°å®ä¾‹åŒ–ã€‚\n\n```typescript\ninterface Interviewer {\n  askQuestions(): void\n}\n\nclass Developer implements Interviewer {\n  askQuestions(): void {\n    console.log('ask about design patterns!')\n  }\n}\n\nclass CommunityExecutive implements Interviewer {\n  askQuestions(): void {\n    console.log('ask more about community building')\n  }\n}\n\nabstract class HiringManager {\n  protected abstract makeInterviewer(): Interviewer\n  takeInterview() {\n    const interviewer = this.makeInterviewer()\n    interviewer.askQuestions()\n  }\n}\n\nclass DevelopmentManager extends HiringManager {\n  protected makeInterviewer(): Interviewer {\n    return new Developer()\n  }\n}\n\nclass MarketingManager extends HiringManager {\n  protected makeInterviewer(): Interviewer {\n    return new CommunityExecutive()\n  }\n}\n\nconst devManager = new DevelopmentManager()\ndevManager.takeInterview()\n\nconst marketManager = new MarketingManager()\nmarketManager.takeInterview()\n\n```\n\nå¦ä¸€ä¸ªä¾‹å­\n\n```typescript\n/**\n * The Creator class declares the factory method that is supposed to return an\n * object of a Product class. The Creator's subclasses usually provide the\n * implementation of this method.\n */\nabstract class Creator {\n    /**\n     * Note that the Creator may also provide some default implementation of the\n     * factory method.\n     */\n    public abstract factoryMethod(): Product;\n\n    /**\n     * Also note that, despite its name, the Creator's primary responsibility is\n     * not creating products. Usually, it contains some core business logic that\n     * relies on Product objects, returned by the factory method. Subclasses can\n     * indirectly change that business logic by overriding the factory method\n     * and returning a different type of product from it.\n     */\n    public someOperation(): string {\n        // Call the factory method to create a Product object.\n        const product = this.factoryMethod();\n        // Now, use the product.\n        return `Creator: The same creator's code has just worked with ${product.operation()}`;\n    }\n}\n\n/**\n * Concrete Creators override the factory method in order to change the\n * resulting product's type.\n */\nclass ConcreteCreator1 extends Creator {\n    /**\n     * Note that the signature of the method still uses the abstract product\n     * type, even though the concrete product is actually returned from the\n     * method. This way the Creator can stay independent of concrete product\n     * classes.\n     */\n    public factoryMethod(): Product {\n        return new ConcreteProduct1();\n    }\n}\n\nclass ConcreteCreator2 extends Creator {\n    public factoryMethod(): Product {\n        return new ConcreteProduct2();\n    }\n}\n\n/**\n * The Product interface declares the operations that all concrete products must\n * implement.\n */\ninterface Product {\n    operation(): string;\n}\n\n/**\n * Concrete Products provide various implementations of the Product interface.\n */\nclass ConcreteProduct1 implements Product {\n    public operation(): string {\n        return '{Result of the ConcreteProduct1}';\n    }\n}\n\nclass ConcreteProduct2 implements Product {\n    public operation(): string {\n        return '{Result of the ConcreteProduct2}';\n    }\n}\n\n/**\n * The client code works with an instance of a concrete creator, albeit through\n * its base interface. As long as the client keeps working with the creator via\n * the base interface, you can pass it any creator's subclass.\n */\nfunction clientCode(creator: Creator) {\n    // ...\n    console.log('Client: I\\'m not aware of the creator\\'s class, but it still works.');\n    console.log(creator.someOperation());\n    // ...\n}\n\n/**\n * The Application picks a creator's type depending on the configuration or\n * environment.\n */\nconsole.log('App: Launched with the ConcreteCreator1.');\nclientCode(new ConcreteCreator1());\nconsole.log('');\n\nconsole.log('App: Launched with the ConcreteCreator2.');\nclientCode(new ConcreteCreator2());\n```\n\n\n\n### 3.ğŸ”¨æŠ½è±¡å·¥å‚æ¨¡å¼  Abstract Factory\n\n#### ç°å®çš„ä¾‹å­:\n\nå›åˆ°ä¹‹é—´ä½¿ç”¨çš„ç®€å•å·¥å‚çš„é—¨çš„ä¾‹å­,æ‚¨å¯ä»¥ä»æœ¨é—¨å•†åº—å¾—åˆ°æœ¨é—¨ï¼Œé“é—¨å•†åº—æˆ–PVCé—¨ä»ç›¸å…³çš„å•†åº—ã€‚å¦å¤–ï¼Œä½ å¯èƒ½éœ€è¦ä¸€ä¸ªæœ‰ä¸åŒä¸“ä¸šçš„äººæ¥è£…é—¨ï¼Œä¾‹å¦‚æœ¨åŒ åšæœ¨é—¨ï¼Œç„Šå·¥åšé“é—¨ç­‰ã€‚æ­£å¦‚ä½ æ‰€çœ‹åˆ°çš„ï¼Œç°åœ¨é—¨ä¹‹é—´æœ‰ä¸€ä¸ªä¾èµ–å…³ç³»ï¼Œæœ¨é—¨éœ€è¦æœ¨åŒ ï¼Œé“é—¨éœ€è¦ç„Šå·¥ç­‰ç­‰ã€‚\n\n#### ç®€å•æ€»ç»“\n\nå·¥å‚çš„å·¥å‚,å°†ä¸ªåˆ«ä½†ç›¸å…³/ä¾èµ–çš„å·¥å‚åˆ†ç»„åœ¨ä¸€èµ·è€Œä¸æŒ‡å®šå®ƒä»¬çš„å…·ä½“ç±»çš„å·¥å‚ã€‚\n\n#### ç»´åŸºç™¾ç§‘çš„æè¿°\n\næŠ½è±¡å·¥å‚æ¨¡å¼æä¾›äº†ä¸€ç§æ–¹å¼æ¥å°è£…ä¸€ç»„å…·æœ‰å…¬å…±ä¸»é¢˜çš„ç‹¬ç«‹å·¥å‚ï¼Œè€Œæ— éœ€æŒ‡å®šå®ƒä»¬çš„å…·ä½“ç±»\n\n#### ä¼˜ç¼ºç‚¹\n\n**ä¼˜ç‚¹**\n\n- ä½ å¯ä»¥ç¡®ä¿åŒä¸€å·¥å‚ç”Ÿæˆçš„äº§å“ç›¸äº’åŒ¹é…ã€‚\n-  ä½ å¯ä»¥é¿å…å®¢æˆ·ç«¯å’Œå…·ä½“äº§å“ä»£ç çš„è€¦åˆã€‚\n-  *å•ä¸€èŒè´£åŸåˆ™*ã€‚ ä½ å¯ä»¥å°†äº§å“ç”Ÿæˆä»£ç æŠ½å–åˆ°åŒä¸€ä½ç½®ï¼Œ ä½¿å¾—ä»£ç æ˜“äºç»´æŠ¤ã€‚\n-  *å¼€é—­åŸåˆ™*ã€‚ å‘åº”ç”¨ç¨‹åºä¸­å¼•å…¥æ–°äº§å“å˜ä½“æ—¶ï¼Œ ä½ æ— éœ€ä¿®æ”¹å®¢æˆ·ç«¯ä»£ç ã€‚\n\n**ç¼ºç‚¹**\n\n- ç”±äºé‡‡ç”¨è¯¥æ¨¡å¼éœ€è¦å‘åº”ç”¨ä¸­å¼•å…¥ä¼—å¤šæ¥å£å’Œç±»ï¼Œ ä»£ç å¯èƒ½ä¼šæ¯”ä¹‹å‰æ›´åŠ å¤æ‚ã€‚\n\n#### typescript example\n\nä¸‹é¢æ˜¯è¿™ä¸ªæœ¨é—¨ä¾‹å­çš„typescriptä»£ç \n\n```typescript\ninterface Door {\n  getDescription(): void\n}\n\nclass WoodenDoor implements Door {\n  getDescription(): void {\n    console.log('I am a wooden door')\n  }\n}\nclass IronDoor implements Door {\n  getDescription(): void {\n    console.log('i am an iron door')\n  }\n}\n\ninterface DoorFittingExpert {\n  getDescription(): void\n}\n\nclass Welder implements DoorFittingExpert {\n  getDescription(): void {\n    console.log('i can only fit iron doors')\n  }\n}\nclass Carpenter implements DoorFittingExpert {\n  getDescription(): void {\n    console.log('i can only fit wooden doors')\n  }\n}\ninterface DoorFactory {\n  makeDoor(): Door\n  makeFittingExpert(): DoorFittingExpert\n}\nclass WoodenDoorFactory implements DoorFactory {\n  makeDoor(): Door {\n    return new WoodenDoor()\n  }\n  makeFittingExpert(): DoorFittingExpert {\n    return new Carpenter()\n  }\n}\n\nclass IronDoorFactory implements DoorFactory {\n  makeDoor(): Door {\n    return new IronDoor()\n  }\n  makeFittingExpert(): DoorFittingExpert {\n    return new Welder()\n  }\n}\n\nconst woodenFactory = new WoodenDoorFactory()\nconst door = woodenFactory.makeDoor()\nconst expert = woodenFactory.makeFittingExpert()\ndoor.getDescription()\nexpert.getDescription()\nexport {}\n\n```\n\n### 4.ğŸ’å•ä¾‹æ¨¡å¼(Singleton)\n\n**äº¦ç§°ï¼š** å•ä»¶æ¨¡å¼\n\n#### ç°å®çš„ä¾‹å­\n\nä¸€ä¸ªå›½å®¶åªèƒ½æœ‰ä¸€ä¸ªæ€»ç»Ÿï¼Œæ€»ç»Ÿå§‹ç»ˆæ˜¯ä¸€ä¸ªã€‚\n\n#### ç®€å•æ€»ç»“\n\nç¡®ä¿åªåˆ›å»ºç‰¹å®šç±»çš„ä¸€ä¸ªå¯¹è±¡ã€‚\n\n#### ç»´åŸºç™¾ç§‘çš„æè¿°\n\nåœ¨è½¯ä»¶å·¥ç¨‹ä¸­ï¼Œå•ä¾‹æ¨¡å¼æ˜¯ä¸€ç§è½¯ä»¶è®¾è®¡æ¨¡å¼ï¼Œå®ƒå°†ç±»çš„å®ä¾‹åŒ–é™åˆ¶åœ¨ä¸€ä¸ªå¯¹è±¡ä¸­ã€‚å½“åªéœ€è¦ä¸€ä¸ªå¯¹è±¡æ¥åè°ƒæ•´ä¸ªç³»ç»Ÿçš„æ“ä½œæ—¶ï¼Œè¿™å¾ˆæœ‰ç”¨ã€‚\n\nå•ä¾‹æ¨¡å¼å®é™…ä¸Šè¢«è®¤ä¸ºæ˜¯åæ¨¡å¼ï¼Œåº”è¯¥é¿å…è¿‡åº¦ä½¿ç”¨å®ƒã€‚å®ƒå¹¶ä¸ä¸€å®šæ˜¯åçš„ï¼Œå¯èƒ½ä¼šæœ‰ä¸€äº›æœ‰æ•ˆçš„ç”¨ä¾‹ï¼Œä½†æ˜¯åº”è¯¥è°¨æ…ä½¿ç”¨ï¼Œå› ä¸ºå®ƒä¼šåœ¨åº”ç”¨ç¨‹åºä¸­å¼•å…¥ä¸€ä¸ªå…¨å±€çŠ¶æ€ï¼Œåœ¨ä¸€ä¸ªåœ°æ–¹å¯¹å®ƒçš„æ›´æ”¹å¯èƒ½ä¼šå½±å“åˆ°å…¶ä»–åŒºåŸŸï¼Œå¹¶ä¸”å®ƒå¯èƒ½å˜å¾—éå¸¸éš¾ä»¥è°ƒè¯•ã€‚å®ƒä»¬çš„å¦ä¸€ä¸ªç¼ºç‚¹æ˜¯å®ƒä½¿ä½ çš„ä»£ç ç´§å¯†è€¦åˆï¼Œå†åŠ ä¸Šmockå•ä¾‹å¯èƒ½ä¼šå¾ˆå›°éš¾ã€‚\n\n#### ä¼˜ç¼ºç‚¹\n\n**ä¼˜ç‚¹**\n\n-  ä½ å¯ä»¥ä¿è¯ä¸€ä¸ªç±»åªæœ‰ä¸€ä¸ªå®ä¾‹ã€‚\n-  ä½ è·å¾—äº†ä¸€ä¸ªæŒ‡å‘è¯¥å®ä¾‹çš„å…¨å±€è®¿é—®èŠ‚ç‚¹ã€‚\n-  ä»…åœ¨é¦–æ¬¡è¯·æ±‚å•ä¾‹å¯¹è±¡æ—¶å¯¹å…¶è¿›è¡Œåˆå§‹åŒ–ã€‚\n\n**ç¼ºç‚¹**\n\n- è¿åäº†_å•ä¸€èŒè´£åŸåˆ™_ã€‚ è¯¥æ¨¡å¼åŒæ—¶è§£å†³äº†ä¸¤ä¸ªé—®é¢˜ã€‚\n-  å•ä¾‹æ¨¡å¼å¯èƒ½æ©ç›–ä¸è‰¯è®¾è®¡ï¼Œ æ¯”å¦‚ç¨‹åºå„ç»„ä»¶ä¹‹é—´ç›¸äº’äº†è§£è¿‡å¤šç­‰ã€‚\n-  è¯¥æ¨¡å¼åœ¨å¤šçº¿ç¨‹ç¯å¢ƒä¸‹éœ€è¦è¿›è¡Œç‰¹æ®Šå¤„ç†ï¼Œ é¿å…å¤šä¸ªçº¿ç¨‹å¤šæ¬¡åˆ›å»ºå•ä¾‹å¯¹è±¡ã€‚\n-  å•ä¾‹çš„å®¢æˆ·ç«¯ä»£ç å•å…ƒæµ‹è¯•å¯èƒ½ä¼šæ¯”è¾ƒå›°éš¾ï¼Œ å› ä¸ºè®¸å¤šæµ‹è¯•æ¡†æ¶ä»¥åŸºäºç»§æ‰¿çš„æ–¹å¼åˆ›å»ºæ¨¡æ‹Ÿå¯¹è±¡ã€‚ ç”±äºå•ä¾‹ç±»çš„æ„é€ å‡½æ•°æ˜¯ç§æœ‰çš„ï¼Œ è€Œä¸”ç»å¤§éƒ¨åˆ†è¯­è¨€æ— æ³•é‡å†™é™æ€æ–¹æ³•ï¼Œ æ‰€ä»¥ä½ éœ€è¦æƒ³å‡ºä»”ç»†è€ƒè™‘æ¨¡æ‹Ÿå•ä¾‹çš„æ–¹æ³•ã€‚ è¦ä¹ˆå¹²è„†ä¸ç¼–å†™æµ‹è¯•ä»£ç ï¼Œ æˆ–è€…ä¸ä½¿ç”¨å•ä¾‹æ¨¡å¼ã€‚\n\n#### typescript example\n\n````typescript\nclass President {\n  private static instance: President\n  private constructor() {}\n  static getInstance(): President {\n    if (!this.instance) {\n      this.instance = new this()\n    }\n    return this.instance\n  }\n}\n\nconst president1 = President.getInstance()\nconst president2 = President.getInstance()\nconsole.log(president1 == president2)\n````\n\n### 5.ğŸ‘·ç”Ÿæˆå™¨æ¨¡å¼(Builder)\n\n**äº¦ç§°ï¼š** å»ºé€ è€…æ¨¡å¼\n\n#### ç°å®çš„ä¾‹å­\n\nä¾‹å¦‚ï¼Œä½ æƒ³è¦ä¸€ä»½å®šåˆ¶çš„èµ›ç™¾å‘³å¥—é¤ï¼Œä½ å¯ä»¥é€‰æ‹©å‡ ç§æ±‰å ¡çš„åˆ¶ä½œæ–¹æ³•ï¼Œæ¯”å¦‚ä½ æƒ³è¦å“ªç§é¢åŒ…?æ‚¨å–œæ¬¢ä»€ä¹ˆé…±æ±?ä½ æƒ³è¦ä»€ä¹ˆå¥¶é…ª?ç­‰ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œæ„å»ºå™¨æ¨¡å¼å¯ä»¥æä¾›å¸®åŠ©ã€‚\n\n#### ç®€å•æ€»ç»“\n\n**ç”Ÿæˆå™¨æ¨¡å¼**æ˜¯ä¸€ç§åˆ›å»ºå‹è®¾è®¡æ¨¡å¼ï¼Œ ä½¿ä½ èƒ½å¤Ÿåˆ†æ­¥éª¤åˆ›å»ºå¤æ‚å¯¹è±¡ã€‚ è¯¥æ¨¡å¼å…è®¸ä½ ä½¿ç”¨ç›¸åŒçš„åˆ›å»ºä»£ç ç”Ÿæˆä¸åŒç±»å‹å’Œå½¢å¼çš„å¯¹è±¡ã€‚\n\n#### ä¼˜ç¼ºç‚¹\n\n**ä¼˜ç‚¹**\n\n- ä½ å¯ä»¥åˆ†æ­¥åˆ›å»ºå¯¹è±¡ï¼Œ æš‚ç¼“åˆ›å»ºæ­¥éª¤æˆ–é€’å½’è¿è¡Œåˆ›å»ºæ­¥éª¤ã€‚\n-  ç”Ÿæˆä¸åŒå½¢å¼çš„äº§å“æ—¶ï¼Œ ä½ å¯ä»¥å¤ç”¨ç›¸åŒçš„åˆ¶é€ ä»£ç ã€‚\n-  *å•ä¸€èŒè´£åŸåˆ™*ã€‚ ä½ å¯ä»¥å°†å¤æ‚æ„é€ ä»£ç ä»äº§å“çš„ä¸šåŠ¡é€»è¾‘ä¸­åˆ†ç¦»å‡ºæ¥\n\n**ç¼ºç‚¹**\n\n- ç”±äºè¯¥æ¨¡å¼éœ€è¦æ–°å¢å¤šä¸ªç±»ï¼Œ å› æ­¤ä»£ç æ•´ä½“å¤æ‚ç¨‹åº¦ä¼šæœ‰æ‰€å¢åŠ ã€‚\n\n#### typescript example\n\n```typescript\nclass Burger {\n  protected size: number\n  protected cheese = false\n  protected pepperoni = false\n  protected lettuce = false\n  protected tomato = false\n  constructor(builder: BurgerBuilder) {\n    this.size = builder.size\n    this.cheese = builder.cheese\n    this.pepperoni = builder.pepperoni\n    this.lettuce = builder.lettuce\n    this.tomato = builder.tomato\n  }\n}\n\nclass BurgerBuilder {\n  size: number\n  cheese = false\n  pepperoni = false\n  lettuce = false\n  tomato = false\n  constructor(size: number) {\n    this.size = size\n  }\n  addPepperoni() {\n    this.pepperoni = true\n    return this\n  }\n  addLettuce() {\n    this.lettuce = true\n    return this\n  }\n  addCheese() {\n    this.cheese = true\n    return this\n  }\n  addTomato() {\n    this.tomato = true\n    return this\n  }\n  build(): Burger {\n    return new Burger(this)\n  }\n}\n\nconst burger = new BurgerBuilder(14).addCheese().addPepperoni().build()\n\n```\n\n### 6.ğŸ‘åŸå‹æ¨¡å¼(Prototype)\n\n**äº¦ç§°ï¼š** å…‹éš†ã€Clone\n\n#### ç°å®çš„ä¾‹å­\n\nè¿˜è®°å¾—å¤šè‰?é‚£åªå…‹éš†ç¾Š!æˆ‘ä»¬å°±ä¸è°ˆç»†èŠ‚äº†ï¼Œä½†è¿™é‡Œçš„å…³é”®æ˜¯è¿™éƒ½æ˜¯å…³äºå…‹éš†çš„\n\n#### ç®€å•æ€»ç»“\n\n**åŸå‹æ¨¡å¼**æ˜¯ä¸€ç§åˆ›å»ºå‹è®¾è®¡æ¨¡å¼ï¼Œ ä½¿ä½ èƒ½å¤Ÿå¤åˆ¶å·²æœ‰å¯¹è±¡ï¼Œ è€Œåˆæ— éœ€ä½¿ä»£ç ä¾èµ–å®ƒä»¬æ‰€å±çš„ç±»ã€‚\n\n#### é€‚åˆçš„ä½¿ç”¨åœºæ™¯\n\n**å¦‚æœä½ éœ€è¦å¤åˆ¶ä¸€äº›å¯¹è±¡ï¼Œ åŒæ—¶åˆå¸Œæœ›ä»£ç ç‹¬ç«‹äºè¿™äº›å¯¹è±¡æ‰€å±çš„å…·ä½“ç±»ï¼Œ å¯ä»¥ä½¿ç”¨åŸå‹æ¨¡å¼ã€‚**\n\n è¿™ä¸€ç‚¹è€ƒé‡é€šå¸¸å‡ºç°åœ¨ä»£ç éœ€è¦å¤„ç†ç¬¬ä¸‰æ–¹ä»£ç é€šè¿‡æ¥å£ä¼ é€’è¿‡æ¥çš„å¯¹è±¡æ—¶ã€‚ å³ä½¿ä¸è€ƒè™‘ä»£ç è€¦åˆçš„æƒ…å†µï¼Œ ä½ çš„ä»£ç ä¹Ÿä¸èƒ½ä¾èµ–è¿™äº›å¯¹è±¡æ‰€å±çš„å…·ä½“ç±»ï¼Œ å› ä¸ºä½ ä¸çŸ¥é“å®ƒä»¬çš„å…·ä½“ä¿¡æ¯ã€‚\n\nåŸå‹æ¨¡å¼ä¸ºå®¢æˆ·ç«¯ä»£ç æä¾›ä¸€ä¸ªé€šç”¨æ¥å£ï¼Œ å®¢æˆ·ç«¯ä»£ç å¯é€šè¿‡è¿™ä¸€æ¥å£ä¸æ‰€æœ‰å®ç°äº†å…‹éš†çš„å¯¹è±¡è¿›è¡Œäº¤äº’ï¼Œ å®ƒä¹Ÿä½¿å¾—å®¢æˆ·ç«¯ä»£ç ä¸å…¶æ‰€å…‹éš†çš„å¯¹è±¡å…·ä½“ç±»ç‹¬ç«‹å¼€æ¥ã€‚\n\n\n\n **å¦‚æœå­ç±»çš„åŒºåˆ«ä»…åœ¨äºå…¶å¯¹è±¡çš„åˆå§‹åŒ–æ–¹å¼ï¼Œ é‚£ä¹ˆä½ å¯ä»¥ä½¿ç”¨è¯¥æ¨¡å¼æ¥å‡å°‘å­ç±»çš„æ•°é‡ã€‚ åˆ«äººåˆ›å»ºè¿™äº›å­ç±»çš„ç›®çš„å¯èƒ½æ˜¯ä¸ºäº†åˆ›å»ºç‰¹å®šç±»å‹çš„å¯¹è±¡ã€‚**\n\n åœ¨åŸå‹æ¨¡å¼ä¸­ï¼Œ ä½ å¯ä»¥ä½¿ç”¨ä¸€ç³»åˆ—é¢„ç”Ÿæˆçš„ã€ å„ç§ç±»å‹çš„å¯¹è±¡ä½œä¸ºåŸå‹ã€‚\n\nå®¢æˆ·ç«¯ä¸å¿…æ ¹æ®éœ€æ±‚å¯¹å­ç±»è¿›è¡Œå®ä¾‹åŒ–ï¼Œ åªéœ€æ‰¾åˆ°åˆé€‚çš„åŸå‹å¹¶å¯¹å…¶è¿›è¡Œå…‹éš†å³å¯ã€‚\n\n#### ä¼˜ç¼ºç‚¹\n\n**ä¼˜ç‚¹**\n\n- ä½ å¯ä»¥å…‹éš†å¯¹è±¡ï¼Œ è€Œæ— éœ€ä¸å®ƒä»¬æ‰€å±çš„å…·ä½“ç±»ç›¸è€¦åˆã€‚\n-  ä½ å¯ä»¥å…‹éš†é¢„ç”ŸæˆåŸå‹ï¼Œ é¿å…åå¤è¿è¡Œåˆå§‹åŒ–ä»£ç ã€‚\n-  ä½ å¯ä»¥æ›´æ–¹ä¾¿åœ°ç”Ÿæˆå¤æ‚å¯¹è±¡ã€‚\n-  ä½ å¯ä»¥ç”¨ç»§æ‰¿ä»¥å¤–çš„æ–¹å¼æ¥å¤„ç†å¤æ‚å¯¹è±¡çš„ä¸åŒé…ç½®ã€‚\n\n**ç¼ºç‚¹**\n\n-  å…‹éš†åŒ…å«å¾ªç¯å¼•ç”¨çš„å¤æ‚å¯¹è±¡å¯èƒ½ä¼šéå¸¸éº»çƒ¦ã€‚\n\n#### typescript example\n\n```typescript\nclass Sheep {\n  protected name: string\n  protected category: string\n  constructor(name: string, category = 'Mountain Sheep') {\n    this.name = name\n    this.category = category\n  }\n  setName(name: string) {\n    this.name = name\n  }\n  getName() {\n    return this.name\n  }\n  setCategory(category: string) {\n    this.category = category\n  }\n  getCategory() {\n    return this.category\n  }\n}\n\nconst original = new Sheep('Jolly')\nconsole.log(`name:${original.getName()}, category: ${original.getCategory()}`)\n\n// éœ€è¦è°ƒç”¨ä¸€ä¸ªæ·±æ‹·è´æ–¹æ³•ï¼ŒjsåŸç”Ÿå¹¶æ²¡æœ‰è¿™ç§æ–¹æ³•\n\n```\n\n\n\n## ç»“æ„è®¾è®¡æ¨¡å¼\n\nç»“æ„è®¾è®¡æ¨¡å¼ä¸»è¦å…³æ³¨å¯¹è±¡ç»„åˆï¼Œæ¢å¥è¯è¯´ï¼Œå®ä½“å¦‚ä½•ç›¸äº’ä½¿ç”¨ã€‚æˆ–è€…å¦ä¸€ç§è§£é‡Šæ˜¯ï¼Œå®ƒä»¬æœ‰åŠ©äºå›ç­”â€œå¦‚ä½•æ„å»ºè½¯ä»¶ç»„ä»¶â€\n\n### 1.â˜• è£…é¥°å™¨æ¨¡å¼ï¼ˆDecoratorï¼‰\n\n**äº¦ç§°ï¼š** è£…é¥°è€…æ¨¡å¼ã€è£…é¥°å™¨æ¨¡å¼ã€Wrapperã€Decorator\n\n#### ç°å®çš„ä¾‹å­\n\nå‡è®¾ä½ ç»è¥ä¸€å®¶å’–å•¡åº—ï¼Œè®¡ç®—è´¦å•çš„æ—¶å€™éœ€è¦æ ¹æ®æ·»åŠ çš„å„ç§åŸæ–™è®¡ç®—æœ€ç»ˆçš„æˆæœ¬ï¼Œè¿™ä¸ªæƒ…å†µä¸‹ï¼Œæ¯ä¸ªæ·»åŠ çš„åŸæ–™å¯ä»¥ä½œä¸ºè£…é¥°å™¨\n\nï¼ˆå®é™…ä¸Šç¢°åˆ°è¿™ç§ä¾‹å­ï¼ŒæŸ¥è¡¨å°±å¯ä»¥äº†å§ï¼Œä»·æ ¼ä¸å¿…ç¡¬ç¼–ç åˆ°ç¨‹åºé‡Œï¼‰\n\n#### ç®€å•æ€»ç»“\n\nè£…é¥°å™¨æ¨¡å¼å…è®¸ä½ é€šè¿‡ç”¨ä¸€ä¸ªè£…é¥°å™¨ç±»åŒ…è£¹å¯¹è±¡ï¼Œåœ¨è¿è¡Œæ—¶å¯¹ä¸€ä¸ªå¯¹è±¡åŠ¨æ€æ·»åŠ è¡Œä¸º\n\n#### ç»´åŸºç™¾ç§‘çš„è§£é‡Š\n\nåœ¨é¢å‘å¯¹è±¡ç¼–ç¨‹ä¸­ï¼Œè£…é¥°å™¨æ¨¡å¼æ˜¯ä¸€ç§è®¾è®¡æ¨¡å¼ï¼Œå®ƒå…è®¸å°†è¡Œä¸ºé™æ€æˆ–åŠ¨æ€åœ°æ·»åŠ åˆ°å•ä¸ªå¯¹è±¡ä¸­ï¼Œè€Œä¸ä¼šå½±å“æ¥è‡ªåŒä¸€ç±»çš„å…¶ä»–å¯¹è±¡çš„è¡Œä¸ºã€‚decoratoræ¨¡å¼å¯¹äºéµå¾ªå•ä¸€èŒè´£åŸåˆ™é€šå¸¸å¾ˆæœ‰ç”¨ï¼Œå› ä¸ºå®ƒå…è®¸åœ¨å…·æœ‰å”¯ä¸€å…³æ³¨åŒºåŸŸçš„ç±»ä¹‹é—´åˆ’åˆ†åŠŸèƒ½ã€‚\n\n#### ä¼˜ç¼ºç‚¹\n\n**ä¼˜ç‚¹**\n\n-  ä½ æ— éœ€åˆ›å»ºæ–°å­ç±»å³å¯æ‰©å±•å¯¹è±¡çš„è¡Œä¸ºã€‚\n-  ä½ å¯ä»¥åœ¨è¿è¡Œæ—¶æ·»åŠ æˆ–åˆ é™¤å¯¹è±¡çš„åŠŸèƒ½ã€‚\n-  ä½ å¯ä»¥ç”¨å¤šä¸ªè£…é¥°å°è£…å¯¹è±¡æ¥ç»„åˆå‡ ç§è¡Œä¸ºã€‚\n-  *å•ä¸€èŒè´£åŸåˆ™*ã€‚ ä½ å¯ä»¥å°†å®ç°äº†è®¸å¤šä¸åŒè¡Œä¸ºçš„ä¸€ä¸ªå¤§ç±»æ‹†åˆ†ä¸ºå¤šä¸ªè¾ƒå°çš„ç±»ã€‚\n\n**ç¼ºç‚¹**\n\n-  åœ¨å°è£…å™¨æ ˆä¸­åˆ é™¤ç‰¹å®šå°è£…å™¨æ¯”è¾ƒå›°éš¾ã€‚\n-  å®ç°è¡Œä¸ºä¸å—è£…é¥°æ ˆé¡ºåºå½±å“çš„è£…é¥°æ¯”è¾ƒå›°éš¾ã€‚\n-  å„å±‚çš„åˆå§‹åŒ–é…ç½®ä»£ç çœ‹ä¸Šå»å¯èƒ½ä¼šå¾ˆç³Ÿç³•ã€‚\n\n#### typescript example\n\nä¸‹é¢æ—¶coffeeä¾‹å­çš„\n\n```typescript\ninterface Coffee {\n  getCost(): number\n  getDescription(): string\n}\n\nclass SimpleCoffee implements Coffee {\n  getCost() {\n    return 10\n  }\n  getDescription() {\n    return 'simple coffee'\n  }\n}\n\nclass MilkDecorator implements Coffee {\n  protected coffee: Coffee\n  protected description: string\n  constructor(c: Coffee) {\n    this.coffee = c\n    this.description = 'milk'\n  }\n  getCost() {\n    return 4 + this.coffee.getCost()\n  }\n  getDescription() {\n    return this.coffee.getDescription() + ' ' + this.description\n  }\n}\nclass WhipDecorator implements Coffee {\n  protected coffee: Coffee\n  protected description: string\n  constructor(c: Coffee) {\n    this.coffee = c\n    this.description = 'whip'\n  }\n  getCost() {\n    return 5 + this.coffee.getCost()\n  }\n  getDescription() {\n    return this.coffee.getDescription() + ' ' + this.description\n  }\n}\n// é¦™è‰\nclass VanillaDecorator implements Coffee {\n  protected coffee: Coffee\n  protected description: string\n  constructor(c: Coffee) {\n    this.coffee = c\n    this.description = 'vanilla'\n  }\n  getCost() {\n    return 3 + this.coffee.getCost()\n  }\n  getDescription() {\n    return this.coffee.getDescription() + ' ' + this.description\n  }\n}\n\nconst simpleCoffee = new SimpleCoffee()\nconsole.log(simpleCoffee.getDescription())\nconsole.log(simpleCoffee.getCost())\n\nconst milkCoffee = new MilkDecorator(simpleCoffee)\nconsole.log(milkCoffee.getDescription())\nconsole.log(milkCoffee.getCost())\n\nconst mixCoffee = new VanillaDecorator(\n  new MilkDecorator(new WhipDecorator(simpleCoffee))\n)\n\nconsole.log(mixCoffee.getDescription())\nconsole.log(mixCoffee.getCost())\nexport{}\n```\n\n### 2.ğŸ”Œ é€‚é…å™¨æ¨¡å¼(Adapter)\n\n**äº¦ç§°ï¼š** å°è£…å™¨æ¨¡å¼ã€Wrapper\n\n#### ç°å®çš„ä¾‹å­\n\nè€ƒè™‘åˆ°ä½ çš„è®°å¿†å¡ä¸­æœ‰ä¸€äº›å›¾ç‰‡ï¼Œä½ éœ€è¦æŠŠå®ƒä»¬è½¬ç§»åˆ°ä½ çš„ç”µè„‘ä¸Šã€‚ä¸ºäº†ä¼ è¾“å®ƒä»¬ï¼Œä½ éœ€è¦æŸç§é€‚é…å™¨ï¼Œå®ƒä¸ä½ çš„è®¡ç®—æœºç«¯å£å…¼å®¹ï¼Œè¿™æ ·ä½ å°±å¯ä»¥æŠŠå­˜å‚¨å¡è¿æ¥åˆ°ä½ çš„è®¡ç®—æœºä¸Šã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œè¯»å¡å™¨æ˜¯ä¸€ä¸ªé€‚é…å™¨ã€‚å¦ä¸€ä¸ªä¾‹å­æ˜¯è‘—åçš„ç”µæºé€‚é…å™¨;ä¸‰è„šæ’å¤´ä¸èƒ½è¿æ¥åˆ°ä¸¤ä¸ªå°–å¤´æ’åº§ï¼Œå®ƒéœ€è¦ä½¿ç”¨ç”µæºé€‚é…å™¨ï¼Œä½¿å…¶å…¼å®¹ä¸¤ä¸ªå°–å¤´æ’åº§ã€‚è¿˜æœ‰ä¸€ä¸ªä¾‹å­æ˜¯è¯‘è€…å°†ä¸€ä¸ªäººè¯´çš„è¯ç¿»è¯‘ç»™å¦ä¸€ä¸ªäºº\n\n#### ç®€å•æ€»ç»“\n\né€‚é…å™¨æ¨¡å¼å…è®¸æ‚¨åœ¨é€‚é…å™¨ä¸­åŒ…è£…å…¶ä»–ä¸å…¼å®¹çš„å¯¹è±¡ä»¥ä½¿å…¶ä¸å¦ä¸€ä¸ªç±»å…¼å®¹ã€‚\n\n#### ç»´åŸºç™¾ç§‘çš„æè¿°\n\nåœ¨è½¯ä»¶å·¥ç¨‹ä¸­ï¼Œé€‚é…å™¨æ¨¡å¼æ˜¯ä¸€ç§è½¯ä»¶è®¾è®¡æ¨¡å¼ï¼Œå®ƒå…è®¸å°†ç°æœ‰ç±»çš„æ¥å£ç”¨ä½œå¦ä¸€ä¸ªæ¥å£ã€‚å®ƒé€šå¸¸ç”¨äºä½¿ç°æœ‰çš„ç±»ä¸å…¶ä»–ç±»ä¸€èµ·å·¥ä½œï¼Œè€Œä¸ä¿®æ”¹å®ƒä»¬çš„æºä»£ç ã€‚\n\n#### ä¼˜ç¼ºç‚¹\n\n**ä¼˜ç‚¹**\n\n-  _å•ä¸€èŒè´£åŸåˆ™_ä½ å¯ä»¥å°†æ¥å£æˆ–æ•°æ®è½¬æ¢ä»£ç ä»ç¨‹åºä¸»è¦ä¸šåŠ¡é€»è¾‘ä¸­åˆ†ç¦»ã€‚\n-  *å¼€é—­åŸåˆ™*ã€‚ åªè¦å®¢æˆ·ç«¯ä»£ç é€šè¿‡å®¢æˆ·ç«¯æ¥å£ä¸é€‚é…å™¨è¿›è¡Œäº¤äº’ï¼Œ ä½ å°±èƒ½åœ¨ä¸ä¿®æ”¹ç°æœ‰å®¢æˆ·ç«¯ä»£ç çš„æƒ…å†µä¸‹åœ¨ç¨‹åºä¸­æ·»åŠ æ–°ç±»å‹çš„é€‚é…å™¨ã€‚\n\n**ç¼ºç‚¹**\n\n-  ä»£ç æ•´ä½“å¤æ‚åº¦å¢åŠ ï¼Œ å› ä¸ºä½ éœ€è¦æ–°å¢ä¸€ç³»åˆ—æ¥å£å’Œç±»ã€‚ æœ‰æ—¶ç›´æ¥æ›´æ”¹æœåŠ¡ç±»ä½¿å…¶ä¸å…¶ä»–ä»£ç å…¼å®¹ä¼šæ›´ç®€å•ã€‚\n\n#### typescript example\n\næƒ³è±¡ä¸€ä¸ªçŒäººçŒæ€å¼å­çš„æ¸¸æˆ,ç°åœ¨æˆ‘ä»¬åŠ å…¥ç‹—,åŒæ—¶ç”¨é€‚é…å™¨æ¨¡å¼è®©çŒäººçš„çŒäººæ¨¡å—å…¼å®¹ç‹—\n\n```typescript\ninterface Lion {\n  roar(): void\n}\n\nclass AfricanLion implements Lion {\n  roar(): void {\n    console.log('aouuuuuuuu!')\n  }\n}\nclass AsianLion implements Lion {\n  roar(): void {\n    console.log('aooooooooooo!')\n  }\n}\n\nclass Hunter {\n  hunt(lion: Lion) {\n    lion.roar()\n  }\n}\n\nclass WildDog {\n  bark(): void {\n    console.log('wang!wang!wang!')\n  }\n}\n\nclass WildDogAdapter implements Lion {\n  protected dog\n  constructor(dog: WildDog) {\n    this.dog = dog\n  }\n  roar(): void {\n    this.dog.bark()\n  }\n}\n\nconst wildDog = new WildDog()\nconst wildDogAdapter = new WildDogAdapter(wildDog)\nconst hunter = new Hunter()\nhunter.hunt(wildDogAdapter)\n\n```\n\n### 3.ğŸ“¦ å¤–è§‚æ¨¡å¼(Facade)\n\n**äº¦ç§°ï¼š**é—¨é¢æ¨¡å¼\n\n#### ç°å®çš„ä¾‹å­\n\n(è¿™å°ç”µè„‘æ€ä¹ˆå¼€æœº?)ä½ ä¼šè¯´â€œæŒ‰ç”µæºæŒ‰é’®â€!è¿™å°±æ˜¯ä½ æ‰€ç›¸ä¿¡çš„ï¼Œå› ä¸ºä½ ä½¿ç”¨çš„æ˜¯è®¡ç®—æœºæä¾›çš„ä¸€ä¸ªç®€å•çš„ç•Œé¢ï¼Œå†…éƒ¨å®ƒéœ€è¦åšå¾ˆå¤šäº‹æƒ…æ¥å®ç°å®ƒã€‚è¿™ä¸ªåˆ°å¤æ‚å­ç³»ç»Ÿçš„ç®€å•æ¥å£å°±æ˜¯facadeã€‚\n\n#### ç®€å•æ€»ç»“\n\nFacadeæ¨¡å¼ä¸ºå¤æ‚çš„å­ç³»ç»Ÿæä¾›äº†ç®€åŒ–çš„æ¥å£ã€‚\n\n#### ç»´åŸºç™¾ç§‘çš„æè¿°\n\nfacadeæ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œå®ƒä¸ºæ›´å¤§çš„ä»£ç ä½“(å¦‚ç±»åº“)æä¾›äº†ç®€åŒ–çš„æ¥å£ã€‚\n\n#### ä¼˜ç¼ºç‚¹\n\n**ä¼˜ç‚¹**\n\n- ä½ å¯ä»¥è®©è‡ªå·±çš„ä»£ç ç‹¬ç«‹äºå¤æ‚å­ç³»ç»Ÿã€‚\n\n**ç¼ºç‚¹**\n\n-  å¤–è§‚å¯èƒ½æˆä¸ºä¸ç¨‹åºä¸­æ‰€æœ‰ç±»éƒ½è€¦åˆçš„[ä¸Šå¸å¯¹è±¡](https://refactoringguru.cn/antipatterns/god-object)(æŒ‡çš„æ˜¯äº†è§£è¿‡å¤š,æˆ–è€…è´Ÿè´£è¿‡å¤šçš„å¯¹è±¡)ã€‚\n\n#### typescript example\n\n```typescript\nclass Computer {\n  // æ–­ç”µ\n  getElectricShock() {\n    console.log('Ouch')\n  }\n  makeSound() {\n    console.log('Beep beep!')\n  }\n  showLoadingScreen() {\n    console.log('Loading...')\n  }\n  bam() {\n    console.log('Ready to be used')\n  }\n  closeEverything() {\n    console.log('Bup bup bup buzzzz!')\n  }\n  sooth() {\n    console.log('Zzzzz')\n  }\n  pullCurrent() {\n    console.log('Haaah!')\n  }\n}\nclass ComputerFacade {\n  protected computer\n  constructor(computer: Computer) {\n    this.computer = computer\n  }\n  turnOn() {\n    this.computer.getElectricShock()\n    this.computer.makeSound()\n    this.computer.showLoadingScreen()\n    this.computer.bam()\n  }\n  turnOff() {\n    this.computer.closeEverything()\n    this.computer.pullCurrent()\n    this.computer.sooth()\n  }\n}\n\nconst computer = new ComputerFacade(new Computer())\ncomputer.turnOn()\ncomputer.turnOff()\n```\n\n### 4.ğŸŒ¿ç»„åˆæ¨¡å¼ (Composite)\n\n**äº¦ç§°ï¼š** å¯¹è±¡æ ‘ã€Object Tree\n\n#### ç°å®çš„ä¾‹å­\n\næ¯ä¸ªç»„ç»‡éƒ½æ˜¯ç”±å‘˜å·¥ç»„æˆçš„ã€‚æ¯ä¸ªå‘˜å·¥éƒ½æœ‰ç›¸åŒçš„ç‰¹å¾ï¼Œæ¯”å¦‚æœ‰è–ªæ°´ï¼Œæœ‰ä¸€äº›èŒè´£ï¼Œå¯èƒ½æœ‰ä¹Ÿå¯èƒ½æ²¡æœ‰å‘æŸäººæ±‡æŠ¥ï¼Œå¯èƒ½æœ‰ä¹Ÿå¯èƒ½æ²¡æœ‰ä¸‹å±ç­‰ç­‰ã€‚\n\nå¤§éƒ¨åˆ†å›½å®¶çš„å†›é˜Ÿéƒ½é‡‡ç”¨å±‚æ¬¡ç»“æ„ç®¡ç†ã€‚ æ¯æ”¯éƒ¨é˜ŸåŒ…æ‹¬å‡ ä¸ªå¸ˆï¼Œ å¸ˆç”±æ—…æ„æˆï¼Œ æ—…ç”±å›¢æ„æˆï¼Œ å›¢å¯ä»¥ç»§ç»­åˆ’åˆ†ä¸ºæ’ã€‚ æœ€åï¼Œ æ¯ä¸ªæ’ç”±ä¸€å°é˜Ÿå®å®åœ¨åœ¨çš„å£«å…µç»„æˆã€‚ å†›äº‹å‘½ä»¤ç”±æœ€é«˜å±‚ä¸‹è¾¾ï¼Œ é€šè¿‡æ¯ä¸ªå±‚çº§ä¼ é€’ï¼Œ ç›´åˆ°æ¯ä½å£«å…µéƒ½çŸ¥é“è‡ªå·±åº”è¯¥æœä»çš„å‘½ä»¤ã€‚\n\n#### ç®€å•æ€»ç»“\n\n**ç»„åˆæ¨¡å¼**æ˜¯ä¸€ç§ç»“æ„å‹è®¾è®¡æ¨¡å¼ï¼Œ ä½ å¯ä»¥ä½¿ç”¨å®ƒå°†å¯¹è±¡ç»„åˆæˆæ ‘çŠ¶ç»“æ„ï¼Œ å¹¶ä¸”èƒ½åƒä½¿ç”¨ç‹¬ç«‹å¯¹è±¡ä¸€æ ·ä½¿ç”¨å®ƒä»¬ã€‚\n\n#### ç»´åŸºç™¾ç§‘çš„è§£é‡Š\n\nåœ¨è½¯ä»¶å·¥ç¨‹ä¸­ï¼Œç»„åˆæ¨¡å¼æ˜¯ä¸€ç§åˆ†åŒºè®¾è®¡æ¨¡å¼ã€‚ç»„åˆæ¨¡å¼æè¿°äº†å°†ä¸€ç»„å¯¹è±¡ä½œä¸ºå¯¹è±¡çš„å•ä¸ªå®ä¾‹è¿›è¡Œå¤„ç†çš„æ–¹å¼ã€‚ç»„åˆçš„ç›®çš„æ˜¯å°†å¯¹è±¡â€œç»„åˆâ€æˆæ ‘ç»“æ„ï¼Œä»¥è¡¨ç¤ºéƒ¨åˆ†-æ•´ä½“å±‚æ¬¡ç»“æ„ã€‚å®ç°ç»„åˆæ¨¡å¼è®©å®¢æˆ·ç«¯èƒ½å¤Ÿç»Ÿä¸€å¯¹å¾…å•ä¸ªå¯¹è±¡å’Œç»„åˆã€‚\n\n#### ä¼˜ç¼ºç‚¹\n\n**ä¼˜ç‚¹**\n\n-  ä½ å¯ä»¥åˆ©ç”¨å¤šæ€å’Œé€’å½’æœºåˆ¶æ›´æ–¹ä¾¿åœ°ä½¿ç”¨å¤æ‚æ ‘ç»“æ„ã€‚\n-  *å¼€é—­åŸåˆ™*ã€‚ æ— éœ€æ›´æ”¹ç°æœ‰ä»£ç ï¼Œ ä½ å°±å¯ä»¥åœ¨åº”ç”¨ä¸­æ·»åŠ æ–°å…ƒç´ ï¼Œ ä½¿å…¶æˆä¸ºå¯¹è±¡æ ‘çš„ä¸€éƒ¨åˆ†ã€‚\n\n**ç¼ºç‚¹**\n\n-  å¯¹äºåŠŸèƒ½å·®å¼‚è¾ƒå¤§çš„ç±»ï¼Œ æä¾›å…¬å…±æ¥å£æˆ–è®¸ä¼šæœ‰å›°éš¾ã€‚ åœ¨ç‰¹å®šæƒ…å†µä¸‹ï¼Œ ä½ éœ€è¦è¿‡åº¦ä¸€èˆ¬åŒ–ç»„ä»¶æ¥å£ï¼Œ ä½¿å…¶å˜å¾—ä»¤äººéš¾ä»¥ç†è§£ã€‚\n\n#### typescript example\n\n```typescript\n/**\n * The base Component class declares common operations for both simple and\n * complex objects of a composition.\n */\nabstract class Component {\n  protected parent!: Component | null\n\n  /**\n   * Optionally, the base Component can declare an interface for setting and\n   * accessing a parent of the component in a tree structure. It can also\n   * provide some default implementation for these methods.\n   */\n  public setParent(parent: Component | null) {\n    this.parent = parent\n  }\n\n  public getParent(): Component | null {\n    return this.parent\n  }\n\n  /**\n   * In some cases, it would be beneficial to define the child-management\n   * operations right in the base Component class. This way, you won't need to\n   * expose any concrete component classes to the client code, even during the\n   * object tree assembly. The downside is that these methods will be empty\n   * for the leaf-level components.\n   */\n  public add(component: Component): void {}\n\n  public remove(component: Component): void {}\n\n  /**\n   * You can provide a method that lets the client code figure out whether a\n   * component can bear children.\n   */\n  public isComposite(): boolean {\n    return false\n  }\n\n  /**\n   * The base Component may implement some default behavior or leave it to\n   * concrete classes (by declaring the method containing the behavior as\n   * \"abstract\").\n   */\n  public abstract operation(): string\n}\n\n/**\n * The Leaf class represents the end objects of a composition. A leaf can't have\n * any children.\n *\n * Usually, it's the Leaf objects that do the actual work, whereas Composite\n * objects only delegate to their sub-components.\n */\nclass Leaf extends Component {\n  public operation(): string {\n    return 'Leaf'\n  }\n}\n\n/**\n * The Composite class represents the complex components that may have children.\n * Usually, the Composite objects delegate the actual work to their children and\n * then \"sum-up\" the result.\n */\nclass Composite extends Component {\n  protected children: Component[] = []\n\n  /**\n   * A composite object can add or remove other components (both simple or\n   * complex) to or from its child list.\n   */\n  public add(component: Component): void {\n    this.children.push(component)\n    component.setParent(this)\n  }\n\n  public remove(component: Component): void {\n    const componentIndex = this.children.indexOf(component)\n    this.children.splice(componentIndex, 1)\n\n    component.setParent(null)\n  }\n\n  public isComposite(): boolean {\n    return true\n  }\n\n  /**\n   * The Composite executes its primary logic in a particular way. It\n   * traverses recursively through all its children, collecting and summing\n   * their results. Since the composite's children pass these calls to their\n   * children and so forth, the whole object tree is traversed as a result.\n   */\n  public operation(): string {\n    const results = []\n    for (const child of this.children) {\n      results.push(child.operation())\n    }\n\n    return `Branch(${results.join('+')})`\n  }\n}\n\n/**\n * The client code works with all of the components via the base interface.\n */\nfunction clientCode(component: Component) {\n  // ...\n\n  console.log(`RESULT: ${component.operation()}`)\n\n  // ...\n}\n\n/**\n * This way the client code can support the simple leaf components...\n */\nconst simple = new Leaf()\nconsole.log(\"Client: I've got a simple component:\")\nclientCode(simple)\nconsole.log('')\n\n/**\n * ...as well as the complex composites.\n */\nconst tree = new Composite()\nconst branch1 = new Composite()\nbranch1.add(new Leaf())\nbranch1.add(new Leaf())\nconst branch2 = new Composite()\nbranch2.add(new Leaf())\ntree.add(branch1)\ntree.add(branch2)\nconsole.log(\"Client: Now I've got a composite tree:\")\nclientCode(tree)\nconsole.log('')\n\n/**\n * Thanks to the fact that the child-management operations are declared in the\n * base Component class, the client code can work with any component, simple or\n * complex, without depending on their concrete classes.\n */\nfunction clientCode2(component1: Component, component2: Component) {\n  // ...\n\n  if (component1.isComposite()) {\n    component1.add(component2)\n  }\n  console.log(`RESULT: ${component1.operation()}`)\n\n  // ...\n}\n\nconsole.log(\n  \"Client: I don't need to check the components classes even when managing the tree:\"\n)\nclientCode2(tree, simple)\n\n```\n\n### 5.ğŸ± ä»£ç†æ¨¡å¼(Proxy)\n\n#### ç°å®çš„ä¾‹å­\n\nä½ ç”¨è¿‡é—¨ç¦å¡è¿›å‡ºä¸€æ‰‡é—¨å—?å¼€é—¨æœ‰å¤šç§é€‰æ‹©ï¼Œæ¯”å¦‚ï¼Œå¯ä»¥ä½¿ç”¨é—¨ç¦å¡æ‰“å¼€ï¼Œä¹Ÿå¯ä»¥é€šè¿‡æŒ‰ä¸‹ç»•è¿‡å®‰å…¨çš„æŒ‰é’®æ‰“å¼€ã€‚é—¨çš„ä¸»è¦åŠŸèƒ½æ˜¯æ‰“å¼€ï¼Œä½†åœ¨ä¸Šé¢æ·»åŠ äº†ä¸€ä¸ªä»£ç†æ¥æ·»åŠ ä¸€äº›åŠŸèƒ½ã€‚è®©æˆ‘ç”¨ä¸‹é¢çš„ä»£ç ç¤ºä¾‹æ›´å¥½åœ°è§£é‡Šå®ƒã€‚\n\nä¿¡ç”¨å¡æ˜¯é“¶è¡Œè´¦æˆ·çš„ä»£ç†ï¼Œ é“¶è¡Œè´¦æˆ·åˆ™æ˜¯ä¸€å¤§æ†ç°é‡‘çš„ä»£ç†ã€‚ å®ƒä»¬éƒ½å®ç°äº†åŒæ ·çš„æ¥å£ï¼Œ å‡å¯ç”¨äºè¿›è¡Œæ”¯ä»˜ã€‚ æ¶ˆè´¹è€…ä¼šéå¸¸æ»¡æ„ï¼Œ å› ä¸ºä¸å¿…éšèº«æºå¸¦å¤§é‡ç°é‡‘ï¼› å•†åº—è€æ¿åŒæ ·ä¼šååˆ†é«˜å…´ï¼Œ å› ä¸ºäº¤æ˜“æ”¶å…¥èƒ½ä»¥ç”µå­åŒ–çš„æ–¹å¼è¿›å…¥å•†åº—çš„é“¶è¡Œè´¦æˆ·ä¸­ï¼Œ æ— éœ€æ‹…å¿ƒå­˜æ¬¾æ—¶å‡ºç°ç°é‡‘ä¸¢å¤±æˆ–è¢«æŠ¢åŠ«çš„æƒ…å†µã€‚\n\n#### ç®€å•æ€»ç»“\n\n**ä»£ç†æ¨¡å¼**æ˜¯ä¸€ç§ç»“æ„å‹è®¾è®¡æ¨¡å¼ï¼Œ è®©ä½ èƒ½å¤Ÿæä¾›å¯¹è±¡çš„æ›¿ä»£å“æˆ–å…¶å ä½ç¬¦ã€‚ ä»£ç†æ§åˆ¶ç€å¯¹äºåŸå¯¹è±¡çš„è®¿é—®ï¼Œ å¹¶å…è®¸åœ¨å°†è¯·æ±‚æäº¤ç»™å¯¹è±¡å‰åè¿›è¡Œä¸€äº›å¤„ç†ã€‚\n\n#### ä¼˜ç¼ºç‚¹\n\n**ä¼˜ç‚¹**\n\n-  ä½ å¯ä»¥åœ¨å®¢æˆ·ç«¯æ¯«æ— å¯Ÿè§‰çš„æƒ…å†µä¸‹æ§åˆ¶æœåŠ¡å¯¹è±¡ã€‚\n-  å¦‚æœå®¢æˆ·ç«¯å¯¹æœåŠ¡å¯¹è±¡çš„ç”Ÿå‘½å‘¨æœŸæ²¡æœ‰ç‰¹æ®Šè¦æ±‚ï¼Œ ä½ å¯ä»¥å¯¹ç”Ÿå‘½å‘¨æœŸè¿›è¡Œç®¡ç†ã€‚\n-  å³ä½¿æœåŠ¡å¯¹è±¡è¿˜æœªå‡†å¤‡å¥½æˆ–ä¸å­˜åœ¨ï¼Œ ä»£ç†ä¹Ÿå¯ä»¥æ­£å¸¸å·¥ä½œã€‚\n-  *å¼€é—­åŸåˆ™*ã€‚ ä½ å¯ä»¥åœ¨ä¸å¯¹æœåŠ¡æˆ–å®¢æˆ·ç«¯åšå‡ºä¿®æ”¹çš„æƒ…å†µä¸‹åˆ›å»ºæ–°ä»£ç†ã€‚\n\n**ç¼ºç‚¹**\n\n- ä»£ç å¯èƒ½ä¼šå˜å¾—å¤æ‚ï¼Œ å› ä¸ºéœ€è¦æ–°å»ºè®¸å¤šç±»ã€‚\n-  æœåŠ¡å“åº”å¯èƒ½ä¼šå»¶è¿Ÿã€‚\n\n#### ä¸å…¶ä»–æ¨¡å¼çš„è”ç³»\n\n- é€‚é…å™¨æ¨¡å¼èƒ½ä¸ºè¢«å°è£…å¯¹è±¡æä¾›ä¸åŒçš„æ¥å£ï¼Œ ä»£ç†æ¨¡å¼èƒ½ä¸ºå¯¹è±¡æä¾›ç›¸åŒçš„æ¥å£ï¼Œ è£…é¥°æ¨¡å¼åˆ™èƒ½ä¸ºå¯¹è±¡æä¾›åŠ å¼ºçš„æ¥å£ã€‚\n\n- å¤–è§‚æ¨¡å¼ä¸ä»£ç†çš„ç›¸ä¼¼ä¹‹å¤„åœ¨äºå®ƒä»¬éƒ½ç¼“å­˜äº†ä¸€ä¸ªå¤æ‚å®ä½“å¹¶è‡ªè¡Œå¯¹å…¶è¿›è¡Œåˆå§‹åŒ–ã€‚ ä»£ç†ä¸å…¶æœåŠ¡å¯¹è±¡éµå¾ªåŒä¸€æ¥å£ï¼Œ ä½¿å¾—è‡ªå·±å’ŒæœåŠ¡å¯¹è±¡å¯ä»¥äº’æ¢ï¼Œ åœ¨è¿™ä¸€ç‚¹ä¸Šå®ƒä¸å¤–è§‚ä¸åŒã€‚\n\n- è£…é¥°å’Œä»£ç†æœ‰ç€ç›¸ä¼¼çš„ç»“æ„ï¼Œ ä½†æ˜¯å…¶æ„å›¾å´éå¸¸ä¸åŒã€‚ è¿™ä¸¤ä¸ªæ¨¡å¼çš„æ„å»ºéƒ½åŸºäºç»„åˆåŸåˆ™ï¼Œ ä¹Ÿå°±æ˜¯è¯´ä¸€ä¸ªå¯¹è±¡åº”è¯¥å°†éƒ¨åˆ†å·¥ä½œå§”æ´¾ç»™å¦ä¸€ä¸ªå¯¹è±¡ã€‚ ä¸¤è€…ä¹‹é—´çš„ä¸åŒä¹‹å¤„åœ¨äºä»£ç†é€šå¸¸è‡ªè¡Œç®¡ç†å…¶æœåŠ¡å¯¹è±¡çš„ç”Ÿå‘½å‘¨æœŸï¼Œ è€Œè£…é¥°çš„ç”Ÿæˆåˆ™æ€»æ˜¯ç”±å®¢æˆ·ç«¯è¿›è¡Œæ§åˆ¶ã€‚\n\n#### typescript example\n\n```typescript\ninterface Door {\n  open(): void\n  close(): void\n}\n\nclass LabDoor implements Door {\n  open(): void {\n    console.log('opening the lab door')\n  }\n  close(): void {\n    console.log('closing the lab door')\n  }\n}\n\nclass SecuredDoor {\n  protected door: Door\n  protected password = '123456'\n  constructor(door: Door) {\n    this.door = door\n  }\n  open(password: string) {\n    if (this.authenticate(password)) {\n      this.door.open()\n    } else {\n      console.log('No,you cant open this door')\n    }\n  }\n\n  authenticate(passwords: string) {\n    return this.password == passwords\n  }\n  close() {\n    this.door.close()\n  }\n}\n\nconst door = new SecuredDoor(new LabDoor())\n\ndoor.open('1234567')\ndoor.open('123456')\ndoor.close()\n```\n\n### 6.ğŸš¡ æ¡¥æ¥æ¨¡å¼(Bridge)\n\n#### ç°å®çš„ä¾‹å­\n\nå‡è®¾ä½ æœ‰ä¸€ä¸ªæœ‰ä¸åŒé¡µé¢çš„ç½‘ç«™ï¼Œä½ åº”è¯¥å…è®¸ç”¨æˆ·æ›´æ”¹ä¸»é¢˜ã€‚ä½ ä¼šæ€ä¹ˆåš?ä¸ºæ¯ä¸ªä¸»é¢˜åˆ›å»ºæ¯ä¸ªé¡µé¢çš„å¤šä¸ªå‰¯æœ¬ï¼Œè¿˜æ˜¯åªåˆ›å»ºå•ç‹¬çš„ä¸»é¢˜å¹¶æ ¹æ®ç”¨æˆ·çš„åå¥½åŠ è½½å®ƒä»¬?æ¡¥ç‰Œæ¨¡å¼å…è®¸ä½ åšåè€…ï¼Œå¦‚ä¸‹å›¾\n\n![With and without the bridge pattern](assets/bridge-2abe760d08970fcef2f3eb211b40ca9a.png)\n\n\n\nå‡å¦‚ä½ æœ‰ä¸€ä¸ªå‡ ä½• `å½¢çŠ¶`Shapeç±»ï¼Œ ä»å®ƒèƒ½æ‰©å±•å‡ºä¸¤ä¸ªå­ç±»ï¼š  `åœ†å½¢`Circleå’Œ `æ–¹å½¢`Square ã€‚ ä½ å¸Œæœ›å¯¹è¿™æ ·çš„ç±»å±‚æ¬¡ç»“æ„è¿›è¡Œæ‰©å±•ä»¥ä½¿å…¶åŒ…å«é¢œè‰²ï¼Œ æ‰€ä»¥ä½ æ‰“ç®—åˆ›å»ºåä¸º `çº¢è‰²`Redå’Œ `è“è‰²`Blueçš„å½¢çŠ¶å­ç±»ã€‚ ä½†æ˜¯ï¼Œ ç”±äºä½ å·²æœ‰ä¸¤ä¸ªå­ç±»ï¼Œ æ‰€ä»¥æ€»å…±éœ€è¦åˆ›å»ºå››ä¸ªç±»æ‰èƒ½è¦†ç›–æ‰€æœ‰ç»„åˆï¼Œ ä¾‹å¦‚ `è“è‰²åœ†å½¢`BlueÂ­Circleå’Œ `çº¢è‰²æ–¹å½¢`RedÂ­Square ã€‚\n\n![æ¡¥æ¥æ¨¡å¼è§£å†³çš„é—®é¢˜](assets/bridge-problem-f3bb0dbe9d551b3aceb6172681b4e124.png)\n\næ‰€æœ‰ç»„åˆç±»çš„æ•°é‡å°†ä»¥å‡ ä½•çº§æ•°å¢é•¿ã€‚\n\nåœ¨å±‚æ¬¡ç»“æ„ä¸­æ–°å¢å½¢çŠ¶å’Œé¢œè‰²å°†å¯¼è‡´ä»£ç å¤æ‚ç¨‹åº¦æŒ‡æ•°å¢é•¿ã€‚ ä¾‹å¦‚æ·»åŠ ä¸‰è§’å½¢çŠ¶ï¼Œ ä½ éœ€è¦æ–°å¢ä¸¤ä¸ªå­ç±»ï¼Œ ä¹Ÿå°±æ˜¯æ¯ç§é¢œè‰²ä¸€ä¸ªï¼› æ­¤åæ–°å¢ä¸€ç§æ–°é¢œè‰²éœ€è¦æ–°å¢ä¸‰ä¸ªå­ç±»ï¼Œ å³æ¯ç§å½¢çŠ¶ä¸€ä¸ªã€‚ å¦‚æ­¤ä»¥å¾€ï¼Œ æƒ…å†µä¼šè¶Šæ¥è¶Šç³Ÿç³•ã€‚\n\né—®é¢˜çš„æ ¹æœ¬åŸå› æ˜¯æˆ‘ä»¬è¯•å›¾åœ¨ä¸¤ä¸ªç‹¬ç«‹çš„ç»´åº¦â€”â€”å½¢çŠ¶ä¸é¢œè‰²â€”â€”ä¸Šæ‰©å±•å½¢çŠ¶ç±»ã€‚ è¿™åœ¨å¤„ç†ç±»ç»§æ‰¿æ—¶æ˜¯å¾ˆå¸¸è§çš„é—®é¢˜ã€‚\n\næ¡¥æ¥æ¨¡å¼é€šè¿‡å°†ç»§æ‰¿æ”¹ä¸ºç»„åˆçš„æ–¹å¼æ¥è§£å†³è¿™ä¸ªé—®é¢˜ã€‚ å…·ä½“æ¥è¯´ï¼Œ å°±æ˜¯æŠ½å–å…¶ä¸­ä¸€ä¸ªç»´åº¦å¹¶ä½¿ä¹‹æˆä¸ºç‹¬ç«‹çš„ç±»å±‚æ¬¡ï¼Œ è¿™æ ·å°±å¯ä»¥åœ¨åˆå§‹ç±»ä¸­å¼•ç”¨è¿™ä¸ªæ–°å±‚æ¬¡çš„å¯¹è±¡ï¼Œ ä»è€Œä½¿å¾—ä¸€ä¸ªç±»ä¸å¿…æ‹¥æœ‰æ‰€æœ‰çš„çŠ¶æ€å’Œè¡Œä¸ºã€‚\n\n![æ¡¥æ¥æ¨¡å¼çš„è§£å†³æ–¹æ¡ˆ](assets/bridge-solution-c96115c7cb06311d8e5df8b133c306c7.png)\n\nå°†ä¸€ä¸ªç±»å±‚æ¬¡è½¬åŒ–ä¸ºå¤šä¸ªç›¸å…³çš„ç±»å±‚æ¬¡ï¼Œ é¿å…å•ä¸ªç±»å±‚æ¬¡çš„å¤±æ§ã€‚\n\næ ¹æ®è¯¥æ–¹æ³•ï¼Œ æˆ‘ä»¬å¯ä»¥å°†é¢œè‰²ç›¸å…³çš„ä»£ç æŠ½å–åˆ°æ‹¥æœ‰ `çº¢è‰²`å’Œ `è“è‰²`ä¸¤ä¸ªå­ç±»çš„é¢œè‰²ç±»ä¸­ï¼Œ ç„¶ååœ¨ `å½¢çŠ¶`ç±»ä¸­æ·»åŠ ä¸€ä¸ªæŒ‡å‘æŸä¸€é¢œè‰²å¯¹è±¡çš„å¼•ç”¨æˆå‘˜å˜é‡ã€‚ ç°åœ¨ï¼Œ å½¢çŠ¶ç±»å¯ä»¥å°†æ‰€æœ‰ä¸é¢œè‰²ç›¸å…³çš„å·¥ä½œå§”æ´¾ç»™è¿å…¥çš„é¢œè‰²å¯¹è±¡ã€‚ è¿™æ ·çš„å¼•ç”¨å°±æˆä¸ºäº† `å½¢çŠ¶`å’Œ `é¢œè‰²`ä¹‹é—´çš„æ¡¥æ¢ã€‚ æ­¤åï¼Œ æ–°å¢é¢œè‰²å°†ä¸å†éœ€è¦ä¿®æ”¹å½¢çŠ¶çš„ç±»å±‚æ¬¡ï¼Œ åä¹‹äº¦ç„¶ã€‚\n#### ç®€å•æ€»ç»“\n\n**æ¡¥æ¥æ¨¡å¼**æ˜¯ä¸€ç§ç»“æ„å‹è®¾è®¡æ¨¡å¼ï¼Œ å¯å°†ä¸€ä¸ªå¤§ç±»æˆ–ä¸€ç³»åˆ—ç´§å¯†ç›¸å…³çš„ç±»æ‹†åˆ†ä¸ºæŠ½è±¡å’Œå®ç°ä¸¤ä¸ªç‹¬ç«‹çš„å±‚æ¬¡ç»“æ„ï¼Œ ä»è€Œèƒ½åœ¨å¼€å‘æ—¶åˆ†åˆ«ä½¿ç”¨ã€‚\n\n#### ä¼˜ç¼ºç‚¹\n\n**ä¼˜ç‚¹**\n\n- ä½ å¯ä»¥åˆ›å»ºä¸å¹³å°æ— å…³çš„ç±»å’Œç¨‹åºã€‚\n-  å®¢æˆ·ç«¯ä»£ç ä»…ä¸é«˜å±‚æŠ½è±¡éƒ¨åˆ†è¿›è¡Œäº’åŠ¨ï¼Œ ä¸ä¼šæ¥è§¦åˆ°å¹³å°çš„è¯¦ç»†ä¿¡æ¯ã€‚\n-  *å¼€é—­åŸåˆ™*ã€‚ ä½ å¯ä»¥æ–°å¢æŠ½è±¡éƒ¨åˆ†å’Œå®ç°éƒ¨åˆ†ï¼Œ ä¸”å®ƒä»¬ä¹‹é—´ä¸ä¼šç›¸äº’å½±å“ã€‚\n-  *å•ä¸€èŒè´£åŸåˆ™*ã€‚ æŠ½è±¡éƒ¨åˆ†ä¸“æ³¨äºå¤„ç†é«˜å±‚é€»è¾‘ï¼Œ å®ç°éƒ¨åˆ†å¤„ç†å¹³å°ç»†èŠ‚ã€‚\n\n**ç¼ºç‚¹**\n\n-  å¯¹é«˜å†…èšçš„ç±»ä½¿ç”¨è¯¥æ¨¡å¼å¯èƒ½ä¼šè®©ä»£ç æ›´åŠ å¤æ‚ã€‚\n\n#### typescript example\n\nè¿™é‡Œå®ç°é‚£ä¸ªç½‘é¡µæ¢ä¸»é¢˜çš„ä¾‹å­\n\n```typescript\nabstract class WebPage {\n  protected abstract theme: Theme\n\n  abstract getContent(): string\n}\n\nclass About extends WebPage {\n  protected theme: Theme\n  constructor(theme: Theme) {\n    super()\n    this.theme = theme\n  }\n  getContent(): string {\n    return `about page in ${this.theme.getColor()}`\n  }\n}\n\ninterface Theme {\n  getColor(): string\n}\n\nclass Careers extends WebPage {\n  protected theme: Theme\n  constructor(theme: Theme) {\n    super()\n    this.theme = theme\n  }\n  getContent() {\n    return `careers page in ${this.theme.getColor()}`\n  }\n}\n\nclass DarkTheme implements Theme {\n  getColor(): string {\n    return 'Dark Black'\n  }\n}\n\nclass LightTheme implements Theme {\n  getColor(): string {\n    return 'Off white'\n  }\n}\n\nclass AquaTheme implements Theme {\n  getColor(): string {\n    return 'Light blue'\n  }\n}\n\nconst darkTheme = new DarkTheme()\nconst about = new About(darkTheme)\nconst careers = new Careers(darkTheme)\nconsole.log(about.getContent())\nconsole.log(careers.getContent())\n\n```\n\n### 7.ğŸƒäº«å…ƒæ¨¡å¼(Flyweight)\n\n**äº¦ç§°ï¼š** ç¼“å­˜ã€Cache\n\n#### ç°å®çš„ä¾‹å­\n\nä½ åœ¨ä»€ä¹ˆæ‘Šä½ä¸Šå–è¿‡æ–°é²œçš„èŒ¶å—?ä»–ä»¬é€šå¸¸ä¼šåˆ¶ä½œä¸æ­¢ä¸€ä¸ªæ¯å­ï¼Œé™¤äº†ä½ ä½¿ç”¨çš„é‚£ä¸ªï¼Œå‰©ä¸‹çš„ç•™ç»™å…¶ä»–å®¢æˆ·ï¼Œä»¥èŠ‚çœèµ„æºã€‚Flyweightæ¨¡å¼å°±æ˜¯å…³äºèµ„æºå…±äº«çš„ã€‚\n\n#### ç®€å•æ€»ç»“\n\n**äº«å…ƒæ¨¡å¼**æ˜¯ä¸€ç§ç»“æ„å‹è®¾è®¡æ¨¡å¼ï¼Œ å®ƒæ‘’å¼ƒäº†åœ¨æ¯ä¸ªå¯¹è±¡ä¸­ä¿å­˜æ‰€æœ‰æ•°æ®çš„æ–¹å¼ï¼Œ é€šè¿‡å…±äº«å¤šä¸ªå¯¹è±¡æ‰€å…±æœ‰çš„ç›¸åŒçŠ¶æ€ï¼Œ è®©ä½ èƒ½åœ¨æœ‰é™çš„å†…å­˜å®¹é‡ä¸­è½½å…¥æ›´å¤šå¯¹è±¡ã€‚\n\n#### ç»´åŸºç™¾ç§‘çš„è§£é‡Š\n\nåœ¨è®¡ç®—æœºç¼–ç¨‹ä¸­ï¼Œflyweightæ˜¯ä¸€ç§è½¯ä»¶è®¾è®¡æ¨¡å¼ã€‚flyweightæ˜¯é€šè¿‡ä¸å…¶ä»–ç±»ä¼¼å¯¹è±¡å…±äº«å°½å¯èƒ½å¤šçš„æ•°æ®æ¥æœ€å°åŒ–å†…å­˜ä½¿ç”¨çš„å¯¹è±¡;å½“ä¸€ä¸ªç®€å•çš„é‡å¤è¡¨ç¤ºå°†ä½¿ç”¨ä¸å¯æ¥å—çš„å†…å­˜é‡æ—¶ï¼Œå®ƒæ˜¯ä¸€ç§å¤§é‡ä½¿ç”¨å¯¹è±¡çš„æ–¹æ³•\n\n#### ä¼˜ç¼ºç‚¹\n\n**ä¼˜ç‚¹**\n\n-  å¦‚æœç¨‹åºä¸­æœ‰å¾ˆå¤šç›¸ä¼¼å¯¹è±¡ï¼Œ é‚£ä¹ˆä½ å°†å¯ä»¥èŠ‚çœå¤§é‡å†…å­˜ã€‚\n\n**ç¼ºç‚¹**\n\n- ä½ å¯èƒ½éœ€è¦ç‰ºç‰²æ‰§è¡Œé€Ÿåº¦æ¥æ¢å–å†…å­˜ï¼Œ å› ä¸ºä»–äººæ¯æ¬¡è°ƒç”¨äº«å…ƒæ–¹æ³•æ—¶éƒ½éœ€è¦é‡æ–°è®¡ç®—éƒ¨åˆ†æƒ…æ™¯æ•°æ®ã€‚\n-  ä»£ç ä¼šå˜å¾—æ›´åŠ å¤æ‚ã€‚ å›¢é˜Ÿä¸­çš„æ–°æˆå‘˜æ€»æ˜¯ä¼šé—®ï¼š  â€œä¸ºä»€ä¹ˆè¦åƒè¿™æ ·æ‹†åˆ†ä¸€ä¸ªå®ä½“çš„çŠ¶æ€ï¼Ÿâ€ã€‚\n\n#### typescript example\n\n```typescript\nclass KaraTea {}\n\ninterface Tea {\n  [key: string]: KaraTea\n}\ninterface Order {\n  [key: number]: KaraTea\n}\nclass TeaMaker {\n  protected availableTea: Tea = {}\n  make(preference: string) {\n    if (!this.availableTea[preference]) {\n      this.availableTea[preference] = new KaraTea()\n    }\n    return this.availableTea[preference]\n  }\n}\n\nclass Teashop {\n  protected orders: Order = {}\n  protected teaMaker: TeaMaker\n  constructor(teaMaker: TeaMaker) {\n    this.teaMaker = teaMaker\n  }\n  takeOrder(teaType: string, table: number) {\n    this.orders[table] = this.teaMaker.make(teaType)\n  }\n  server() {\n    for (const key in this.orders) {\n      console.log(`Serving Tea to table#${key} `)\n    }\n  }\n}\n\nconst teaMaker = new TeaMaker()\nconst shop = new Teashop(teaMaker)\n\nshop.takeOrder('less sugar', 1)\nshop.takeOrder('more milk', 2)\nshop.takeOrder('without sugar', 5)\nshop.server()\n```\n\n\n\n\n## è¡Œä¸ºè®¾è®¡æ¨¡å¼\n\nè¡Œä¸ºè®¾è®¡æ¨¡å¼æ¶‰åŠåˆ°å¯¹è±¡ä¹‹é—´çš„èŒè´£åˆ†é…ï¼Œå’Œç»“æ„æ¨¡å¼çš„ä¸åŒä¹‹å¤„åœ¨äºï¼Œå®ƒä¸ä»…æŒ‡å®šäº†ç»“æ„ï¼Œè€Œä¸”æ¦‚è¿°äº†æ¶ˆæ¯ä¼ é€’çš„æ¨¡å¼ï¼Œæ¢å¥è¯è¯´ï¼Œè¿™æœ‰åŠ©äºå›ç­”â€œå¦‚ä½•åœ¨è½¯ä»¶ç»„ç»‡ä¸­è¿è¡Œä¸€ä¸ªè¡Œä¸ºâ€ã€‚\n\nè¿™é‡Œä»‹ç»ä»¥ä¸‹å‡ ç§:\n\n- Chain of Responsibility\n- Command\n- Iterator\n- Mediator\n- Memento\n- Observer\n- Visitor\n- Strategy\n- State\n- Template Method\n\n### 1.ğŸ’¡ç­–ç•¥æ¨¡å¼(Strategy)\n\n#### ç°å®ä¾‹å­\n\nä¸¾ä¸€ä¸ªæ’åºçš„ä¾‹å­ï¼Œæˆ‘ä»¬é¦–å…ˆå®ç°äº†å†’æ³¡æ’åºï¼Œä½†æ˜¯éšç€æ•°æ®é‡çš„å¢é•¿æˆ‘ä»¬å‘ç°å†’æ³¡æ’åºçš„æ•ˆç‡å˜å¾—å¾ˆæ…¢ï¼Œä¸ºæ­¤ï¼Œæˆ‘ä»¬åˆå®ç°äº†å¿«é€Ÿæ’åºå¤„ç†å¤§æ•°æ®ï¼Œä½†æ˜¯è¿™ä¸ªå¿«é€Ÿæ’åºå¤„ç†å°è§„æ¨¡æ•°æ®çš„æ•ˆç‡æ¯”è¾ƒä½ï¼Œæ‰€ä»¥ä¸ºäº†å¤„ç†è¿™ä¸ªé—®é¢˜ï¼Œæˆ‘ä»¬åˆå®ç°äº†ä¸€ä¸ªé’ˆå¯¹å°è§„æ¨¡æ•°æ®çš„ç­–ç•¥ï¼Œä½¿å¾—åœ¨å¤§è§„æ¨¡æ•°æ®ä¸Šä½¿ç”¨å¿«é€Ÿæ’åºï¼Œå°è§„æ¨¡æ•°æ®ä½¿ç”¨å†’æ³¡æ’åºã€‚\n\n#### ç®€å•æ€»ç»“\n\nç­–ç•¥æ¨¡å¼å…è®¸æ‚¨æ ¹æ®æƒ…å†µåˆ‡æ¢ç®—æ³•æˆ–ç­–ç•¥\n\n(å®é™…ä¸Šåœ¨jsé‡Œé¢ç”±äºå‡½æ•°æ˜¯ä¸€ç­‰å…¬æ°‘ï¼Œç¬¬ä¸€ä¸ªå‚æ•°è®¾ä¸ºå‡½æ•°ï¼Œä¹‹åä¼ å…¥ä¸åŒçš„æ’åºå‡½æ•°å°±èƒ½è¾¾æˆç±»ä¼¼çš„æ•ˆæœï¼Œä¹Ÿä¸éœ€è¦ç”¨åˆ°å¤šæ€)\n\n#### ä¼˜ç¼ºç‚¹\n\n**ä¼˜ç‚¹**\n\n-  ä½ å¯ä»¥åœ¨è¿è¡Œæ—¶åˆ‡æ¢å¯¹è±¡å†…çš„ç®—æ³•ã€‚\n-  ä½ å¯ä»¥å°†ç®—æ³•çš„å®ç°å’Œä½¿ç”¨ç®—æ³•çš„ä»£ç éš”ç¦»å¼€æ¥ã€‚\n-  ä½ å¯ä»¥ä½¿ç”¨ç»„åˆæ¥ä»£æ›¿ç»§æ‰¿ã€‚\n-  *å¼€é—­åŸåˆ™*ã€‚ ä½ æ— éœ€å¯¹ä¸Šä¸‹æ–‡è¿›è¡Œä¿®æ”¹å°±èƒ½å¤Ÿå¼•å…¥æ–°çš„ç­–ç•¥ã€‚\n\n**ç¼ºç‚¹**ï¼š\n\n-  å¦‚æœä½ çš„ç®—æ³•æå°‘å‘ç”Ÿæ”¹å˜ï¼Œ é‚£ä¹ˆæ²¡æœ‰ä»»ä½•ç†ç”±å¼•å…¥æ–°çš„ç±»å’Œæ¥å£ã€‚ ä½¿ç”¨è¯¥æ¨¡å¼åªä¼šè®©ç¨‹åºè¿‡äºå¤æ‚ã€‚\n-  å®¢æˆ·ç«¯å¿…é¡»çŸ¥æ™“ç­–ç•¥é—´çš„ä¸åŒâ€”â€”å®ƒéœ€è¦é€‰æ‹©åˆé€‚çš„ç­–ç•¥ã€‚\n-  è®¸å¤šç°ä»£ç¼–ç¨‹è¯­è¨€æ”¯æŒå‡½æ•°ç±»å‹åŠŸèƒ½ï¼Œ å…è®¸ä½ åœ¨ä¸€ç»„åŒ¿åå‡½æ•°ä¸­å®ç°ä¸åŒç‰ˆæœ¬çš„ç®—æ³•ã€‚ è¿™æ ·ï¼Œ ä½ ä½¿ç”¨è¿™äº›å‡½æ•°çš„æ–¹å¼å°±å’Œä½¿ç”¨ç­–ç•¥å¯¹è±¡æ—¶å®Œå…¨ç›¸åŒï¼Œ æ— éœ€å€ŸåŠ©é¢å¤–çš„ç±»å’Œæ¥å£æ¥ä¿æŒä»£ç ç®€æ´ã€‚\n\n#### typescript example\n\ntypescript ç»™JavaScriptæ·»åŠ äº†æ›´å®Œå–„çš„é¢å‘å¯¹è±¡æ”¯æŒï¼Œæ”¯æŒç±»å‹å’Œinterface\n\nä¸‹é¢æ˜¯ç”¨typescriptå®ç°è¿™ä¸ªæ’åºçš„ä¾‹å­çš„ä»£ç \n\n```typescript\ninterface SortStrategy {\n  sort(arr: Array\u003cnumber\u003e): Array\u003cnumber\u003e\n}\n\nclass BubbleSortStrategy implements SortStrategy {\n  sort(arr: number[]): number[] {\n    console.log('do bubble sort')\n    return arr\n  }\n}\n\nclass QuickSortStrategy implements SortStrategy {\n  sort(arr: number[]): number[] {\n    console.log('do quick sort')\n    return arr\n  }\n}\n\nclass Sorter {\n  sortStrategy: SortStrategy\n  constructor(sortStrategy: SortStrategy) {\n    this.sortStrategy = sortStrategy\n  }\n  sort(arr: Array\u003cnumber\u003e): Array\u003cnumber\u003e {\n    return this.sortStrategy.sort(arr)\n  }\n}\n\nnew Sorter(new BubbleSortStrategy()).sort([9, 2, 4, 3, 5])\nnew Sorter(new QuickSortStrategy()).sort([9, 2, 4, 3, 5])\n\n```\n\nå®é™…ä¸Šæœ€åç”Ÿæˆes5çš„ä»£ç ï¼Œé‡Œé¢å°±æ²¡æœ‰æ¥å£äº†ï¼Œ\n\nJavaScriptçš„å¤šæ€å’Œpythonä¸€æ ·ï¼Œæ˜¯é€šè¿‡é¸­å­ç±»å‹å®ç°çš„ã€‚\n\n```javascript\n\"use strict\";\nvar BubbleSortStrategy = /** @class */ (function () {\n    function BubbleSortStrategy() {\n    }\n    BubbleSortStrategy.prototype.sort = function (arr) {\n        console.log('do bubble sort');\n        return arr;\n    };\n    return BubbleSortStrategy;\n}());\nvar QuickSortStrategy = /** @class */ (function () {\n    function QuickSortStrategy() {\n    }\n    QuickSortStrategy.prototype.sort = function (arr) {\n        console.log('do quick sort');\n        return arr;\n    };\n    return QuickSortStrategy;\n}());\nvar Sorter = /** @class */ (function () {\n    function Sorter(sortStrategy) {\n        this.sortStrategy = sortStrategy;\n    }\n    Sorter.prototype.sort = function (arr) {\n        return this.sortStrategy.sort(arr);\n    };\n    return Sorter;\n}());\nnew Sorter(new BubbleSortStrategy()).sort([9, 2, 4, 3, 5]);\nnew Sorter(new QuickSortStrategy()).sort([9, 2, 4, 3, 5]);\n```\n\nä¸‹é¢æ˜¯æŒ‰ç…§head first è®¾è®¡æ¨¡å¼ï¼Œè¿™æœ¬ä¹¦ç¬¬ä¸€ä¸ªä¾‹å­å®ç°çš„é¸­å­æ¨¡æ‹Ÿå™¨ä»£ç ã€‚\n\nä½¿ç”¨äº†ç­–ç•¥æ¨¡å¼ï¼ŒæŠŠç»™é¸­å­æ·»åŠ å„ç§è¡Œä¸ºçš„ä»£ç æŠ½ç¦»å‡ºæ¥äº†ï¼Œä½¿å¾—æ·»åŠ æ–°çš„è¡Œä¸ºçš„ä»£ç æ”¹åŠ¨æ¯”è¾ƒå°ï¼Œå¹¶ä¸”å¯ä»¥åŠ¨æ€æ”¹å˜è¡Œä¸ºã€‚\n\n```typescript\ninterface FlyBehavior {\n  fly(): void\n}\nclass FlyWithWings implements FlyBehavior {\n  fly(): void {\n    console.log('i can fly')\n  }\n}\nclass FlyNoWay implements FlyBehavior {\n  fly(): void {\n    console.log('i can not fly')\n  }\n}\nclass FlyRocketPowered implements FlyBehavior {\n  fly(): void {\n    console.log('fly with a rocket!!!!!!!')\n  }\n}\n\ninterface QuackBehavior {\n  quack(): void\n}\nclass Quack implements QuackBehavior {\n  quack(): void {\n    console.log('quack!!!')\n  }\n}\n\nclass MuteQuack implements QuackBehavior {\n  quack(): void {\n    console.log('\u003c\u003cSilence\u003e\u003e')\n  }\n}\n\nabstract class Duck {\n  abstract flyBehavior: FlyBehavior\n  abstract quackBehavior: QuackBehavior\n  abstract display(): void\n  performFly(): void {\n    this.flyBehavior.fly()\n  }\n  performQuack(): void {\n    this.quackBehavior.quack()\n  }\n  swim(): void {\n    console.log('All ducks float,even decoys')\n  }\n}\nclass MallardDuck extends Duck {\n  flyBehavior: FlyBehavior = new FlyWithWings()\n  quackBehavior: QuackBehavior = new Quack()\n  display(): void {\n    console.log('this is MallarDuck')\n    this.performQuack()\n    this.performFly()\n    this.swim()\n  }\n}\n\nclass ModelDuck extends Duck {\n  flyBehavior: FlyBehavior = new FlyRocketPowered()\n  quackBehavior: QuackBehavior = new MuteQuack()\n  display(): void {\n    console.log('this is model duck')\n    this.performQuack()\n    this.performFly()\n    this.swim()\n  }\n}\n\nclass DuckCall extends Quack {}\n// const duck1 = new TestDuck()\n// duck1.performFly()\n// duck1.performQuack()\nnew MallardDuck().display()\nnew ModelDuck().display()\nnew DuckCall().quack()\n\n```\n\n\n\n#### golang example\n\ngoè¯­è¨€æ²¡æœ‰ç»§æ‰¿ï¼Œgoè¯­è¨€çš„interfaceä¹Ÿæ¯”è¾ƒè½»é‡ï¼Œç±»ä¼¼äºpythonå’Œjsè¿™æ ·çš„é¸­å­ç±»å‹äº†ï¼Œåªæ˜¯å¤šäº†ç±»å‹æ£€æŸ¥è€Œå·²ï¼Œç¼–è¯‘é˜¶æ®µæ‰¾ä¸åˆ°å¯¹åº”çš„å‡½æ•°å°±ä¼šæŠ¥é”™äº†ã€‚\n\ngolangçš„interfaceåªèƒ½åŒ…å«å‡½æ•°ï¼Œç„¶åå®ç°è¿™ä¸ªinterfaceåªè¦å®ç°åŒæ ·æ ¼å¼çš„å‡½æ•°å°±ç®—å®ç°æ¥å£ã€‚\n\næ•´ä½“æ¥è¯´è¿˜æ˜¯æ¯”è¾ƒçµæ´»çš„ï¼Œæ¯”è¾ƒç®€æ´çš„ã€‚æ‰€ä»¥ä¸€ä¸ªç©ºæ¥å£interface{}æ‰€æœ‰ç±»å‹éƒ½å®ç°äº†å®ƒï¼Œå¯ä»¥ç”¨ç©ºæ¥å£æ¥æ”¶æ‰€æœ‰ç±»å‹ã€‚\n\n```go\npackage main\n\nimport \"fmt\"\n\ntype SortStrategyer interface {\n\tsort(list []int) []int\n}\n\ntype BubbleSortStrategy struct {\n}\n\nfunc (b *BubbleSortStrategy) sort(list []int) []int {\n\tfmt.Println(\"do bubble sort\")\n\treturn list\n}\n\ntype QuickSortStrategy struct {\n}\n\nfunc (b *QuickSortStrategy) sort(list []int) []int {\n\tfmt.Println(\"do quick sort\")\n\treturn list\n}\n\ntype Sorter struct {\n\tstrategy SortStrategyer\n}\n\nfunc (s *Sorter) doSort(list []int) []int {\n\treturn s.strategy.sort(list)\n}\n\nfunc main() {\n\ttestList := []int{4, 5, 3}\n\tsort1 := Sorter{strategy: \u0026BubbleSortStrategy{}}\n\tsort1.doSort(testList)\n\tsort2 := Sorter{strategy: \u0026QuickSortStrategy{}}\n\tsort2.doSort(testList)\n\tsort1.strategy = \u0026QuickSortStrategy{}\n\tsort1.doSort(testList)\n}\n\n```\n\n#### dart example\n\ndart æ˜¯æˆ‘ç”¨çš„å‡ ç§ç¼–ç¨‹è¯­è¨€ä¸­è¯­æ³•æœ€æ¥è¿‘javaçš„ã€‚\n\ntypescriptä¹Ÿå¾ˆåƒjavaï¼Œä½†æ˜¯å®ƒè·Ÿgoä¸€æ ·æŠŠç±»å‹æ”¾åœ¨å˜é‡åé¢äº†ã€‚\n\ndartçš„ä¸åŒä¹‹å¤„åœ¨äºï¼Œdartä¸­æ²¡æœ‰åƒjavaä¸€æ ·çš„interfaceå…³é”®å­—ï¼Œdartä¸­æ¯ä¸ªç±»éƒ½å¯ä»¥å½“ä½œæ¥å£ï¼Œå› æ­¤è¿™é‡Œæˆ‘ä»¬ç”¨äº†æŠ½è±¡ç±»ä½œä¸ºä¸€ä¸ªæ¥å£ä½¿ç”¨ã€‚\n\n```dart\nabstract class SortStrategy {\n  List\u003cint\u003e sort(List\u003cint\u003e data);\n}\n\nclass BubbleSortStrategy implements SortStrategy {\n  @override\n  List\u003cint\u003e sort(List\u003cint\u003e data) {\n    print('do bubble sort');\n    return data;\n  }\n}\n\nclass QuickSortStrategy implements SortStrategy {\n  @override\n  List\u003cint\u003e sort(List\u003cint\u003e data) {\n    print('do qucik sort');\n    return data;\n  }\n}\n\nclass Sorter {\n  final SortStrategy sortStrategy;\n// datr æ„é€ å‡½æ•°è¯­æ³•ç³–ï¼Œåªéœ€è¦åœ¨å‚æ•°åˆ—è¡¨åˆ—å‡ºåˆå§‹åŒ–å‚æ•°ï¼Œèµ‹å€¼è‡ªåŠ¨å¸®ä½ å®ç°\n  Sorter(this.sortStrategy);\n\n  List\u003cint\u003e doSort(List\u003cint\u003e data) {\n    return this.sortStrategy.sort(data);\n  }\n}\n\nmain(List\u003cString\u003e args) {\n  var sort1 = Sorter(BubbleSortStrategy());\n  sort1.doSort([1, 2, 3]);\n  var sort2 = Sorter(QuickSortStrategy());\n  sort2.doSort([1, 2, 3]);\n}\n\n```\n\n\n\n### 2.ğŸ˜è§‚å¯Ÿè€…æ¨¡å¼(Observer)\n\n#### ç°å®ä¾‹å­\n\nä¹Ÿå«åšå‘å¸ƒè®¢é˜…æ¨¡å¼,è¿™é‡Œç»™å‡ºçš„ä¾‹å­æ˜¯,æ±‚èŒè€…è®¢é˜…äº†æ‹›è˜ç½‘ç«™çš„æœåŠ¡,å¦‚æœæœ‰åŒ¹é…çš„å·¥ä½œä¿¡æ¯,æ‹›è˜ç½‘ç«™ä¼šè¿›è¡Œæ¨é€\n\n\n\n#### ç®€å•æ€»ç»“\n\nå»ºç«‹å¯¹è±¡é—´çš„ä¾èµ–å…³ç³»ï¼Œä½¿å¾—ä¸€ä¸ªå¯¹è±¡çš„çŠ¶æ€å‘ç”Ÿæ”¹å˜æ—¶ï¼Œæ‰€æœ‰ä¾èµ–å®ƒçš„å¯¹è±¡éƒ½èƒ½è¢«é€šçŸ¥åˆ°ã€‚\n\n\n\n#### ç»´åŸºç™¾ç§‘çš„æè¿°\n\nè§‚å¯Ÿè€…æ¨¡å¼æ˜¯ä¸€ç§è½¯ä»¶è®¾è®¡æ¨¡å¼ï¼Œåœ¨è¿™ç§æ¨¡å¼ä¸­ï¼Œä¸€ä¸ªç§°ä¸ºä¸»ä½“çš„å¯¹è±¡ç»´æŠ¤ä¸€ä¸ªç§°ä¸ºè§‚å¯Ÿè€…çš„ä¾èµ–é¡¹åˆ—è¡¨ï¼Œå¹¶åœ¨ä»»ä½•çŠ¶æ€æ›´æ”¹æ—¶è‡ªåŠ¨é€šçŸ¥å®ƒä»¬(é€šå¸¸é€šè¿‡è°ƒç”¨å®ƒä»¬çš„ä¸€ä¸ªæ–¹æ³•)ã€‚\n\n#### ä¼˜ç¼ºç‚¹\n\n**ä¼˜ç‚¹**\n\n-  *å¼€é—­åŸåˆ™*ã€‚ ä½ æ— éœ€ä¿®æ”¹å‘å¸ƒè€…ä»£ç å°±èƒ½å¼•å…¥æ–°çš„è®¢é˜…è€…ç±» ï¼ˆå¦‚æœæ˜¯å‘å¸ƒè€…æ¥å£åˆ™å¯è½»æ¾å¼•å…¥å‘å¸ƒè€…ç±»ï¼‰ã€‚\n-  ä½ å¯ä»¥åœ¨è¿è¡Œæ—¶å»ºç«‹å¯¹è±¡ä¹‹é—´çš„è”ç³»ã€‚\n\n#### typescript example\n\n\n\n```typescript\ninterface Subject {\n  registerObserver(o: Observer): void\n  removeObserver(o: Observer): void\n  notifyObservers(info: any): void\n}\n\ninterface Observer {\n  update(s: Subject, arg: Object): void\n}\n\nclass JobInfo {\n  protected info: string\n  constructor(info: string) {\n    this.info = info\n  }\n  getInfo() {\n    return this.info\n  }\n}\n\nclass JobSite implements Subject {\n  protected observers: Array\u003cObserver\u003e\n  constructor() {\n    this.observers = Array\u003cObserver\u003e()\n  }\n  registerObserver(o: Observer): void {\n    this.observers.push(o)\n  }\n  removeObserver(o: Observer): void {\n    const index = this.observers.indexOf(o)\n    this.observers.splice(index, 1)\n  }\n  notifyObservers(info: JobInfo): void {\n    for (const o of this.observers) {\n      o.update(this, info)\n    }\n  }\n\n  AddJob(info: JobInfo) {\n    console.log('æ‹›è˜ç½‘ç«™æœ‰æ–°çš„å·¥ä½œè¿½åŠ äº†')\n\n    this.notifyObservers(info)\n  }\n}\n\nclass Jiucai implements Observer {\n  name: string\n  constructor(name: string) {\n    this.name = name\n  }\n  update(s: Subject, arg: JobInfo): void {\n    console.log(`${this.name}æ”¶åˆ°æ–°å·¥ä½œæ¨é€ï¼ŒèŒä½æ˜¯${arg.getInfo()}`)\n  }\n}\n\nconst zibenjia = new JobSite()\n\nconst jiucai1 = new Jiucai('ç”Ÿå‘½1å·')\nconst jiucai2 = new Jiucai('è„‘ç™½é‡‘')\n\nzibenjia.registerObserver(jiucai1)\nzibenjia.registerObserver(jiucai2)\n\nzibenjia.AddJob(new JobInfo('webå‰ç«¯'))\nzibenjia.AddJob(new JobInfo('ç®—æ³•å·¥ç¨‹å¸ˆ'))\n\n```\n\nä¸‹é¢æ˜¯head firstè®¾è®¡æ¨¡å¼è¿™æœ¬ä¹¦é‡Œé¢å…³äºæ°”è±¡ç«™å’Œå‘Šç¤ºæ¿çš„typescriptä»£ç å®ç°\n\n```typescript\ninterface Subject {\n  registerObserver(o: Observer): void\n  removeObserver(o: Observer): void\n  notifyObservers(): void\n}\n\ninterface Observer {\n  update(temp: number, humidity: number, pressure: number): void\n}\n\ninterface DisplayElement {\n  display(): void\n}\n\nclass WeatherData implements Subject {\n  private observers: Array\u003cObserver\u003e\n  private temperature!: number\n  private humidity!: number\n  private pressure!: number\n  constructor() {\n    this.observers = Array\u003cObserver\u003e()\n  }\n  registerObserver(o: Observer): void {\n    this.observers.push(o)\n  }\n  removeObserver(o: Observer): void {\n    const index = this.observers.indexOf(o)\n    this.observers.splice(index, 1)\n  }\n  notifyObservers(): void {\n    for (const o of this.observers) {\n      o.update(this.temperature, this.humidity, this.pressure)\n    }\n  }\n\n  measurementsChanged() {\n    this.notifyObservers()\n  }\n  setMeasurements(temperature: number, humidity: number, pressure: number) {\n    this.temperature = temperature\n    this.humidity = humidity\n    this.pressure = pressure\n    this.measurementsChanged()\n  }\n}\n\nclass CurrentConditionDisplay implements Observer, DisplayElement {\n  private temperature!: number\n  private humidity!: number\n  private weatherData: Subject\n  constructor(weatherData: Subject) {\n    this.weatherData = weatherData\n    this.weatherData.registerObserver(this)\n  }\n  update(temp: number, humidity: number, pressure: number): void {\n    this.temperature = temp\n    this.humidity = humidity\n    this.display()\n  }\n\n  display(): void {\n    console.log(\n      `Current conditionsc: ${this.temperature} F degrees and ${this.humidity}% humidity`\n    )\n  }\n}\n\nclass StatisticsConditionDisplay implements Observer, DisplayElement {\n  private pressure!: number\n  private weatherData: Subject\n  constructor(weatherData: Subject) {\n    this.weatherData = weatherData\n    this.weatherData.registerObserver(this)\n  }\n  update(temp: number, humidity: number, pressure: number): void {\n    this.pressure = pressure\n    this.display()\n  }\n\n  display(): void {\n    console.log(`Statistics conditionsc: ${this.pressure} pressure`)\n  }\n}\nconst wd = new WeatherData()\nconst ccd = new CurrentConditionDisplay(wd)\nconst scd = new StatisticsConditionDisplay(wd)\nwd.setMeasurements(80, 65, 30.4)\nwd.setMeasurements(82, 75, 28.3)\nwd.setMeasurements(78, 90, 36.4)\n\nexport {}\n\n```\n\n\n\n\n\n#### dart example\n\ndartä¸­Objectä¸æƒ³typescriptä¸€æ ·å¯ä»¥æ¥å—ä»»ä½•å…¶ä»–ç±»ã€‚\n\næ‰€ä»¥æˆ‘è¿™é‡Œå¯¹observer ç”¨äº†æ³›å‹ã€‚\n\n```dart\nabstract class Observer\u003cT\u003e {\n  void update(Subject s, T o);\n}\n\nabstract class Subject {\n  void registerObserver(Observer o);\n  void removeObserver(Observer o);\n  void notifyObservers(Object o);\n}\n\nclass JobInfo {\n  late String info;\n  JobInfo(this.info);\n}\n\nclass JobSite implements Subject {\n  final List\u003cObserver\u003e observers = [];\n\n  @override\n  void registerObserver(Observer o) {\n    this.observers.add(o);\n  }\n\n  @override\n  void removeObserver(Observer o) {\n    this.observers.remove(o);\n  }\n\n  @override\n  void notifyObservers(Object o) {\n    for (var item in this.observers) {\n      item.update(this, o);\n    }\n  }\n\n  void addJobInfo(JobInfo j) {\n    print('æœ‰æ–°çš„å·¥ä½œä¿¡æ¯');\n    this.notifyObservers(j);\n  }\n}\n\nclass Jiucai implements Observer\u003cJobInfo\u003e {\n  final String name;\n\n  Jiucai(this.name);\n  @override\n  void update(Subject s, JobInfo o) {\n    print(\"$nameæ”¶åˆ°æ–°çš„å·¥ä½œæ¨é€ï¼ŒèŒä½æ˜¯${o.info}\");\n  }\n}\n\nmain(List\u003cString\u003e args) {\n  var zibenjia = JobSite();\n\n  var jiucai1 = Jiucai('æç™½');\n  var jiucai2 = Jiucai('ç™½å±…æ˜“');\n\n  zibenjia.registerObserver(jiucai1);\n  zibenjia.registerObserver(jiucai2);\n  zibenjia.addJobInfo(JobInfo('AIå·¥ç¨‹å¸ˆ'));\n}\n\n```\n\n#### golang example\n\n```go\npackage main\n\nimport \"fmt\"\n\ntype Subject interface {\n\tregisterObserver(o Observer)\n\tremoveObserver(o Observer)\n\tnotifyObservers(s Subject, o interface{})\n}\n\ntype Observer interface {\n\tupdate(s Subject, o interface{})\n}\n\ntype JobSite struct {\n\tobservers []Observer\n}\n\nfunc (j *JobSite) registerObserver(o Observer) {\n\tj.observers = append(j.observers, o)\n}\n\nfunc (j *JobSite) removeObserver(o Observer) {\n\tfor i := 0; i \u003c len(j.observers); i++ {\n\t\tif o == j.observers[i] {\n\t\t\tj.observers = append(j.observers[:i], j.observers[i+1:]...)\n\t\t\treturn\n\t\t}\n\t}\n}\nfunc (j *JobSite) notifyObservers(s Subject, o interface{}) {\n\tfor i := 0; i \u003c len(j.observers); i++ {\n\t\tj.observers[i].update(s, o)\n\t}\n}\nfunc (j *JobSite) addJobInfo(info string) {\n\tfmt.Println(\"æ–°å·¥ä½œä¿¡æ¯å…¥åº“\")\n\tj.notifyObservers(j, info)\n}\n\ntype Jiucai struct {\n\tname string\n}\n\nfunc (j *Jiucai) update(s Subject, o interface{}) {\n\tfmt.Printf(\"%sæ”¶åˆ°æ–°çš„å·¥ä½œæ¨é€ï¼ŒèŒä½æ˜¯%v\\n\", j.name, o)\n}\nfunc main() {\n\tzibenjia := JobSite{observers: []Observer{}}\n\tjiucai1 := Jiucai{name: \"å¼ ä¸‰\"}\n\tjiucai2 := Jiucai{name: \"æå››\"}\n\tzibenjia.registerObserver(\u0026jiucai1)\n\tzibenjia.registerObserver(\u0026jiucai2)\n\tzibenjia.addJobInfo(\"å–ç‰›å¥¶\")\n\n}\n\n```\n\n\n\n### 3.ğŸ‘®å‘½ä»¤æ¨¡å¼(Command)\n\n**äº¦ç§°ï¼š** åŠ¨ä½œã€äº‹åŠ¡ã€Actionã€Transaction\n\n#### çœŸå®ä¸–ç•Œçš„ä¾‹å­\n\nä¸€ä¸ªä¾‹å­æ˜¯é¤é¦†ç‚¹é¤ï¼Œ æ‚¨ï¼ˆå³å®¢æˆ·ï¼‰è¯¢é—®æœåŠ¡å‘˜ï¼ˆå³ï¼Œè°ƒç”¨è€…ï¼‰æºå¸¦ä¸€äº›é£Ÿç‰©ï¼ˆå³å‘½ä»¤ï¼‰å’ŒæœåŠ¡å‘˜åªéœ€å°†è¯¥è¯·æ±‚è½¬å‘ç»™å¨å¸ˆï¼ˆå³æ¥æ”¶è€…ï¼‰ï¼Œè¯¥è¯·æ±‚å…·æœ‰å…³äºçƒ¹é¥ªçš„å†…å®¹å’Œå¦‚ä½•çƒ¹é¥ªçš„çŸ¥è¯†ã€‚ å¦ä¸€ä¸ªä¾‹å­æ˜¯æ‚¨ï¼ˆå³å®¢æˆ·ç«¯ï¼‰ä½¿ç”¨é¥æ§å™¨ï¼ˆå³ï¼ŒCommandï¼‰çš„ç”µè§†ï¼ˆå³ï¼Œæ¥æ”¶å™¨ï¼‰æ‰“å¼€ï¼ˆå³ï¼Œæ¥æ”¶å™¨ï¼‰ã€‚\n\n#### ç®€å•æ€»ç»“\n\nå…è®¸æ‚¨åœ¨å¯¹è±¡ä¸­å°è£…åŠ¨ä½œã€‚æ­¤æ¨¡å¼èƒŒåçš„å…³é”®æ€æƒ³æ˜¯æä¾›åˆ†ç¦»å®¢æˆ·æœºä¸æ¥æ”¶è€…çš„æ–¹æ³•ã€‚\n\n#### ç»´åŸºç™¾ç§‘çš„è§£é‡Š\n\nåœ¨é¢å‘å¯¹è±¡ç¼–ç¨‹ä¸­ï¼Œå‘½ä»¤æ¨¡å¼æ˜¯ä¸€ç§è¡Œä¸ºè®¾è®¡æ¨¡å¼ï¼Œåœ¨è¿™ç§æ¨¡å¼ä¸­ï¼Œä¸€ä¸ªå¯¹è±¡è¢«ç”¨æ¥å°è£…åœ¨ä»¥åæ‰§è¡Œä¸€ä¸ªåŠ¨ä½œæˆ–è§¦å‘ä¸€ä¸ªäº‹ä»¶æ‰€éœ€çš„æ‰€æœ‰ä¿¡æ¯ã€‚è¯¥ä¿¡æ¯åŒ…æ‹¬æ–¹æ³•åã€æ‹¥æœ‰è¯¥æ–¹æ³•çš„å¯¹è±¡å’Œæ–¹æ³•å‚æ•°çš„å€¼ã€‚\n\n#### ä¼˜ç¼ºç‚¹\n\n**ä¼˜ç‚¹**\n\n- *å•ä¸€èŒè´£åŸåˆ™*ã€‚ ä½ å¯ä»¥è§£è€¦è§¦å‘å’Œæ‰§è¡Œæ“ä½œçš„ç±»ã€‚\n-  *å¼€é—­åŸåˆ™*ã€‚ ä½ å¯ä»¥åœ¨ä¸ä¿®æ”¹å·²æœ‰å®¢æˆ·ç«¯ä»£ç çš„æƒ…å†µä¸‹åœ¨ç¨‹åºä¸­åˆ›å»ºæ–°çš„å‘½ä»¤ã€‚\n-  ä½ å¯ä»¥å®ç°æ’¤é”€å’Œæ¢å¤åŠŸèƒ½ã€‚\n-  ä½ å¯ä»¥å®ç°æ“ä½œçš„å»¶è¿Ÿæ‰§è¡Œã€‚\n-  ä½ å¯ä»¥å°†ä¸€ç»„ç®€å•å‘½ä»¤ç»„åˆæˆä¸€ä¸ªå¤æ‚å‘½ä»¤ã€‚\n\n**ç¼ºç‚¹**\n\n-  ä»£ç å¯èƒ½ä¼šå˜å¾—æ›´åŠ å¤æ‚ï¼Œ å› ä¸ºä½ åœ¨å‘é€è€…å’Œæ¥æ”¶è€…ä¹‹é—´å¢åŠ äº†ä¸€ä¸ªå…¨æ–°çš„å±‚æ¬¡ã€‚\n\n#### typescript example\n\nä¸‹é¢æ˜¯ä¸€ä¸ªé¥æ§å™¨æ§åˆ¶ç¯æ³¡å¼€å…³çš„å®ç°ã€‚\n\n```typescript\n// ç¯æ³¡\nclass Bulb {\n  turnOn() {\n    console.log('Bulb has been lit')\n  }\n  turnOff() {\n    console.log('be dark')\n  }\n}\n\ninterface Command {\n  execute(): void\n  undo(): void\n  redo(): void\n}\n\nclass TurnOn implements Command {\n  protected bulb: Bulb\n  constructor(bulb: Bulb) {\n    this.bulb = bulb\n  }\n  execute(): void {\n    this.bulb.turnOn()\n  }\n  undo(): void {\n    this.bulb.turnOff()\n  }\n  redo(): void {\n    this.execute()\n  }\n}\nclass TurnOff implements Command {\n  protected bulb: Bulb\n  constructor(bulb: Bulb) {\n    this.bulb = bulb\n  }\n  execute(): void {\n    this.bulb.turnOff()\n  }\n  undo(): void {\n    this.bulb.turnOn()\n  }\n  redo(): void {\n    this.execute()\n  }\n}\n\nclass RemoteControl {\n  submit(command: Command) {\n    command.execute()\n  }\n}\n\nconst bulb = new Bulb()\n\nconst turnOn = new TurnOn(bulb)\nconst turnOff = new TurnOff(bulb)\n\nconst remote = new RemoteControl()\nremote.submit(turnOn)\nremote.submit(turnOff)\n\n```\n\n### 4.ğŸ“’ æ¨¡æ¿æ–¹æ³•(Template Method)\n\n#### çœŸå®ä¸–ç•Œçš„ä¾‹å­\n\nå‡è®¾æˆ‘ä»¬è¦å»ºæˆ¿å­ã€‚å»ºé€ çš„æ­¥éª¤å¯èƒ½åƒè¿™æ ·\n\n- å‡†å¤‡å¥½æˆ¿å­çš„åœ°åŸº\n\n- æ„å»ºå¢™\n\n- æ·»åŠ å±‹é¡¶\n\n- æ·»åŠ å…¶ä»–æ¥¼å±‚\n\nè¿™äº›æ­¥éª¤çš„é¡ºåºæ°¸è¿œä¸ä¼šæ”¹å˜ï¼Œä¾‹å¦‚ï¼Œä½ ä¸èƒ½åœ¨å»ºé€ å¢™å£ä¹‹å‰å»ºé€ å±‹é¡¶ï¼Œä½†æ¯ä¸ªæ­¥éª¤éƒ½å¯ä»¥ä¿®æ”¹ï¼Œä¾‹å¦‚ï¼Œå¢™å£å¯ä»¥ç”±æœ¨æã€èšé…¯æˆ–çŸ³å¤´åˆ¶æˆã€‚\n\n#### ç®€å•æ€»ç»“\n\næ¨¡æ¿æ–¹æ³•å®šä¹‰äº†å¦‚ä½•æ‰§è¡ŒæŸä¸ªç®—æ³•çš„æ¡†æ¶ï¼Œä½†å°†è¿™äº›æ­¥éª¤çš„å®ç°æ¨è¿Ÿåˆ°å­ç±»ã€‚\n\n#### ç»´åŸºç™¾ç§‘çš„æè¿°\n\nåœ¨è½¯ä»¶å·¥ç¨‹ä¸­ï¼Œæ¨¡æ¿æ–¹æ³•æ¨¡å¼æ˜¯ä¸€ç§è¡Œä¸ºè®¾è®¡æ¨¡å¼ï¼Œå®ƒåœ¨æ“ä½œä¸­å®šä¹‰ç®—æ³•çš„ç¨‹åºæ¡†æ¶ï¼Œå°†ä¸€äº›æ­¥éª¤æ¨è¿Ÿåˆ°å­ç±»ä¸­ã€‚å®ƒå…è®¸äººä»¬åœ¨ä¸æ”¹å˜ç®—æ³•ç»“æ„çš„æƒ…å†µä¸‹é‡æ–°å®šä¹‰ç®—æ³•çš„æŸäº›æ­¥éª¤ã€‚\n\n#### ä¼˜ç¼ºç‚¹\n\n**ä¼˜ç‚¹**\n\n-  ä½ å¯ä»…å…è®¸å®¢æˆ·ç«¯é‡å†™ä¸€ä¸ªå¤§å‹ç®—æ³•ä¸­çš„ç‰¹å®šéƒ¨åˆ†ï¼Œ ä½¿å¾—ç®—æ³•å…¶ä»–éƒ¨åˆ†ä¿®æ”¹å¯¹å…¶æ‰€é€ æˆçš„å½±å“å‡å°ã€‚\n-  ä½ å¯å°†é‡å¤ä»£ç æå–åˆ°ä¸€ä¸ªè¶…ç±»ä¸­ã€‚\n\n**ç¼ºç‚¹**\n\n-  éƒ¨åˆ†å®¢æˆ·ç«¯å¯èƒ½ä¼šå—åˆ°ç®—æ³•æ¡†æ¶çš„é™åˆ¶ã€‚\n-  é€šè¿‡å­ç±»æŠ‘åˆ¶é»˜è®¤æ­¥éª¤å®ç°å¯èƒ½ä¼šå¯¼è‡´è¿å_é‡Œæ°æ›¿æ¢åŸåˆ™_(å³æ´¾ç”Ÿç±»å¯ä»¥åœ¨ç¨‹åºä¸­æ›¿æ¢åŸºç±»å¯¹è±¡)ã€‚\n-  æ¨¡æ¿æ–¹æ³•ä¸­çš„æ­¥éª¤è¶Šå¤šï¼Œ å…¶ç»´æŠ¤å·¥ä½œå°±å¯èƒ½ä¼šè¶Šå›°éš¾ã€‚\n\n#### typescript example\n\nå‡è®¾æˆ‘ä»¬æœ‰ä¸€ä¸ªæ„å»ºå·¥å…·ï¼Œå¯ä»¥å¸®åŠ©æˆ‘ä»¬æµ‹è¯•ã€lintã€æ„å»ºã€ç”Ÿæˆæ„å»ºæŠ¥å‘Š(å³ä»£ç è¦†ç›–æŠ¥å‘Šã€lintingæŠ¥å‘Šç­‰)ï¼Œå¹¶å°†æˆ‘ä»¬çš„åº”ç”¨éƒ¨ç½²åˆ°æµ‹è¯•æœåŠ¡å™¨ä¸Šã€‚é¦–å…ˆï¼Œæˆ‘ä»¬æœ‰ä¸ºæ„å»ºç®—æ³•æŒ‡å®šéª¨æ¶çš„åŸºç±»\n\n```typescript\nabstract class Builder {\n  build() {\n    this.test()\n    this.lint()\n    this.assemble()\n    this.deploy()\n  }\n  abstract test(): void\n  abstract lint(): void\n  abstract assemble(): void\n  abstract deploy(): void\n}\n\nclass AndroidBuilder extends Builder {\n  test(): void {\n    console.log('Running android test')\n  }\n  lint(): void {\n    console.log('Linting the android code.')\n  }\n  assemble(): void {\n    console.log('Assembling the andorid build.')\n  }\n  deploy(): void {\n    console.log('Deploying android build to server')\n  }\n}\n\nclass IosBuilder extends Builder {\n  test(): void {\n    console.log('Running ios test')\n  }\n  lint(): void {\n    console.log('Linting the ios code.')\n  }\n  assemble(): void {\n    console.log('Assembling the ios build.')\n  }\n  deploy(): void {\n    console.log('Deploying ios build to server')\n  }\n}\n\nconst androidBuilder = new AndroidBuilder()\nandroidBuilder.build()\nconst iosBuilder = new IosBuilder()\niosBuilder.build()\n\n```\n\n### 5.â¿è¿­ä»£å™¨æ¨¡å¼ (Iterator)\n\n#### ç°å®çš„ä¾‹å­\n\nä¸€ä¸ªæ—§çš„æ”¶éŸ³æœºå°†æ˜¯è¿­ä»£å™¨çš„ä¸€ä¸ªå¾ˆå¥½çš„ä¾‹å­ï¼Œç”¨æˆ·å¯ä»¥ä»æŸä¸ªæ‹¼æ­å¼€å§‹ï¼Œç„¶åä½¿ç”¨ä¸‹ä¸€ä¸ªæˆ–ä¸Šä¸€ä¸ªæŒ‰é’®é€šè¿‡ç›¸åº”çš„é€šé“ã€‚æˆ–è€…ä»¥MP3æ’­æ”¾å™¨æˆ–ç”µè§†æœºä¸ºä¾‹ï¼Œä½ å¯ä»¥æŒ‰ä¸‹ä¸€ä¸ªå’Œä¸Šä¸€ä¸ªæŒ‰é’®æ¥æµè§ˆè¿ç»­çš„é¢‘é“ï¼Œæˆ–è€…æ¢å¥è¯è¯´ï¼Œå®ƒä»¬éƒ½æä¾›äº†ä¸€ä¸ªç•Œé¢æ¥è¿­ä»£å„ä¸ªé¢‘é“ã€æ­Œæ›²æˆ–ç”µå°ã€‚\n\nåˆæ¯”å¦‚è¯´åˆ—è¡¨å’Œæ•°ç»„çš„éå†æ–¹å¼ä¸åŒ,ä½ å¯ä»¥ç”¨è¿­ä»£å™¨æ¨¡å¼æŠŠä»–ä»¬å°è£…æˆä¸€è‡´çš„ä½¿ç”¨æ–¹å¼.\n\n#### ç®€å•æ€»ç»“\n\n**è¿­ä»£å™¨æ¨¡å¼**æ˜¯ä¸€ç§è¡Œä¸ºè®¾è®¡æ¨¡å¼ è®©ä½ èƒ½åœ¨ä¸æš´éœ²é›†åˆåº•å±‚è¡¨ç°å½¢å¼ ï¼ˆåˆ—è¡¨ã€ æ ˆå’Œæ ‘ç­‰ï¼‰ çš„æƒ…å†µä¸‹éå†é›†åˆä¸­æ‰€æœ‰çš„å…ƒç´ ã€‚\n\n#### ç»´åŸºç™¾ç§‘çš„è§£é‡Š\n\nåœ¨é¢å‘å¯¹è±¡ç¼–ç¨‹ä¸­ï¼Œè¿­ä»£å™¨æ¨¡å¼æ˜¯ä¸€ç§è®¾è®¡æ¨¡å¼ï¼Œå…¶ä¸­è¿­ä»£å™¨ç”¨äºéå†å®¹å™¨å¹¶è®¿é—®å®¹å™¨çš„å…ƒç´ ã€‚è¿­ä»£å™¨æ¨¡å¼å°†ç®—æ³•ä¸å®¹å™¨è§£è€¦;åœ¨æŸäº›æƒ…å†µä¸‹ï¼Œç®—æ³•å¿…é¡»æ˜¯ç‰¹å®šäºå®¹å™¨çš„ï¼Œå› æ­¤ä¸èƒ½è§£è€¦ã€‚\n\n#### ä¼˜ç¼ºç‚¹\n\n**ä¼˜ç‚¹**\n\n-  *å•ä¸€èŒè´£åŸåˆ™*ã€‚ é€šè¿‡å°†ä½“ç§¯åºå¤§çš„éå†ç®—æ³•ä»£ç æŠ½å–ä¸ºç‹¬ç«‹çš„ç±»ï¼Œ ä½ å¯å¯¹å®¢æˆ·ç«¯ä»£ç å’Œé›†åˆè¿›è¡Œæ•´ç†ã€‚\n-  *å¼€é—­åŸåˆ™*ã€‚ ä½ å¯å®ç°æ–°å‹çš„é›†åˆå’Œè¿­ä»£å™¨å¹¶å°†å…¶ä¼ é€’ç»™ç°æœ‰ä»£ç ï¼Œ æ— éœ€ä¿®æ”¹ç°æœ‰ä»£ç ã€‚\n-  ä½ å¯ä»¥å¹¶è¡Œéå†åŒä¸€é›†åˆï¼Œ å› ä¸ºæ¯ä¸ªè¿­ä»£å™¨å¯¹è±¡éƒ½åŒ…å«å…¶è‡ªèº«çš„éå†çŠ¶æ€ã€‚\n-  ç›¸ä¼¼çš„ï¼Œ ä½ å¯ä»¥æš‚åœéå†å¹¶åœ¨éœ€è¦æ—¶ç»§ç»­ã€‚\n\n**ç¼ºç‚¹**\n\n-  å¦‚æœä½ çš„ç¨‹åºåªä¸ç®€å•çš„é›†åˆè¿›è¡Œäº¤äº’ï¼Œ åº”ç”¨è¯¥æ¨¡å¼å¯èƒ½ä¼šçŸ«æ‰è¿‡æ­£ã€‚\n-  å¯¹äºæŸäº›ç‰¹æ®Šé›†åˆï¼Œ ä½¿ç”¨è¿­ä»£å™¨å¯èƒ½æ¯”ç›´æ¥éå†çš„æ•ˆç‡ä½ã€‚\n\n#### typescript example\n\n```typescript\n/**\n * Iterator Design Pattern\n *\n * Intent: Lets you traverse elements of a collection without exposing its\n * underlying representation (list, stack, tree, etc.).\n */\n\ninterface Iterator\u003cT\u003e {\n  // Return the current element.\n  current(): T\n\n  // Return the current element and move forward to next element.\n  next(): T\n\n  // Return the key of the current element.\n  key(): number\n\n  // Checks if current position is valid.\n  valid(): boolean\n\n  // Rewind the Iterator to the first element.\n  rewind(): void\n}\n\ninterface Aggregator {\n  // Retrieve an external iterator.\n  getIterator(): Iterator\u003cstring\u003e\n}\n\n/**\n * Concrete Iterators implement various traversal algorithms. These classes\n * store the current traversal position at all times.\n */\n\nclass AlphabeticalOrderIterator implements Iterator\u003cstring\u003e {\n  private collection: WordsCollection\n\n  /**\n   * Stores the current traversal position. An iterator may have a lot of\n   * other fields for storing iteration state, especially when it is supposed\n   * to work with a particular kind of collection.\n   */\n  private position: number = 0\n\n  /**\n   * This variable indicates the traversal direction.\n   */\n  private reverse: boolean = false\n\n  constructor(collection: WordsCollection, reverse: boolean = false) {\n    this.collection = collection\n    this.reverse = reverse\n\n    if (reverse) {\n      this.position = collection.getCount() - 1\n    }\n  }\n\n  public rewind() {\n    this.position = this.reverse ? this.collection.getCount() - 1 : 0\n  }\n\n  public current(): string {\n    return this.collection.getItems()[this.position]\n  }\n\n  public key(): number {\n    return this.position\n  }\n\n  public next(): string {\n    const item = this.collection.getItems()[this.position]\n    this.position += this.reverse ? -1 : 1\n    return item\n  }\n\n  public valid(): boolean {\n    if (this.reverse) {\n      return this.position \u003e= 0\n    }\n\n    return this.position \u003c this.collection.getCount()\n  }\n}\n\n/**\n * Concrete Collections provide one or several methods for retrieving fresh\n * iterator instances, compatible with the collection class.\n */\nclass WordsCollection implements Aggregator {\n  private items: string[] = []\n\n  public getItems(): string[] {\n    return this.items\n  }\n\n  public getCount(): number {\n    return this.items.length\n  }\n\n  public addItem(item: string): void {\n    this.items.push(item)\n  }\n\n  public getIterator(): Iterator\u003cstring\u003e {\n    return new AlphabeticalOrderIterator(this)\n  }\n\n  public getReverseIterator(): Iterator\u003cstring\u003e {\n    return new AlphabeticalOrderIterator(this, true)\n  }\n}\n\n/**\n * The client code may or may not know about the Concrete Iterator or Collection\n * classes, depending on the level of indirection you want to keep in your\n * program.\n */\nconst collection = new WordsCollection()\ncollection.addItem('First')\ncollection.addItem('Second')\ncollection.addItem('Third')\n\nconst iterator = collection.getIterator()\n\nconsole.log('Straight traversal:')\nwhile (iterator.valid()) {\n  console.log(iterator.next())\n}\n\nconsole.log('')\nconsole.log('Reverse traversal:')\nconst reverseIterator = collection.getReverseIterator()\nwhile (reverseIterator.valid()) {\n  console.log(reverseIterator.next())\n}\n```\n\n### 6.ğŸ’¢ çŠ¶æ€æ¨¡å¼(State)\n\n#### ç°å®çš„ä¾‹å­\n\nå‡è®¾æ‚¨æ­£åœ¨ä½¿ç”¨ä¸€äº›ç»˜å›¾åº”ç”¨ç¨‹åºï¼Œæ‚¨é€‰æ‹©ç”»ç¬”è¿›è¡Œç»˜åˆ¶ã€‚ç°åœ¨ç¬”åˆ·ä¼šæ ¹æ®é€‰æ‹©çš„é¢œè‰²æ”¹å˜å®ƒçš„è¡Œä¸ºï¼Œä¾‹å¦‚ï¼Œå¦‚æœä½ é€‰æ‹©äº†çº¢è‰²ï¼Œå®ƒå°±ä¼šä»¥çº¢è‰²ç»˜åˆ¶ï¼Œå¦‚æœæ˜¯è“è‰²ï¼Œå®ƒå°±ä¼šä»¥è“è‰²ç»˜åˆ¶ï¼Œç­‰ç­‰ã€‚\n\næ™ºèƒ½æ‰‹æœºçš„æŒ‰é”®å’Œå¼€å…³ä¼šæ ¹æ®è®¾å¤‡å½“å‰çŠ¶æ€å®Œæˆä¸åŒè¡Œä¸ºï¼š\n\n- å½“æ‰‹æœºå¤„äºè§£é”çŠ¶æ€æ—¶ï¼Œ æŒ‰ä¸‹æŒ‰é”®å°†æ‰§è¡Œå„ç§åŠŸèƒ½ã€‚\n- å½“æ‰‹æœºå¤„äºé”å®šçŠ¶æ€æ—¶ï¼Œ æŒ‰ä¸‹ä»»ä½•æŒ‰é”®éƒ½å°†è§£é”å±å¹•ã€‚\n- å½“æ‰‹æœºç”µé‡ä¸è¶³æ—¶ï¼Œ æŒ‰ä¸‹ä»»ä½•æŒ‰é”®éƒ½å°†æ˜¾ç¤ºå……ç”µé¡µé¢ã€‚\n\n#### ç®€å•æ€»ç»“\n\n**çŠ¶æ€æ¨¡å¼**æ˜¯ä¸€ç§è¡Œä¸ºè®¾è®¡æ¨¡å¼ï¼Œ è®©ä½ èƒ½åœ¨ä¸€ä¸ªå¯¹è±¡çš„å†…éƒ¨çŠ¶æ€å˜åŒ–æ—¶æ”¹å˜å…¶è¡Œä¸ºï¼Œ ä½¿å…¶çœ‹ä¸Šå»å°±åƒæ”¹å˜äº†è‡ªèº«æ‰€å±çš„ç±»ä¸€æ ·ã€‚\n\n#### ç»´åŸºç™¾ç§‘çš„è§£é‡Š\n\nçŠ¶æ€æ¨¡å¼æ˜¯ä¸€ç§è¡Œä¸ºè½¯ä»¶è®¾è®¡æ¨¡å¼ï¼Œå…¶ä»¥é¢å‘å¯¹è±¡æ–¹å¼å®ç°çŠ¶æ€æœºã€‚ åˆ©ç”¨çŠ¶æ€æ¨¡å¼ï¼Œé€šè¿‡å°†æ¯ä¸ªå•ç‹¬çš„çŠ¶æ€ä½œä¸ºçŠ¶æ€æ¨¡å¼æ¥å£çš„æ´¾ç”Ÿç±»å®ç°æ¯ä¸ªå•ç‹¬çš„çŠ¶æ€æ¥å®ç°çŠ¶æ€æœºï¼Œå¹¶é€šè¿‡è°ƒç”¨ç”±æ¨¡å¼çš„è¶…ç±»å®šä¹‰çš„æ–¹æ³•æ¥å®ç°çŠ¶æ€è½¬æ¢ã€‚ çŠ¶æ€æ¨¡å¼å¯ä»¥è¢«è§£é‡Šä¸ºèƒ½å¤Ÿé€šè¿‡æ¨¡å¼æ¥å£ä¸­å®šä¹‰çš„æ–¹æ³•çš„è°ƒç”¨æ¥åˆ‡æ¢å½“å‰ç­–ç•¥çš„ç­–ç•¥æ¨¡å¼ã€‚\n\n#### ä¼˜ç¼ºç‚¹\n\n**ä¼˜ç‚¹**\n\n-  *å•ä¸€èŒè´£åŸåˆ™*ã€‚ å°†ä¸ç‰¹å®šçŠ¶æ€ç›¸å…³çš„ä»£ç æ”¾åœ¨å•ç‹¬çš„ç±»ä¸­ã€‚\n-  *å¼€é—­åŸåˆ™*ã€‚ æ— éœ€ä¿®æ”¹å·²æœ‰çŠ¶æ€ç±»å’Œä¸Šä¸‹æ–‡å°±èƒ½å¼•å…¥æ–°çŠ¶æ€ã€‚\n-  é€šè¿‡æ¶ˆé™¤è‡ƒè‚¿çš„çŠ¶æ€æœºæ¡ä»¶è¯­å¥ç®€åŒ–ä¸Šä¸‹æ–‡ä»£ç ã€‚\n\n**ç¼ºç‚¹**\n\n-  å¦‚æœçŠ¶æ€æœºåªæœ‰å¾ˆå°‘çš„å‡ ä¸ªçŠ¶æ€ï¼Œ æˆ–è€…å¾ˆå°‘å‘ç”Ÿæ”¹å˜ï¼Œ é‚£ä¹ˆåº”ç”¨è¯¥æ¨¡å¼å¯èƒ½ä¼šæ˜¾å¾—å°é¢˜å¤§ä½œã€‚\n\n#### ä¸å…¶ä»–æ¨¡å¼çš„å…³ç³»\n\n- **æ¡¥æ¥æ¨¡å¼**ã€ **çŠ¶æ€æ¨¡å¼**å’Œ**ç­–ç•¥æ¨¡å¼** ï¼ˆåœ¨æŸç§ç¨‹åº¦ä¸ŠåŒ…æ‹¬é€‚é…å™¨æ¨¡å¼ï¼‰ æ¨¡å¼çš„æ¥å£éå¸¸ç›¸ä¼¼ã€‚ å®é™…ä¸Šï¼Œ å®ƒä»¬éƒ½åŸºäºç»„åˆæ¨¡å¼â€”â€”å³å°†å·¥ä½œå§”æ´¾ç»™å…¶ä»–å¯¹è±¡ï¼Œ ä¸è¿‡ä¹Ÿå„è‡ªè§£å†³äº†ä¸åŒçš„é—®é¢˜ã€‚ æ¨¡å¼å¹¶ä¸åªæ˜¯ä»¥ç‰¹å®šæ–¹å¼ç»„ç»‡ä»£ç çš„é…æ–¹ï¼Œ ä½ è¿˜å¯ä»¥ä½¿ç”¨å®ƒä»¬æ¥å’Œå…¶ä»–å¼€å‘è€…è®¨è®ºæ¨¡å¼æ‰€è§£å†³çš„é—®é¢˜ã€‚\n\n- çŠ¶æ€å¯è¢«è§†ä¸ºç­–ç•¥çš„æ‰©å±•ã€‚ ä¸¤è€…éƒ½åŸºäºç»„åˆæœºåˆ¶ï¼š å®ƒä»¬éƒ½é€šè¿‡å°†éƒ¨åˆ†å·¥ä½œå§”æ´¾ç»™ â€œå¸®æ‰‹â€ å¯¹è±¡æ¥æ”¹å˜å…¶åœ¨ä¸åŒæƒ…æ™¯ä¸‹çš„è¡Œä¸ºã€‚ ç­–ç•¥ä½¿å¾—è¿™äº›å¯¹è±¡ç›¸äº’ä¹‹é—´å®Œå…¨ç‹¬ç«‹ï¼Œ å®ƒä»¬ä¸çŸ¥é“å…¶ä»–å¯¹è±¡çš„å­˜åœ¨ã€‚ ä½†çŠ¶æ€æ¨¡å¼æ²¡æœ‰é™åˆ¶å…·ä½“çŠ¶æ€ä¹‹é—´çš„ä¾èµ–ï¼Œ ä¸”å…è®¸å®ƒä»¬è‡ªè¡Œæ”¹å˜åœ¨ä¸åŒæƒ…æ™¯ä¸‹çš„çŠ¶æ€ã€‚\n\n#### typescript example\n\nè®©æˆ‘ä»¬ä¸¾ä¸€ä¸ªæ–‡æœ¬ç¼–è¾‘å™¨çš„ä¾‹å­ï¼Œå®ƒå¯ä»¥è®©ä½ æ”¹å˜è¾“å…¥çš„æ–‡æœ¬çš„çŠ¶æ€ï¼Œä¾‹å¦‚ï¼Œå¦‚æœä½ é€‰æ‹©äº†ç²—ä½“ï¼Œå®ƒå°±å¼€å§‹å†™ç²—ä½“ï¼Œå¦‚æœæ˜¯æ–œä½“ï¼Œç„¶åæ˜¯æ–œä½“ç­‰ç­‰ã€‚\n\n```typescript\ninterface WritingState {\n  write(words: string): void\n}\n\nclass UpperCase implements WritingState {\n  write(words: string): void {\n    console.log(`Uppercase:${words}`)\n  }\n}\n\nclass LowerCase implements WritingState {\n  write(words: string): void {\n    console.log(`Lowercase:${words}`)\n  }\n}\n\nclass DefaultText implements WritingState {\n  write(words: string): void {\n    console.log(`DefaultText:${words}`)\n  }\n}\n\nclass TextEditor {\n  protected state: WritingState\n  constructor(state: WritingState) {\n    this.state = state\n  }\n  setState(state: WritingState) {\n    this.state = state\n  }\n  type(words: string) {\n    this.state.write(words)\n  }\n}\n\nconst editor = new TextEditor(new DefaultText())\neditor.type('hello')\neditor.setState(new UpperCase())\neditor.type('1')\n\neditor.setState(new LowerCase())\n\neditor.type('2')\n\n```\n\n\n\n### 7.ğŸ”—è´£ä»»é“¾æ¨¡å¼ Chain of Responsibility\n\n#### ç°å®çš„ä¾‹å­\n\nä¾‹å¦‚ï¼Œæ‚¨åœ¨æ‚¨çš„å¸æˆ·ä¸­è®¾ç½®äº†ä¸‰ä¸ªä»˜æ¬¾æ–¹å¼ï¼ˆAï¼ŒBå’ŒCï¼‰è®¾ç½®; æ¯ä¸ªéƒ½æœ‰ä¸åŒçš„é‡ã€‚ Aæœ‰100ç¾å…ƒï¼ŒBæœ‰300ç¾å…ƒï¼ŒCå…·æœ‰1000ç¾å…ƒï¼Œä½ åå¥½çš„è´­ä¹°é¡ºåºæ˜¯å…ˆAåBåC.æ‚¨å°è¯•è´­ä¹°ä»·å€¼210ç¾å…ƒçš„ä¸œè¥¿ã€‚ ä½¿ç”¨è´£ä»»é“¾ï¼Œé¦–å…ˆå°†æ£€æŸ¥å®ƒæ˜¯å¦å¯ä»¥è´­ä¹°è´­ä¹°ï¼Œå¦‚æœæ˜¯è´­ä¹°ï¼Œåˆ™å°†è¿›è¡Œè´­ä¹°ï¼Œå¹¶ä¸”é“¾å°†è¢«æ‰“ç ´ã€‚ å¦‚æœæ²¡æœ‰ï¼Œè¯·æ±‚å°†å‰è¿›ä»¥å‘å¸æˆ·Bæ£€æŸ¥é‡‘é¢å¦‚æœæ˜¯é“¾å°†è¢«æ‰“ç ´ï¼Œå¦åˆ™è¯·æ±‚å°†ç»§ç»­è½¬å‘ï¼Œç›´åˆ°å®ƒæ‰¾åˆ°åˆé€‚çš„å¤„ç†ç¨‹åºã€‚ è¿™é‡Œï¼ŒBå’ŒCæ˜¯é“¾æ¡çš„é“¾æ¥ï¼Œæ•´ä¸ªç°è±¡æ˜¯è´£ä»»é“¾ã€‚\n\n#### ç®€å•æ€»ç»“\n\n**è´£ä»»é“¾æ¨¡å¼**æ˜¯ä¸€ç§è¡Œä¸ºè®¾è®¡æ¨¡å¼ï¼Œ å…è®¸ä½ å°†è¯·æ±‚æ²¿ç€å¤„ç†è€…é“¾è¿›è¡Œå‘é€ã€‚ æ”¶åˆ°è¯·æ±‚åï¼Œ æ¯ä¸ªå¤„ç†è€…å‡å¯å¯¹è¯·æ±‚è¿›è¡Œå¤„ç†ï¼Œ æˆ–å°†å…¶ä¼ é€’ç»™é“¾ä¸Šçš„ä¸‹ä¸ªå¤„ç†è€…ã€‚\n\n#### ä¼˜ç¼ºç‚¹\n\n**ä¼˜ç‚¹**\n\n-  ä½ å¯ä»¥æ§åˆ¶è¯·æ±‚å¤„ç†çš„é¡ºåºã€‚\n-  *å•ä¸€èŒè´£åŸåˆ™*ã€‚ ä½ å¯å¯¹å‘èµ·æ“ä½œå’Œæ‰§è¡Œæ“ä½œçš„ç±»è¿›è¡Œè§£è€¦ã€‚\n-  *å¼€é—­åŸåˆ™*ã€‚ ä½ å¯ä»¥åœ¨ä¸æ›´æ”¹ç°æœ‰ä»£ç çš„æƒ…å†µä¸‹åœ¨ç¨‹åºä¸­æ–°å¢å¤„ç†è€…ã€‚\n\n**ç¼ºç‚¹**\n\n-  éƒ¨åˆ†è¯·æ±‚å¯èƒ½æœªè¢«å¤„ç†ã€‚\n\n#### typescript example\n\n```typescript\nabstract class Account {\n  protected successor: Account | null = null\n  protected abstract balance: number\n  setNext(account: Account) {\n    this.successor = account\n  }\n  pay(amountToPay: number) {\n    if (this.canPay(amountToPay)) {\n      console.log(`paid ${amountToPay} using ${this.constructor.toString()}`)\n    } else if (this.successor) {\n      console.log('cant pay ,using next...')\n      this.successor.pay(amountToPay)\n    } else {\n      throw new Error('None of the accounts have enough balance')\n    }\n  }\n  canPay(amount: number): boolean {\n    return this.balance \u003e= amount\n  }\n}\n\nclass Bank extends Account {\n  protected balance: number\n  constructor(balance: number) {\n    super()\n    this.balance = balance\n  }\n}\n\nclass Paypal extends Account {\n  protected balance: number\n  constructor(balance: number) {\n    super()\n    this.balance = balance\n  }\n}\n\nclass Bitcoin extends Account {\n  protected balance: number\n  constructor(balance: number) {\n    super()\n    this.balance = balance\n  }\n}\n\nconst bank = new Bank(100)\nconst paypal = new Paypal(200)\nconst bitcoin = new Bitcoin(300)\n\nbank.setNext(paypal)\npaypal.setNext(bitcoin)\nbank.pay(259)\n```\n\n### 8.ğŸ‘½ä¸­ä»‹è€…æ¨¡å¼(Mediator)\n\n**äº¦ç§°ï¼š** è°ƒè§£äººã€æ§åˆ¶å™¨ã€Intermediaryã€Controller\n\n#### ç°å®çš„ä¾‹å­\n\nä¸€ä¸ªä¸€èˆ¬çš„ä¾‹å­æ˜¯ï¼Œå½“ä½ ç”¨æ‰‹æœºå’ŒæŸäººäº¤è°ˆæ—¶ï¼Œæœ‰ä¸€ä¸ªç½‘ç»œæä¾›å•†ååœ¨ä½ å’Œä»–ä»¬ä¹‹é—´ï¼Œä½ çš„è°ˆè¯ç»è¿‡å®ƒè€Œä¸æ˜¯ç›´æ¥å‘é€ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œç½‘ç»œæä¾›è€…æ˜¯ä¸­ä»‹ã€‚\n\n#### ç®€å•æ€»ç»“\n\n**ä¸­ä»‹è€…æ¨¡å¼**æ˜¯ä¸€ç§è¡Œä¸ºè®¾è®¡æ¨¡å¼ï¼Œ èƒ½è®©ä½ å‡å°‘å¯¹è±¡ä¹‹é—´æ··ä¹±æ— åºçš„ä¾èµ–å…³ç³»ã€‚ è¯¥æ¨¡å¼ä¼šé™åˆ¶å¯¹è±¡ä¹‹é—´çš„ç›´æ¥äº¤äº’ï¼Œ è¿«ä½¿å®ƒä»¬é€šè¿‡ä¸€ä¸ªä¸­ä»‹è€…å¯¹è±¡è¿›è¡Œåˆä½œã€‚\n\n#### ä¼˜ç¼ºç‚¹\n\n**ä¼˜ç‚¹**\n\n- *å•ä¸€èŒè´£åŸåˆ™*ã€‚ ä½ å¯ä»¥å°†å¤šä¸ªç»„ä»¶é—´çš„äº¤æµæŠ½å–åˆ°åŒä¸€ä½ç½®ï¼Œ ä½¿å…¶æ›´æ˜“äºç†è§£å’Œç»´æŠ¤ã€‚\n-  *å¼€é—­åŸåˆ™*ã€‚ ä½ æ— éœ€ä¿®æ”¹å®é™…ç»„ä»¶å°±èƒ½å¢åŠ æ–°çš„ä¸­ä»‹è€…ã€‚\n-  ä½ å¯ä»¥å‡è½»åº”ç”¨ä¸­å¤šä¸ªç»„ä»¶é—´çš„è€¦åˆæƒ…å†µã€‚\n-  ä½ å¯ä»¥æ›´æ–¹ä¾¿åœ°å¤ç”¨å„ä¸ªç»„ä»¶ã€‚\n\n**ç¼ºç‚¹**\n\nä¸€æ®µæ—¶é—´åï¼Œ ä¸­ä»‹è€…å¯èƒ½ä¼šæ¼”åŒ–æˆä¸º **ä¸Šå¸å¯¹è±¡**ï¼ˆä¸­ä»‹è€…æœ¬èº«ä¼šè¿‡äºå¤æ‚ï¼‰ã€‚\n\n#### typescript example\n\n```typescript\ninterface ChatRoomMediator {\n  showMessage(user: User, message: string): void\n}\n\nclass ChatRoom implements ChatRoomMediator {\n  showMessage(user: User, message: string): void {\n    const time = new Date().toUTCString()\n    const sender = user.getName()\n    console.log(`${time}[${sender}]:${message}`)\n  }\n}\n\nclass User {\n  protected name: string\n  protected chatMediator: ChatRoomMediator\n  constructor(name: string, chatMediator: ChatRoomMediator) {\n    this.name = name\n    this.chatMediator = chatMediator\n  }\n  getName() {\n    return this.name\n  }\n  send(message: string) {\n    this.chatMediator.showMessage(this, message)\n  }\n}\n\nconst mediator = new ChatRoom()\n\nconst john = new User('John Doe', mediator)\nconst jane = new User('Jane Doe', mediator)\n\njohn.send('hi,its me')\njane.send('hey!')\n```\n\n### 9.ğŸ’¾å¤‡å¿˜å½•æ¨¡å¼(Memento)\n\n**äº¦ç§°ï¼š** å¿«ç…§ã€Snapshot\n\n#### ç°å®çš„ä¾‹å­\n\nä»¥è®¡ç®—å™¨ä¸ºä¾‹ï¼Œæ— è®ºä½•æ—¶ä½ æ‰§è¡Œä¸€äº›è®¡ç®—ï¼Œæœ€åçš„è®¡ç®—éƒ½ä¼šä¿å­˜åœ¨å†…å­˜ä¸­ï¼Œè¿™æ ·ä½ å°±å¯ä»¥ä½¿ç”¨æŸäº›æ“ä½œæŒ‰é’®è¿”å›è®¡ç®—å™¨å¹¶æ¢å¤å®ƒã€‚\n\n#### ç®€å•æ€»ç»“\n\n**å¤‡å¿˜å½•æ¨¡å¼**æ˜¯ä¸€ç§è¡Œä¸ºè®¾è®¡æ¨¡å¼ï¼Œ å…è®¸åœ¨ä¸æš´éœ²å¯¹è±¡å®ç°ç»†èŠ‚çš„æƒ…å†µä¸‹ä¿å­˜å’Œæ¢å¤å¯¹è±¡ä¹‹å‰çš„çŠ¶æ€ã€‚\n\n#### é€‚åˆçš„ä½¿ç”¨åœºæ™¯\n\n å½“ä½ éœ€è¦åˆ›å»ºå¯¹è±¡çŠ¶æ€å¿«ç…§æ¥æ¢å¤å…¶ä¹‹å‰çš„çŠ¶æ€æ—¶ï¼Œ å¯ä»¥ä½¿ç”¨å¤‡å¿˜å½•æ¨¡å¼ã€‚\n\n å¤‡å¿˜å½•æ¨¡å¼å…è®¸ä½ å¤åˆ¶å¯¹è±¡ä¸­çš„å…¨éƒ¨çŠ¶æ€ ï¼ˆåŒ…æ‹¬ç§æœ‰æˆå‘˜å˜é‡ï¼‰ï¼Œ å¹¶å°†å…¶ç‹¬ç«‹äºå¯¹è±¡è¿›è¡Œä¿å­˜ã€‚ å°½ç®¡å¤§éƒ¨åˆ†äººå› ä¸º â€œæ’¤é”€â€ è¿™ä¸ªç”¨ä¾‹æ‰è®°å¾—è¯¥æ¨¡å¼ï¼Œ ä½†å…¶å®å®ƒåœ¨å¤„ç†äº‹åŠ¡ ï¼ˆæ¯”å¦‚éœ€è¦åœ¨å‡ºç°é”™è¯¯æ—¶å›æ»šä¸€ä¸ªæ“ä½œï¼‰ çš„è¿‡ç¨‹ä¸­ä¹Ÿå¿…ä¸å¯å°‘ã€‚\n\n å½“ç›´æ¥è®¿é—®å¯¹è±¡çš„æˆå‘˜å˜é‡ã€ è·å–å™¨æˆ–è®¾ç½®å™¨å°†å¯¼è‡´å°è£…è¢«çªç ´æ—¶ï¼Œ å¯ä»¥ä½¿ç”¨è¯¥æ¨¡å¼ã€‚\n\n å¤‡å¿˜å½•è®©å¯¹è±¡è‡ªè¡Œè´Ÿè´£åˆ›å»ºå…¶çŠ¶æ€çš„å¿«ç…§ã€‚ ä»»ä½•å…¶ä»–å¯¹è±¡éƒ½ä¸èƒ½è¯»å–å¿«ç…§ï¼Œ è¿™æœ‰æ•ˆåœ°ä¿éšœäº†æ•°æ®çš„å®‰å…¨æ€§ã€‚\n\n#### ä¼˜ç¼ºç‚¹\n\n**ä¼˜ç‚¹**\n\n-  ä½ å¯ä»¥åœ¨ä¸ç ´åå¯¹è±¡å°è£…æƒ…å†µçš„å‰æä¸‹åˆ›å»ºå¯¹è±¡çŠ¶æ€å¿«ç…§ã€‚\n-  ä½ å¯ä»¥é€šè¿‡è®©è´Ÿè´£äººç»´æŠ¤åŸå‘å™¨çŠ¶æ€å†å²è®°å½•æ¥ç®€åŒ–åŸå‘å™¨ä»£ç ã€‚\n\n**ç¼ºç‚¹**\n\n-  å¦‚æœå®¢æˆ·ç«¯è¿‡äºé¢‘ç¹åœ°åˆ›å»ºå¤‡å¿˜å½•ï¼Œ ç¨‹åºå°†æ¶ˆè€—å¤§é‡å†…å­˜ã€‚\n-  è´Ÿè´£äººå¿…é¡»å®Œæ•´è·Ÿè¸ªåŸå‘å™¨çš„ç”Ÿå‘½å‘¨æœŸï¼Œ è¿™æ ·æ‰èƒ½é”€æ¯å¼ƒç”¨çš„å¤‡å¿˜å½•ã€‚\n-  ç»å¤§éƒ¨åˆ†åŠ¨æ€ç¼–ç¨‹è¯­è¨€ ï¼ˆä¾‹å¦‚ PHPã€ Python å’Œ JavaScriptï¼‰ ä¸èƒ½ç¡®ä¿å¤‡å¿˜å½•ä¸­çš„çŠ¶æ€ä¸è¢«ä¿®æ”¹ã€‚\n\n#### typescript example\n\n```typescript\nclass EditorMemento {\n  protected content: string\n  constructor(content: string) {\n    this.content = content\n  }\n  getContent() {\n    return this.content\n  }\n}\n\nclass Editor {\n  protected content = ''\n  type(words: string) {\n    this.content = this.content + words\n  }\n  getContent() {\n    return this.content\n  }\n  save() {\n    return new EditorMemento(this.content)\n  }\n  restore(memento: EditorMemento) {\n    this.content = memento.getContent()\n  }\n}\n\nconst editor = new Editor()\neditor.type('first sentence\\n')\neditor.type('this is second\\n')\nconst saved = editor.save()\n\neditor.type('third\\n')\nconsole.log(editor.getContent())\neditor.restore(saved)\nconsole.log(editor.getContent())\n\nexport {}\n\n```\n\n### 10.ğŸƒè®¿é—®è€…æ¨¡å¼(Visitor)\n\n#### ç°å®çš„ä¾‹å­\n\nè€ƒè™‘ä¸€ä¸‹å»è¿ªæ‹œæ—…æ¸¸çš„äººã€‚ä»–ä»¬åªéœ€è¦ä¸€ç§æ–¹å¼(å³ç­¾è¯)è¿›å…¥è¿ªæ‹œã€‚åˆ°è¾¾åï¼Œä»–ä»¬å¯ä»¥è‡ªå·±æ¥å‚è§‚è¿ªæ‹œçš„ä»»ä½•åœ°æ–¹ï¼Œè€Œä¸éœ€è¦ç”³è¯·è®¸å¯æˆ–è¡Œèµ°ä¸€å¤§æ®µè·ç¦»æ¥å‚è§‚è¿™é‡Œçš„ä»»ä½•åœ°æ–¹;åªè¦è®©ä»–ä»¬çŸ¥é“ä¸€ä¸ªåœ°æ–¹ï¼Œä»–ä»¬å°±å¯ä»¥å»å‚è§‚ã€‚è®¿å®¢æ¨¡å¼å¯ä»¥è®©ä½ åšåˆ°è¿™ä¸€ç‚¹ï¼Œå®ƒå¯ä»¥å¸®åŠ©ä½ æ·»åŠ è¦å‚è§‚çš„åœ°æ–¹ï¼Œè¿™æ ·ä»–ä»¬å¯ä»¥å°½å¯èƒ½å¤šåœ°å‚è§‚ï¼Œè€Œä¸å¿…åšä»»ä½•è·‘è…¿çš„å·¥ä½œ\n\n#### ç®€å•æ€»ç»“\n\n**è®¿é—®è€…æ¨¡å¼**æ˜¯ä¸€ç§è¡Œä¸ºè®¾è®¡æ¨¡å¼ï¼Œ å®ƒèƒ½å°†ç®—æ³•ä¸å…¶æ‰€ä½œç”¨çš„å¯¹è±¡éš”ç¦»å¼€æ¥ã€‚\n\n#### ä¼˜ç¼ºç‚¹\n\n**ä¼˜ç‚¹**\n\n- *å¼€é—­åŸåˆ™*ã€‚ ä½ å¯ä»¥å¼•å…¥åœ¨ä¸åŒç±»å¯¹è±¡ä¸Šæ‰§è¡Œçš„æ–°è¡Œä¸ºï¼Œ ä¸”æ— éœ€å¯¹è¿™äº›ç±»åšå‡ºä¿®æ”¹ã€‚\n-  *å•ä¸€èŒè´£åŸåˆ™*ã€‚ å¯å°†åŒä¸€è¡Œä¸ºçš„ä¸åŒç‰ˆæœ¬ç§»åˆ°åŒä¸€ä¸ªç±»ä¸­ã€‚\n-  è®¿é—®è€…å¯¹è±¡å¯ä»¥åœ¨ä¸å„ç§å¯¹è±¡äº¤äº’æ—¶æ”¶é›†ä¸€äº›æœ‰ç”¨çš„ä¿¡æ¯ã€‚ å½“ä½ æƒ³è¦éå†ä¸€äº›å¤æ‚çš„å¯¹è±¡ç»“æ„ ï¼ˆä¾‹å¦‚å¯¹è±¡æ ‘ï¼‰ï¼Œ å¹¶åœ¨ç»“æ„ä¸­çš„æ¯ä¸ªå¯¹è±¡ä¸Šåº”ç”¨è®¿é—®è€…æ—¶ï¼Œ è¿™äº›ä¿¡æ¯å¯èƒ½ä¼šæœ‰æ‰€å¸®åŠ©ã€‚\n\n**ç¼ºç‚¹**\n\n-  æ¯æ¬¡åœ¨å…ƒç´ å±‚æ¬¡ç»“æ„ä¸­æ·»åŠ æˆ–ç§»é™¤ä¸€ä¸ªç±»æ—¶ï¼Œ ä½ éƒ½è¦æ›´æ–°æ‰€æœ‰çš„è®¿é—®è€…ã€‚\n-  åœ¨è®¿é—®è€…åŒæŸä¸ªå…ƒç´ è¿›è¡Œäº¤äº’æ—¶ï¼Œ å®ƒä»¬å¯èƒ½æ²¡æœ‰è®¿é—®å…ƒç´ ç§æœ‰æˆå‘˜å˜é‡å’Œæ–¹æ³•çš„å¿…è¦æƒé™ã€‚\n\n#### typescript example\n\n```typescript\ninterface Animal {\n  accept(operation: AnimalOperation): void\n}\n\ninterface AnimalOperation {\n  visitMonkey(monkey: Monkey): void\n  visitLion(lion: Lion): void\n  visitDolphin(dolphin: Dolphin): void\n}\n\nclass Monkey implements Animal {\n  shout() {\n    console.log('Ooh oo aa aa!')\n  }\n  accept(operation: AnimalOperation) {\n    operation.visitMonkey(this)\n  }\n}\n\nclass Lion implements Animal {\n  accept(operation: AnimalOperation): void {\n    operation.visitLion(this)\n  }\n  roar() {\n    console.log('Roaaar!')\n  }\n}\nclass Dolphin implements Animal {\n  accept(operation: AnimalOperation): void {\n    operation.visitDolphin(this)\n  }\n  speak() {\n    console.log('Tuut tuttu tuutt')\n  }\n}\n\nclass Speak implements AnimalOperation {\n  visitMonkey(monkey: Monkey): void {\n    monkey.shout()\n  }\n  visitLion(lion: Lion): void {\n    lion.roar()\n  }\n  visitDolphin(dolphin: Dolphin): void {\n    dolphin.speak()\n  }\n}\n\nconst monkey = new Monkey()\nconst lion = new Lion()\nconst dolphin = new Dolphin()\nconst speak = new Speak()\nmonkey.accept(speak)\nlion.accept(speak)\ndolphin.accept(speak)\nexport {}\n```\n\n"}},"__N_SSG":true},"page":"/posts/[id]","query":{"id":"è®¾è®¡æ¨¡å¼ç¬”è®°"},"buildId":"FTNOlKU7vKy2Uzqh3jIuw","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>